---
title: "Simulation"
subtitle: "Description of the simulation tab and the results generated by simulations."
format:
  html:
    toc: true
    toc-depth: 4
    toc-title: "Table of Contents"
    number-sections: true
    number-depth: 4
---

# Trial States

## State descriptions

For the purposes of interims, the different states or stages of a trial
are:

1.  **In Burn-in / before first analysis.** In adaptive allocation
    designs, the burn-in denotes the initial group of subjects
    explicitly assigned to treatment arms before probabilistic
    allocation begins. FACTS prevents the burn-in requiring more
    subjects than the maximum number of subjects – but the numbers can
    be equal. Regardless of the interim schedule specified (e.g.,
    frequency, number of subjects or number of events), a) no analyses
    are performed during this period of time, and b) the first analysis
    is performed at its conclusion. In arm dropping and early stopping
    designs the first analysis occurs at the explicitly specified
    initial interim. Interims are never performed in non-adaptive
    designs; rather, the first and only analysis occurs when the max
    subject’s final observation is taken. In all cases, it is possible
    to reach the maximum number of events prior to the first analysis,
    making the study complete.

2.  **Mid Trial**. Interims are performed and all rules assessed. If
    arms have been dropped, the per-arm posterior probabilities are
    still calculated for the dropped arms but the drop decision for the
    arms is absorbing and not re-assessed.

3.  **Fully Accrued but not complete**. All subjects have been recruited
    and being followed up. If interims are by subject or ‘interim
    analysis beyond full accrual’ is set to FALSE, then the only
    possible next event is ‘last subject final observation’.

4.  **Stopped Early but still following up.** The study stopping rules
    are not evaluated, but arm dropping rules are. Interims may still
    occur.

5.  **Complete.** All possible data collected for every enrolled
    subject.

## Analysis trigger events

The following are the events that trigger interims, stopping or changes
of trial state:

1.  Last event is observed (TTE trial with a max number of events – this
    is the only circumstance that can arise before the end of burn-in /
    first analysis that can stop the trial).

2.  A “number of subjects interim” occurs (other than last subject of
    burn-in / first analysis)

3.  A “cohort complete” interim occurs (when using cohort enrolment). A
    cohort complete event is slightly different from a “number of
    subjects interim” in that after a cohort is fully enrolled the
    interim does not occur until all the subjects are complete.

4.  Study max subject size is reached.

5.  Recruit last subject of burn-in / first analysis occurs.

6.  A “time” or “number of events” interim occurs.

7.  Last subject’s final observation is taken (in a TTE trial this might
    be that the last subject to have an event has their event, or last
    subject recruited reaches the end of the maximum follow-up and is
    censored).

## Trial State Transitions

Note: the term “study arms” is used to refer to the treatment arms that
are not the control or active comparator arm. In an arm dropping design
only the study arms can be dropped, and the trial stops if all study
arms are dropped.

<style>
 .table_wrapper{
    /* display: block; */
    overflow-x: auto;
    /* white-space: nowrap; */
    /* min-width: 1000px; */
    width: 100%;
}
</style>

<div class="table_wrapper" >
<table>
<caption><p>Figure 3‑2 Add Posterior Probability QOI
dialog</p></caption>
<!-- <colgroup>
<col style="width: 16%" />
<col style="width: 17%" />
<col style="width: 16%" />
<col style="width: 16%" />
<col style="width: 17%" />
<col style="width: 15%" />
</colgroup> -->
<thead>
<tr class="header">
<th></th>
<th colspan="5">State transition table</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Triggers</p>
<p><span style="white-space: nowrap;">Processed in order…</span></p></td>
<td><p><strong><span style="white-space: nowrap;">1: In Burn-in / before</span> first analysis</strong></p>
<p>[This is the starting state for adaptive allocation designs]</p></td>
<td><p><strong>2: Mid Trial</strong></p>
<p><span style="white-space: nowrap;">[This is the starting state</span> for arm dropping, early stopping, and
non-adaptive designs]</p></td>
<td><p><strong><span style="white-space: nowrap;">3: Fully Accrued but not</span> complete</strong></p></td>
<td><p><strong><span style="white-space: nowrap;">4: Stopped Early but following</span> up</strong></p>
<p>[This state can only be entered if “Continue follow-up if study
stopped for success/futility is set]</p></td>
<td><p><strong><span style="white-space: nowrap;">5: Complete</span></strong></p>
<p>[This is the final state]</p></td>
</tr>
<tr class="even">
<td>A: Last event is observed [can only occur in TTE trials]</td>
<td><p>A “final evaluation” is output.</p>
<p>Go to “5: Complete”</p></td>
<td><p>A “final evaluation” is output.</p>
<p>Go to “5: Complete”</p></td>
<td><p>A “final evaluation” is output.</p>
<p>Go to “5: Complete”</p></td>
<td><p>A “final evaluation” is output.</p>
<p>Go to “5: Complete”</p></td>
<td>N/A</td>
</tr>
<tr class="odd">
<td>B: A “number of subjects” interim occurs</td>
<td>N/A</td>
<td><p>An interim is output.</p>
<p>If arm dropping, check not yet dropped arms to see if any should be
dropped and flag those that are.</p>
<p>If stopping conditions are met or all study arms dropped then if
“Continue follow-up” for the appropriate decision is selected go to “4:
Stopped Early” otherwise a “final evaluation” is output and</p>
<p>Go to “5: Complete”</p>
<p>If the interim size = Max subjects then go to “3: Fully Accrued”</p>
<p>Otherwise stay in “2: Mid Trial”</p></td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
</tr>
<tr class="even">
<td>C: A “cohort complete” interim occurs [for trials using cohort
enrolment]</td>
<td><p>[Can only occur when the final observation of a burn-in cohort is
observed]</p>
<p>An interim is output.</p>
<p>If stopping conditions are met a “final evaluation” is output and go
to “5: Complete”.</p>
<p>Otherwise go to “2: Mid Trial”.</p></td>
<td><p>An interim is output.</p>
<p>If stopping conditions are met a “final evaluation” is output and go
to “5: Complete”.</p>
<p>If the interim size = Max cohort or the max cohort size is reached
then a “final evaluation” is output and go to “5: Complete”.</p>
<p>Otherwise stay in “2: Mid Trial”</p></td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td>D: Study max subject size is reached</td>
<td><p>[Can only occur if Burn-in / first interim size = Max
subjects]</p>
<p>Go to “3: Fully Accrued”.</p></td>
<td>Go to “3: Fully Accrued”</td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
</tr>
<tr class="even">
<td>E: Recruit last subject of burn-in / first analysis</td>
<td><p>An interim is output.</p>
<p>If arm dropping, check not yet dropped arms to see if any should be
dropped and flag those that are.</p>
<p>If stopping conditions are met or all study arms dropped then ff
“Continue Follow-up if study stopped“ for the appropriate decision is
set go to “4: Stopped Early but following up” otherwise a “final
evaluation” is output and go to “5: Complete”</p>
<p>Otherwise go to “2: Mid Trial”</p></td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td>F: A “time” or “number of events” interim occurs</td>
<td>N/A</td>
<td><p>An interim is output.</p>
<p>If arm dropping, check not yet dropped arms to see if any should be
dropped and flag those that are.</p>
<p>If stopping conditions are met or all study arms dropped then ff
“Continue Follow-up if study stopped“ for the appropriate decision is
set go to “4: Stopped Early but following up” otherwise a “final
evaluation” is output and go to “5: Complete”</p>
<p>Otherwise stay in “2: Mid Trial”</p></td>
<td><p>If “Discontinue interim analysis after full enrollment” is set,
then there is no output. Stay in “3: Fully Accrued”</p>
<p>Otherwise:</p>
<p>An interim is output.</p>
<p>If arm dropping, check not yet dropped arms to see if any should be
dropped and flag those that are.</p>
<p>If stopping conditions are met or all study arms dropped then ff
“Continue Follow-up if study stopped“ for the appropriate decision is
set go to “4: Stopped Early but following up” otherwise a “final
evaluation” is output and go to “5: Complete”</p>
<p>Otherwise stay in “3: Fully Accrued”</p></td>
<td><p>If “Discontinue interim analysis after full enrollment” is set
then there is no output, stay in “4: Stopped Early”</p>
<p>Otherwise:</p>
<p>An interim only checking arm-dropping is output. Stopping conditions
not checked.</p>
<p>If arm dropping, check not yet dropped arms to see if any should be
dropped and flag those that are.</p>
<p>If all study arms are dropped then if “Continue follow-up if arm
dropped” is set stay in “4: Stopped Early” otherwise a “final
evaluation” is output and go to “5: Complete”</p></td>
<td>N/A</td>
</tr>
<tr class="even">
<td>G: Last subject’s final observation is taken</td>
<td>N/A</td>
<td>N/A</td>
<td><p>A “final evaluation” is output.</p>
<p>Go to “5: Complete”</p></td>
<td><p>A “final evaluation” is output.</p>
<p>Go to “5: Complete”</p></td>
<td>N/A</td>
</tr>
</tbody>
</table>
</div>


# Simulation

The Simulation tab allows the user to execute simulations for each of
the scenarios specified for the study. The user may choose the number of
simulations, whether to execute locally or on the Grid, and modify the
random number seeds, Figure 11‑1.

N.B. Each time the FACTS application opens, the "Number of Simulations"
will be set to the number of simulations last run for this design. If
completed results are available, the *actual* number of simulations run
for each scenario is reported in the 'Num Sims' column of the results
table. The value displayed in the "Number of Simulations" control is the
number of simulations that *will be* run if the user clicks on the
'Simulate' button.

Note also that if a scenario uses an external VSR file or directory of
external files, the number of simulations will be rounded down to the
nearest complete multiple of the number of VSR lines or external files.
Unless the number of simulations requested 'S' is less than the number
of VSR lines or external files, in which case just the first S are run.
Finally note that the simulations will be performed in packets such that
each packet only uses one external VSR line or file, so packet sizes may
be smaller than requested.

![Graphical user interface Description automatically
generated](./coreUGattachments/continuous/media/image36.png){width="5.529041994750656in"
height="4.198345363079615in"}

N.B. FACTS uses Markov Chain Monte Carlo methods in the generation of
simulated patient response data and trial results. In order to exactly
reproduce a statistical set of results, it is necessary to start the
Markov Chain from an identical "Random Seed". The initial random seed
for FACTS simulations is set from the simulation tab, the first thing
that FACTS does is to draw the random number seeds to use at the start
of each simulation. It is possible to re-run a specific simulation, for
example to have more detailed output files generated, by specifying
'start at simulation'.

Say the 999^th^ simulation out of a set displayed some unusual behavior,
in order to understand why, one might want to see the individual interim
analyses for that simulation (the "weeks" file), the sampled subject
results for that simulation (the "Subjects" files) and possibly even the
MCMC samples from the analyses in that simulation. You can save the
.facts file with a slightly different name (to preserve the existing
simulation results), then run 1 simulation of the specific scenario,
specifying that the simulations start at simulation 999 and that at
least 1 weeks file, 1 subjects file and the MCMC samples file (see the
"MCMC settings" dialog) are output.

Even a small change in the random seed will produce different simulation
results.

The same random number seed is used at the start of the simulation of
each scenario. If two identical scenarios are specified then identical
simulation results will be obtained. The same may happen if scenarios or
designs only differ in ways that have no impact on the trials being
simulated, for instance designs that have no adaptation, or scenarios
that don't trigger any adaptation (e.g. none of the simulations stop
early).

The user can specify:

-   The number of simulations for which 'Weeks' files, 'Subjects' files
    and "Frequentist Weeks" files are written.

    -   'Weeks' files record the data, analysis and recommendation at
        each interim.

    -   'Subjects' files record the subject responses simulated for the
        trial.

    -   If Frequentist analysis has been enabled, then "Frequentist
        Weeks" files record the results of the frequentist analysis at
        each interim.

-   The parallelization packet size, this allows simulation jobs to be
    split into runs of no-more than the specified number of trials to
    simulate. If more simulations of a scenario are requested than can
    be done in one packet, the simulations are started as the requisite
    number of packets and the results combined and summarized when they
    are all complete -- so the final results files look just as though
    all the simulations were run as one job or packet.

-   The packet size should be a multiple of the number of any rows in
    any MVSR file used for any of the scenarios and the total number of
    simulations should be a multiple of the packet size.

-   When running simulations on the local machine FACTS enterprise
    version will process as many packets in parallel as there are
    execution threads on the local machine. The overhead of
    packetization is quite low so a packet size of 10 to 100 can help
    speed up the overall simulation process -- threads used to simulate
    scenarios that finish quicker can pick up packets for scenarios that
    take longer, if the number of scenarios is not directly divisible by
    the number of threads, packetization uses all threads until the last
    few packets have to be run and finally the "Simulations complete"
    figure can be updated at the end of each packet, so the smaller the
    packet the better FACTS can report the overall progress.

## To run simulations

Click in the check box in each of the rows corresponding the to the
scenarios to be run. FACTS displays a row for each possible combination
of the 'profiles' that have been specified: - baseline response, dose
response, longitudinal response, accrual rate and dropout rate. Or
simply click on "Select All".

Then click on the "Simulate" button.

During simulation, the user is prevented from modifying any parameters
on any other tab of the application. This safeguard ensures that the
simulation results reflect the parameters specified in the user
interface.

When simulations are started, FACTS saves all the study parameters, and
when the simulations are complete all the simulation results are saved
in results files in a "\_results" folder in the same directory as the
".facts" file. Within the "\_results" folder there will be a sub-folder
that holds the results for each scenario.

## How many simulations to run?

-   After first entering a design it is worth running just a small
    number of simulations such as 10 to check that the scenarios and
    design have been entered correctly. If all 10 simulations of a
    'null' scenario are successful, or all 10 simulations of what was
    intended to be an effective drug scenario are futile, it is likely
    there has been a mistake or misunderstanding in the specification of
    the scenarios or the final evaluation or early stopping criteria.

-   Once the design and scenarios look broadly correct, it is usually
    worth quickly collecting rough estimates of the operating
    characteristics using around 100 simulations for each scenario. 100
    simulations is enough to spot designs having very poor operating
    characteristics such as very high type-1 error, very poor power, a
    strong tendency to stop early for the wrong reason, or poor
    probability of selecting the correct target. 100 simulations is also
    usually sufficient to spot problems with the data analysis such as
    poor model fits and significant bias in the posterior estimates.

-   Typically 1,000 simulations of each scenario of interest is required
    to get estimates of the operating characteristics precise enough to
    compare designs and tune the parameters. (Very roughly rates of 5%
    (such as type-1 error) can be estimated to about +/-1.5% and rates
    of around 80% (such as power) estimated +/- 2.5%)

-   Finally around 10,000 simulations of the scenarios of interest is
    required to give confidence in operating characteristics of a design
    and possibly to select between the final shortlisted designs
    (Approximately rates of 5% can be estimated to about +/-0.5% and
    rates of around 80% estimated +/- 1%).

There may be many operating characteristics need to be compared over a
number of scenarios, such as expected sample size, type-1 error, power,
probability of selecting a good dose as the target and quality of
estimation of the dose-response.

However frequently these will be compared over a range of scenarios, it
may not be necessary to run very large number of simulations for each
scenario if a design shows a consistent advantage on the key operating
characteristics over the majority of the scenarios.

## What packet size to use?

You must specify a packet size that is a factor of the number of
simulations per scenario to run; this offers the following benefits:

-   If running locally a small packet size allows the simulation of an
    individual scenario to be divided between the different number of
    CPUs in your laptop or PC. This is beneficial because often some
    scenarios are quicker to simulate (e.g. they often stop early) than
    others**;** if simulations were being divided between cores simply
    at the scenario level, this would lead to idle cores, once the
    simulations had completed. Additionally if the number of cores did
    not directly divide into the number of scenarios there would be
    cores idle as the last scenarios were simulated.

-   The "Simulations completed" count will be updated more frequently.

-   If running on a grid then having a small packet size means the job
    can be distributed over more nodes in the grid and thus completed
    more quickly.

Note, the overhead of creating the packets and re-combining the results
is low compared to the time to run the simulations.

Packet sizes of between 10 (when running 100 simulations) and 100 (when
running 10000 simulations) are recommended.

Care should be taken when packetizing a scenario that includes an
external data file to supply the virtual subject responses; in this
situation, a of copy of the external file is included *in each packet*
which can cause the packetisation process to run out of memory as the
packets are being created. In this case, use a smaller number of larger
packets, such as packets that are 1/10^th^ of the total number of
simulations.

## MCMC Settings

To set advanced settings for simulation, the user may click the "MCMC
Settings" button, which will display a number of additional specifiable
parameters for simulation in a separate window.

![](./coreUGattachments/continuous/media/image37.png){width="2.6092705599300086in"
height="2.2039446631671042in"}

The first two values specify two standard MCMC parameters --

-   The length of burn-in is the number of the initial iterations whose
    results are discarded, to allow the MCMC chain to reach its
    equilibrium distribution.

-   The number of samples is the number of subsequent iterations whose
    results are recorded in order to give posterior estimates of the
    values of interest.

An additional MCMC parameter controls the sampling within sampling when
the analysis includes imputation from a longitudinal or predictor model:

-   The third parameter controls the number of MCMC samples taken
    between each imputation of missing data using the longitudinal
    model, the default value is 1. This parameter only has an effect if
    Bayesian imputation is being used to impute a significant proportion
    of your data. This allows the parameter estimates to converge
    somewhat for each set of imputed data, if the imputed data is only a
    small percentage of the overall data this is unnecessary. As a rough
    guide, if it at some early interims \> 5% of the data being analyzed
    will be imputed, a value in the range 2 to 10 is recommended to
    avoid underestimating the uncertainty. A higher number should be
    used the greater the proportion of imputed data.

The last two parameters concern the output of the MCMC samples to a log
file:

-   It is possible to have the design engine output the sampled values
    in the MCMC, in all of the interims of the first N simulated trials
    of each scenario by specifying the "Number of MCMC files to output"
    (setting N \> 0). The resulting files, 'mcmcNNNN.csv', will be in
    the results directory with all the other results files for that
    scenario.

-   It is also possible to reduce the size of these files by specifying
    a "thinning parameter".

## FACTS Grid Simulation Settings

A user with access to a computational grid, may choose to run
simulations on the grid instead of running them locally. This frees the
user's computer from the computationally intensive task of simulating so
that they can continue other work or even shutdown their PC or laptop.
In order to run simulations on the grid, it must first be configured,
this is normally done via a configuration file supplied with the FACTS
installation by the IT group responsible for the FACTS installation.

## Simulation Results

In the center of the simulation tab, the summary simulation results are
displayed. There are many columns of results, these are now organized
into related groups of sub-windows, which can be displayed by clicking
on the "Show other Columns" button.

![](./coreUGattachments/continuous/media/image38.png){width="1.2078937007874015in"
height="1.2707327209098862in"}

These windows will show:

All all the columns

Highlights the columns shown on the main tab.

Allocation the columns that report of subject recruitment and allocation

Response the columns that report that estimate treatment response, the
SD of the estimate, the estimate of the SD of the response, the true
treatment response and the true SD of the response.

Probabilities the proportion of times for each dose that it met the
different target criteria (Max, EDx & MED) and the posterior
probabilities for each dose that its treatment response is better than
control, better than control by the CSD and better than the active
comparator.

Stopping Rules the proportion of times the different stopping criteria
were met

Model Parameters the columns that report the estimates of the values of
the model parameters.

Simulation Results A window that displays the individual simulation
results for the currently selected scenario.

Frequentist results If frequentist analysis is enabled, the summary
results can be viewed, these are grouped by how missing data has been
treated: Last Observation Carried Forward (LOCF), Baseline Observation
Carried Forward (BOCF -- if baseline has been simulated), Per-Protocol
(PP).

## Right Click Menu

Clicking the Right-hand mouse button on a row in the simulations tab
brings up a short cut menu:

![](./coreUGattachments/continuous/media/image39.png){width="1.6892858705161855in"
height="1.0002351268591425in"}

These will respectively:

-   Open a new Windows directory browser window showing the contents of
    the simulation results for that scenario.

-   Open a window that displays the individual simulation results for
    that scenario. The results initially displayed are the 'highlights'
    columns, similarly to the summary results (see below) the results
    columns are collected into sub-groups, windows of these subgroups
    can be opened from the Right Click menu of the Simulation Results
    highlights window.

-   Open a window that displays the frequentist analysis summary
    results. This option is only available if one or more frequentist
    analyses have been selected on the Design \> Frequentist Analysis
    tab. (If more than one analysis has been requested -- using
    different treatments of missing data there will be separate options
    in the menu to display each summary).

-   Open R loading in the result files for that scenario as separate
    dataframes.

-   Opens the FACTS graph control displaying the graphs for that
    scenario.

-   Opens the FACTS graph control that displays the trellis plot of
    graphs of selected scenarios for selected design variants.

## Open in R

If aggregated results files have been created then the Open in R button
will start R and load the aggregated '.csv' files.

If there are no aggregated files then the results files of the currently
selected scenario are loaded. R can also be opened in this fashion by
right clicking on a row in the simulation results table.

When FACTS starts R it writes out an R auto run startup script that
loads the csv files into R as separate dataframes.

## Aggregation

Aggregation combines the csv output from multiple scenarios into fewer
csv files. The Aggregate... button displays a dialog which allows the
user to select what to aggregate.

![](./coreUGattachments/continuous/media/image40.png){width="5.177083333333333in"
height="4.281936789151356in"}

The default location for the aggregated files is the results directory
for the study, but this can be changed.

Aggregation may be performed with or without pivoting on group, or both.

-   Unpivoted files will have one row for each row in the original
    files.

-   In pivoted files each original row will be split into one row per
    dose.

    -   Where there is a group of columns for each dose, they will be
        turned into a single column with each value on a new row.

    -   Values in columns that are independent of dose will be repeated
        on each row.

The default is to aggregate all scenarios, but any combination may be
selected.

Pressing "Aggregate" generates the aggregated files.

Each type of csv file is aggregated into a separate csv file whose name
begins agg\_ or agg_pivot\_, so agg_summary.csv will contain the rows
from each of the summary.csv files, unpivoted. WeeksNNNNN.csv files are
aggregated into a single agg\_\[pivot\_\]weeks.csv file.
PatientsNNNNN.csv files are aggregated into a single agg_patients.csv
file, but they are never pivoted because each row already refers to a
single dose. Similarly the various frequentist results at the summary,
simulation and weeks level are aggregated (if they've been output).

RegionIndex.csv is not aggregated.

Each aggregated file begins with the following extra columns, followed
by the columns from the original csv file:

  -----------------------------------------------------------------------
  Column Name          Comments
  -------------------- --------------------------------------------------
  Scenario ID          Index of the scenario

  Recruitment Profile  A series of columns containing the names of the
                       various profiles used to construct the scenario.
                       Columns that are never used are omitted (e.g.
                       External Subjects Profile if there are no external
                       scenarios)

  Dropouts Profile

  Longitudinal Rates
  Profile

  Dose Response
  Profile

  External Subjects
  Profile

  Agg Timestamp        Date and time when aggregation was performed

  P(TS)                Proportion of trial success (early success + late
                       success)

  P(TF)                Proportion of trial futility (early futility +
                       late futility)

  Sim                  Simulation number. Only present in weeks and
                       patients files.

  Dose                 Only present if pivoted
  -----------------------------------------------------------------------

  : Figure 4‑1: The FACTS Core Continuous Opening Screen

## Design Report

This button becomes enabled once there are simulation results, it uses
an R script and R libraries to generate a MS Word document describing
the design.

See the FACTS Design Report User Guide for details of what R packages
need installing, how FACTS needs configuring to use the correct R
instance, how the generate_report() function is run, and where the
resulting report can be found.

# The summary results columns

## Highlights

These are the columns displayed on the simulations tab after simulations
are completed, the can also be displayed in the separate "Highlights"
results window.

+----------+---------+------------------------------------------------+
| Column   | Number  | Description                                    |
| Title    | of      |                                                |
|          | columns |                                                |
+==========+=========+================================================+
| Select   | 1       | Not an output column, this column contains     |
|          |         | check box to allow the user to select which    |
|          |         | scenario to simulate. The 'Select All' button  |
|          |         | causes them all to be checked.                 |
+----------+---------+------------------------------------------------+
| Status   | 1       | This column reports on the current status of   |
|          |         | simulations: Completed, Running, No Results,   |
|          |         | Out of date, Error. It is updated              |
|          |         | automatically.                                 |
+----------+---------+------------------------------------------------+
| Scenario | 1       | This column gives the name of the scenario,    |
|          |         | concatenating together the profile names from  |
|          |         | the following tabs:                            |
|          |         |                                                |
|          |         | 'Execution \> Accrual',                        |
|          |         |                                                |
|          |         | 'Execution \> Dropout Rate',                   |
|          |         |                                                |
|          |         | 'Virtual Subject Response \> Composite,        |
|          |         |                                                |
|          |         | This is the same name as used for the results  |
|          |         | directory                                      |
+----------+---------+------------------------------------------------+
| Num Sims | 1       | The number of simulations that were run to     |
|          |         | produce the displayed results.                 |
+----------+---------+------------------------------------------------+
| Random   | 1       | Base random number seed used to perform the    |
| Number   |         | simulations.                                   |
| Seed     |         |                                                |
+----------+---------+------------------------------------------------+
| Mean     | 1       | This is the mean (over the simulations) of the |
| Subj.    |         | number of subjects recruited in this scenario. |
+----------+---------+------------------------------------------------+
| Ppn      | 1       | This is the proportion of simulations that     |
| Overall  |         | stopped for success, either early success or   |
| Success  |         | late success (as defined below).               |
+----------+---------+------------------------------------------------+
| Ppn      | 1       | This is the proportion of simulations that     |
| Early    |         | stopped early for success (and did not regress |
| Success  |         | to futility in the final analysis -- though    |
|          |         | they might have regressed to 'inconclusive').  |
+----------+---------+------------------------------------------------+
| Ppn Late | 1       | This is the proportion of simulations that did |
| Success  |         | not stop early but were successful in the      |
|          |         | final analysis.                                |
+----------+---------+------------------------------------------------+
| Ppn      | 1       | This is the proportion of simulations that     |
| Overall  |         | stopped for futility, either early futility or |
| Futility |         | late futility (as defined below).              |
+----------+---------+------------------------------------------------+
| Ppn Late | 1       | This is the proportion of simulations that did |
| Futility |         | not stop early but were futile in the final    |
|          |         | analysis.                                      |
+----------+---------+------------------------------------------------+
| Ppn      | 1       | This is the proportion of simulations that     |
| Early    |         | stopped early for futility (and did not        |
| Futility |         | regress to success in the final analysis --    |
|          |         | though they might have regressed to            |
|          |         | 'inconclusive').                               |
+----------+---------+------------------------------------------------+
| Ppn      | 1       | This is the proportion of simulations that     |
| S        |         | stopped early for success but regressed to     |
| uc-\>Fut |         | futility in the final analysis.                |
| Flipflop |         |                                                |
+----------+---------+------------------------------------------------+
| Ppn      | 1       | This is the proportion of simulations that     |
| F        |         | stopped early for futility but regressed to    |
| ut-\>Suc |         | success in the final analysis.                 |
| Flipflop |         |                                                |
+----------+---------+------------------------------------------------+
| Ppn      | 1       | This is the proportion of simulations that did |
| Inco     |         | not stop early and were neither successful nor |
| nclusive |         | futile in the final analysis.                  |
+----------+---------+------------------------------------------------+
| Early    | 1       | This is the average time to an early decision  |
| Success  |         | to stop for success (i.e. the time excluding   |
| Time     |         | final follow up) over those simulations that   |
|          |         | did decide early to stop for success.          |
+----------+---------+------------------------------------------------+
| Mean     | One per | This is the mean (over the simulations) of the |
| Trt.:    | arm     | estimate of the mean response on this dose.    |
| \<Dose\> |         |                                                |
+----------+---------+------------------------------------------------+
| Mean     | 1       | This is the mean, in weeks (over the           |
| Duration |         | simulations) of the duration of the trial from |
|          |         | first patient first visit to last patient last |
|          |         | visit                                          |
+----------+---------+------------------------------------------------+
| PPn Arms | One per | This is the number of times (over the          |
| Drop:    | arm     | simulations) that each arm was dropped.        |
| \<       |         |                                                |
| Dose\>\> |         |                                                |
+----------+---------+------------------------------------------------+
| Mean LP  | 1       | This is the mean, in weeks (over the           |
| Enrolled |         | simulations) of the duration of the trial from |
|          |         | first patient first visit to Last Patient      |
|          |         | First Visit (i.e. the duration of accrual).    |
+----------+---------+------------------------------------------------+
| Ppn      | 1       | The proportion of simulations that met the     |
| Correct  |         | success criteria and selected (by the target   |
| Arm      |         | QOI specified on the Study \> Variant tab) one |
|          |         | of the arms marked as "should succeed" on the  |
|          |         | Virtual Subject Response \> Explicitly Defined |
|          |         | \> Dose Response tab                           |
+----------+---------+------------------------------------------------+
| Ppn      | 1       | The proportion of simulations that met the     |
| I        |         | success criteria and selected (by the target   |
| ncorrect |         | QOI specified on the Study \> Variant tab) one |
| Arm      |         | of the arms **not** marked as "should succeed" |
|          |         | on the Virtual Subject Response \> Explicitly  |
|          |         | Defined \> Dose Response tab                   |
+----------+---------+------------------------------------------------+
| Version  | 1       | The FACTS version number at the time the       |
|          |         | simulations were run.                          |
+----------+---------+------------------------------------------------+

: Figure 4‑2: Tab layout of FACTS

## Allocation

+----------+---------+------------------------------------------------+
| Column   | Number  | Description                                    |
| Title    | of      |                                                |
|          | columns |                                                |
+==========+=========+================================================+
| Status   | 1       | This column reports on the current status of   |
|          |         | simulations: Completed, Running, No Results,   |
|          |         | Out of date, Error. It is updated              |
|          |         | automatically.                                 |
+----------+---------+------------------------------------------------+
| Scenario | 1       | This column gives the name of the scenario,    |
|          |         | concatenating together the profile names from  |
|          |         | the following tabs:                            |
|          |         |                                                |
|          |         | 'Execution \> Accrual',                        |
|          |         |                                                |
|          |         | 'Execution \> Dropout Rate',                   |
|          |         |                                                |
|          |         | 'Virtual Subject Response \> Composite,        |
|          |         |                                                |
|          |         | This is the same name as used for the results  |
|          |         | directory                                      |
+----------+---------+------------------------------------------------+
| Mean     | 1       | This is the mean (over the simulations) of the |
| Subj.    |         | number of subjects recruited in this scenario. |
+----------+---------+------------------------------------------------+
| SD Mean  | 1       | This is the standard deviation across the      |
| Subj.    |         | simulations of the number of subjects          |
|          |         | recruited.                                     |
+----------+---------+------------------------------------------------+
| Num Subj | 1       | This is the eightieth percentile across the    |
| 80%      |         | simulations of the number of subjects          |
|          |         | recruited into the trial.                      |
+----------+---------+------------------------------------------------+
| Mean     | One per | This is the mean (over the simulations) of the |
| Alloc.:  | arm     | number of subjects recruited into each arm in  |
| \<Dose\> |         | this scenario.                                 |
+----------+---------+------------------------------------------------+
| SD       | One per | This is the SD (over the simulations) of the   |
| Alloc.:  | arm     | number of subjects allocated to each treatment |
| \<Dose\> |         | arm.                                           |
+----------+---------+------------------------------------------------+

: Figure 4‑3 - The \'Notes\' button

## Response

+----------+---------+------------------------------------------------+
| Column   | Number  | Description                                    |
| Title    | of      |                                                |
|          | columns |                                                |
+==========+=========+================================================+
| Status   | 1       | This column reports on the current status of   |
|          |         | simulations: Completed, Running, No Results,   |
|          |         | Out of date, Error. It is updated              |
|          |         | automatically.                                 |
+----------+---------+------------------------------------------------+
| Scenario | 1       | This column gives the name of the scenario,    |
|          |         | concatenating together the profile names from  |
|          |         | the following tabs:                            |
|          |         |                                                |
|          |         | 'Execution \> Accrual',                        |
|          |         |                                                |
|          |         | 'Execution \> Dropout Rate',                   |
|          |         |                                                |
|          |         | 'Virtual Subject Response \> Composite,        |
|          |         |                                                |
|          |         | This is the same name as used for the results  |
|          |         | directory                                      |
+----------+---------+------------------------------------------------+
| Mean     | One per | This is the mean (over the simulations) of the |
| Trt.:    | arm     | estimate of the mean response on this dose.    |
| \<Dose\> |         |                                                |
+----------+---------+------------------------------------------------+
| SD Trt.: | One per | This is the standard deviation (over the       |
| \<Dose\> | arm     | simulations) of the estimate of the response   |
|          |         | on this dose.                                  |
+----------+---------+------------------------------------------------+
| Mean     | 1       | The mean (over the simulations) of the         |
| Sigma    |         | estimate of the SD of the dose response across |
|          |         | all the treatment arms ('sigma')               |
+----------+---------+------------------------------------------------+
| SD Mean  | 1       | The SD (over the simulations) of the estimate  |
| Sigma    |         | of the SD of the dose response across all the  |
|          |         | treatment arms.                                |
+----------+---------+------------------------------------------------+
| True     | One per | This is the true mean response from which the  |
| Mean     | arm     | simulation data was sampled for each treatment |
| Resp:    |         | arm.                                           |
| \<Dose\> |         |                                                |
+----------+---------+------------------------------------------------+
| SD True  | One per | This is the true SD of the dose response for   |
| Resp.:   | arm     | each treatment arm                             |
| \<Dose\> |         |                                                |
+----------+---------+------------------------------------------------+
| Mean     | One per | These are only calculated and written out if   |
| Longmod  | arm per | the Time Course Hierarchical or ITP            |
| Resp:    | visit   | longitudinal models are being used.            |
| \<Dose\> |         |                                                |
| \        |         | This is the mean (over the simulations) of the |
| <Visit\> |         | estimate of the mean response for a particular |
|          |         | dose at a particular visit, based on the       |
|          |         | independent estimate of the dose response      |
|          |         | (omega_d), scaled by the longitudinal model\'s |
|          |         | estimate of the proportion of the final effect |
|          |         | observed at the visit.                         |
+----------+---------+------------------------------------------------+
| SD Mean  | One per | This is the SD ( over the simulations) of the  |
| Longmod  | arm per | longitudinal model estimate of the response at |
| Resp:    | visit   | intermediate visits (see above)                |
| \<Dose\> |         |                                                |
| \        |         |                                                |
| <Visit\> |         |                                                |
+----------+---------+------------------------------------------------+
| Mean     |         | This is the mean (over the simulations) of the |
| Baseline |         | estimate of "Beta" in the Baseline Adjusted    |
| Beta     |         | dose response model.                           |
+----------+---------+------------------------------------------------+
| SD       |         | This is the SD (over the simulations) of the   |
| Baseline |         | estimate of "Beta" in the Baseline Adjusted    |
| Beta     |         | dose response model.                           |
+----------+---------+------------------------------------------------+
| Mean     | 1       | This is the mean (over the simulations) of the |
| Baseline |         | estimate of the mean baseline score.           |
+----------+---------+------------------------------------------------+
| SD       | 1       | This is the SD (over the simulations) of the   |
| Baseline |         | estimate of the mean baseline score.           |
+----------+---------+------------------------------------------------+
| True     | 1       | This is the true mean from which baseline      |
| Mean     |         | scores where simulated (including accounting   |
| Baseline |         | for possible truncation of the baseline        |
|          |         | scores)                                        |
+----------+---------+------------------------------------------------+
| True SD  | 1       | This is the true SD of the distribution from   |
| Baseline |         | which baseline scores were simulated           |
|          |         | (including accounting for possible truncation  |
|          |         | of the baseline scores)                        |
+----------+---------+------------------------------------------------+

: Figure 4‑4 - Example design notes

## Observed

+----------+---------+------------------------------------------------+
| Column   | Number  | Description                                    |
| Title    | of      |                                                |
|          | columns |                                                |
+==========+=========+================================================+
| Status   | 1       | This column reports on the current status of   |
|          |         | simulations: Completed, Running, No Results,   |
|          |         | Out of date, Error. It is updated              |
|          |         | automatically.                                 |
+----------+---------+------------------------------------------------+
| Scenario | 1       | This column gives the name of the scenario,    |
|          |         | concatenating together the profile names from  |
|          |         | the following tabs:                            |
|          |         |                                                |
|          |         | 'Execution \> Accrual',                        |
|          |         |                                                |
|          |         | 'Execution \> Dropout Rate',                   |
|          |         |                                                |
|          |         | 'Virtual Subject Response \> Composite,        |
|          |         |                                                |
|          |         | This is the same name as used for the results  |
|          |         | directory                                      |
+----------+---------+------------------------------------------------+
| Mean     | One per | This is the mean (over the simulations) of the |
| Complete | arm     | number of subjects recruited per arm which     |
| \<Dose\> |         | have had their endpoint observed in this       |
|          |         | scenario.                                      |
+----------+---------+------------------------------------------------+
| Mean     | One per | This is the mean (over the simulations) of     |
| Complete | arm     | information observed per arm as defined on the |
| Info     |         | Interims tab (Subjects enrolled, Complete Data |
| \<Dose\> |         | at Specified Visit, Opportunity to Complete at |
|          |         | Specified Visit) in this scenario.             |
+----------+---------+------------------------------------------------+
| Mean     | One per | This is the mean (over the simulations) of     |
| Dropouts | arm per | dropouts per arm per visit in this scenario.   |
| \<Dose\> | visit   |                                                |
| \        |         |                                                |
| <Visit\> |         |                                                |
+----------+---------+------------------------------------------------+

: Figure 6‑1: Webservice Configuration

## Probabilities

+----------+---------+------------------------------------------------+
| Column   | Number  | Description                                    |
| Title    | of      |                                                |
|          | columns |                                                |
+==========+=========+================================================+
| Status   | 1       | This column reports on the current status of   |
|          |         | simulations: Completed, Running, No Results,   |
|          |         | Out of date, Error. It is updated              |
|          |         | automatically.                                 |
+----------+---------+------------------------------------------------+
| Scenario | 1       | This column gives the name of the scenario,    |
|          |         | concatenating together the profile names from  |
|          |         | the following tabs:                            |
|          |         |                                                |
|          |         | 'Execution \> Accrual',                        |
|          |         |                                                |
|          |         | 'Execution \> Dropout Rate',                   |
|          |         |                                                |
|          |         | 'Virtual Subject Response \> Composite,        |
|          |         |                                                |
|          |         | This is the same name as used for the results  |
|          |         | directory                                      |
+----------+---------+------------------------------------------------+
| \<QOI\>  | One per | For each Posterior Probability and Predictive  |
| \<Dose\> | arm per | Probability QOI defined on this endpoint, this |
|          | QOI     | is the mean over the simulations of the        |
|          |         | estimate of the probability of the QOI for     |
|          |         | each dose. (P-value QOIs are reported in the   |
|          |         | frequentist results table).                    |
|          |         |                                                |
|          |         | For each Target QOI this is the proportion of  |
|          |         | simulations where this dose was selected at    |
|          |         | the end of the trial as the dose with the      |
|          |         | greatest probability of meeting the target     |
|          |         | condition.                                     |
|          |         |                                                |
|          |         | The probability that each dose is the target   |
|          |         | at the end of a simulated trial is its         |
|          |         | marginal probability (the number of times it   |
|          |         | was the dose closest to the target in the MCMC |
|          |         | sampling of the analysis at the end of the     |
|          |         | trial). The target of having the Max response  |
|          |         | on this endpoint, or some fraction of it (EDq) |
|          |         | is always identifiable, so the Ppn(target) for |
|          |         | these QOIs will sum to 1 across the doses.     |
|          |         |                                                |
|          |         | An MED target is not guaranteed to be          |
|          |         | identifiable, if no dose meets the CSD         |
|          |         | criteria in any MCMC sample so all doses have  |
|          |         | a 0 probability of having a response greater   |
|          |         | than Control (or AC) by the CSD then no dose   |
|          |         | is the MED. So the sum of each Ppn(target) QOI |
|          |         | across the doses should sum to between 0 and 1 |
|          |         | inclusive.                                     |
|          |         |                                                |
|          |         | Decision QOI's are not reported here           |
|          |         | separately, but their component QOIs -- the    |
|          |         | vector of values and target QOI used to select |
|          |         | from them are.                                 |
+----------+---------+------------------------------------------------+

: Figure 6‑2 The R Configuration Dialog

## Model Parameters

+----------+---------+------------------------------------------------+
| Column   | Number  | Description                                    |
| Title    | of      |                                                |
|          | columns |                                                |
+==========+=========+================================================+
| Status   | 1       | This column reports on the current status of   |
|          |         | simulations: Completed, Running, No Results,   |
|          |         | Out of date, Error. It is updated              |
|          |         | automatically.                                 |
+----------+---------+------------------------------------------------+
| Scenario | 1       | This column gives the name of the scenario,    |
|          |         | concatenating together the profile names from  |
|          |         | the following tabs:                            |
|          |         |                                                |
|          |         | 'Execution \> Accrual',                        |
|          |         |                                                |
|          |         | 'Execution \> Dropout Rate',                   |
|          |         |                                                |
|          |         | 'Virtual Subject Response \> Composite,        |
|          |         |                                                |
|          |         | This is the same name as used for the results  |
|          |         | directory                                      |
+----------+---------+------------------------------------------------+
| Mean     | 1       | This is the mean (over the simulations) of the |
| Sigma    |         | posterior estimate of sigma, the SD in the     |
|          |         | subject's final responses.                     |
+----------+---------+------------------------------------------------+
| SD Mean  | 1       | This is the SD (over the simulations) of the   |
| Sigma    |         | estimate of sigma.                             |
+----------+---------+------------------------------------------------+
| Mean     | 1       | This is the mean (over the simulations) of the |
| Baseline |         | estimate of the Beta parameter when Baseline   |
| Beta     |         | Adjustment is Modeled.                         |
+----------+---------+------------------------------------------------+
| SD       | 1       | This is the SD (over the simulations) of the   |
| Baseline |         | estimate of the Beta parameter when Baseline   |
| Beta     |         | Adjustment is Modeled.                         |
+----------+---------+------------------------------------------------+
| BAC Mean | 1       | This is the mean (over the simulations) of the |
|          |         | posterior estimate of the mean of the Bayesian |
|          |         | Augmented Control (Hierarchical Prior)         |
|          |         | distribution of mean control responses.        |
+----------+---------+------------------------------------------------+
| SD BAC   | 1       | This is the SD (over the simulations) of the   |
| Mean     |         | posterior estimate of the mean of the Bayesian |
|          |         | Augmented Control (Hierarchical Prior)         |
|          |         | distribution of mean control responses.        |
+----------+---------+------------------------------------------------+
| BAC Tau  | 1       | This is the mean (over the simulations) of the |
|          |         | posterior estimate of the SD of the Bayesian   |
|          |         | Augmented Control (Hierarchical Prior)         |
|          |         | distribution of mean control responses.        |
+----------+---------+------------------------------------------------+
| SD BAC   | 1       | This is the SD (over the simulations) of the   |
| tau      |         | posterior estimate of the SD of the Bayesian   |
|          |         | Augmented Control (Hierarchical Prior)         |
|          |         | distribution of mean control responses.        |
+----------+---------+------------------------------------------------+
| BAAC     | 1       | This is the mean (over the simulations) of the |
| Mean     |         | posterior estimate of the mean of the Bayesian |
|          |         | Augmented Active Comparator (Hierarchical      |
|          |         | Prior) distribution of mean active comparator  |
|          |         | responses.                                     |
+----------+---------+------------------------------------------------+
| SD BAAC  | 1       | This is the SD (over the simulations) of the   |
| Mean     |         | posterior estimate of the mean of the Bayesian |
|          |         | Augmented Active Comparator (Hierarchical      |
|          |         | Prior) distribution of mean control responses. |
+----------+---------+------------------------------------------------+
| BAAC Tau | 1       | This is the mean (over the simulations) of the |
|          |         | posterior estimate of the SD of the Bayesian   |
|          |         | Augmented Active Comparator (Hierarchical      |
|          |         | Prior) distribution of mean active comparator  |
|          |         | responses.                                     |
+----------+---------+------------------------------------------------+
| SD BAAC  | 1       | This is the SD (over the simulations) of the   |
| tau      |         | posterior estimate of the SD of the Bayesian   |
|          |         | Augmented Active Comparator (Hierarchical      |
|          |         | Prior) distribution of mean active comparator  |
|          |         | responses.                                     |
+----------+---------+------------------------------------------------+

: Figure 6‑3 Adding a link to R

# Graphs of Simulation Results

To enable swift visualization and analysis of the simulation results,
FACTS has a number of pre-defined graphs it can display. Full and
detailed simulation results are available in 'csv' format files that can
be loaded into other analysis tools allowing any aspect of the
simulation to be explored. These files are described in Section 16,
below.

To view the graphs, select a row of scenario results by clicking on it
and then click on the 'View Graph' button.

Below we have often shown full screen shots of the graphs in the graph
manager, but the graph display supports copying just the graph to the
clipboard to facilitate pasting them into documents and presentations.
Right clicking on a graph brings up a short menu that allows the image
of the graph to be copied to the clipboard or saved in 'png' format to a
file.

## Per Scenario Graphs

To view the graphs of the results of the simulations of a particular
design variant in a particular scenario, select that row of scenario
results by clicking on it and then click on the 'View Graph' button and
select "Show Per Scenario Graphs".

The graph display supports copying an image of the graph to the
clipboard, to facilitate pasting them into documents and presentations.
Right clicking on a graph brings up a short menu that allows the image
of the graph to be copied to the clipboard or saved in '.png' format to
a file.

Many graphs have a number of controls to allow the graph to be tailored,
standard graph controls available on most graphs are:

-   Set Y axis -- this displays a dialog boxing allowing the user to fix
    the minimum and maximum of each of the Y axes and the number of
    'tick' marks. (Not displayed if the 'y' value must lie in the
    interval 0-1.

-   Space doses evenly -- if the x-value is 'dose', then data for each
    dose can either be spaced equally or proportionate to the doses'
    effective dose strength.

-   If using a 2D treatment arm model then it is possible to display
    graphs where the different doses (or "arms") form the x-axis, then
    there is an option to show the row factors as separate series --
    otherwise the different combinations are displayed in effective
    strength order

  ------------------------------------------------------------------------------------------------------------------------------------------------------------
  Arms shown in effective strength order                                         Arms shown with row factors as a separate series
  ------------------------------------------------------------------------------ -----------------------------------------------------------------------------
  ![](./coreUGattachments/continuous/media/image41.png){width="3.2150120297462816in" height="2.313163823272091in"}
  ![](./coreUGattachments/continuous/media/image42.png){width="3.201952099737533in"  height="2.3225984251968503in"}

  ------------------------------------------------------------------------------------------------------------------------------------------------------------

  : Figure 6‑4 Enabling analytics

## Across Scenario Graphs

To view multiple graphs showing the results of the simulations of
possibly all the design variants and all the scenarios click on the
'View Graph' button and select "Show Across Scenario Graphs". This
launches a graph display that displays multiple graphs in a trellis
plot. You can select the graph type, filter the design variants and
filter which scenarios displayed:

![](./coreUGattachments/continuous/media/image43.png){width="2.9705358705161853in"
height="2.5262040682414697in"}

## Box and whisker plot conventions

-   The mean probability is plotted as a large dot.

-   The median value is plotted as a dashed line.

-   The 25-75^th^ quantile range is plotted as the "box" portion of each
    point.

-   The "whiskers" extend to the largest and smallest values within 1 ½
    times the interquartile range from either end of the box.

-   Points outside the whisker range are considered outliers, and are
    plotted as small blue dots. Note that it may be difficult to see all
    of these symbols if they are plotted at the same value.

# Per Scenario Graphs

## Allocation Box and Whisker Plot

![](./coreUGattachments/continuous/media/image44.png){width="5.094032152230971in"
height="4.6941590113735785in"}

This graph displays a box and whisker plot of the number of subjects
recruited into each arm. These plots show:

-   The distribution over all simulations of the number of subjects
    allocated to each arm shown as a box and whisker plot. If the design
    is not adaptive, the number allocated will be the same in every
    simulation and the box and whiskers collapse to a single line.

## Response and Subject Allocation

::: {.panel-tabset}

### Continuous

![](./coreUGattachments/continuous/media/image45.png){}

### Dichotomous

![](./coreUGattachments/dichotomous/media/image41.png){}

:::

This graph shows for each treatment arm, the mean subject allocation,
mean response and the 2.5%-97.5% boundaries of the estimated means over
the simulations.

-   The blue bars show the mean number of subjects allocated.

-   The black line shows the true mean response being simulated.

-   The green dashed line shows the mean of the estimated response
    across the simulations

-   The green 'error bars' show the spread of the central 95% of the
    estimated mean response across the simulations (if less than 20
    simulations have been run it simply shows the full spread).


## Response and Target Selection graphs

::: {.panel-tabset}

### Continuous

![](./coreUGattachments/continuous/media/image46.png){}

### Dichotomous

![](./coreUGattachments/dichotomous/media/image42.png){}

:::

These plots show the true simulated mean response and the mean and 95%
spread of the mean fitted mean responses along with bars showing the
proportion of simulations the different treatment arms are the selected
target arm for each of the "Probability of being target" QOIs, such as
[Pr(Max)]{.fake-code-block}, [Pr(EDq relative to ..: Quantile=q)]{.fake-code-block} and [Pr(MED relative to...: Delta=$\delta$)]{.fake-code-block}.

## Per Dose QOIs (Box and Whisker Plots)

This set of graphs show the distribution over the simulations of the
posterior probability estimates of quantities of interest for each dose.
All the Posterior Probability, Predictive Probability, P-value and
Probability of being Target QOIs that have been defined are available
for plotting, via a drop down list.

Note that in any one analysis the Probability of being Target will sum
to 1 across the doses (and can sum to less than one in the case of the
MED target if none of the doses look likely to be better than the CSD),
whereas all the other QOIs are assessed individually for each dose.

::: {.panel-tabset}

### Continuous

:::: {layout-ncol=2}

![](./coreUGattachments/continuous/media/image47.png){}

![](./coreUGattachments/continuous/media/image48.png){}

::::

### Dichotomous

:::: {layout-ncol=2}

![](./coreUGattachments/dichotomous/media/image43.png){}

![](./coreUGattachments/dichotomous/media/image44.png){}

::::

:::

## Target Response by Sample Size Scatter Plot

![](./coreUGattachments/continuous/media/image49.png){}

This graph shows a scatter plot of trial outcomes with the selected
Target QOI as the y-axis and total number of subjects recruited as the
x-axis. The trials are plotted with a symbol that indicated the final
outcome:

-   A light blue circle indicates a trial that stopped early for success

-   A dark blue circle indicates a trial that was a late success

-   A dark red square indicates a trial that was a late futility

-   A light red square indicates a trial that stopped early for futility

-   A light pink diamond indicates a trial that stopped early for
    success but where the final analysis was futility

-   A dark pink diamond indicates a trial that stopped early for
    futility but where the final analysis was success

-   A yellow cross indicates a trial that completed full enrolment but
    was inconclusive at the end.

These graphs are not particularly useful if there is no early stopping.

If the design does allow early stopping this graph shows

-   The overall distribution of sample sizes -- in particular is
    stopping evenly distributed from the moment stopping is possible, or
    is there are large cohort of trials that stop as soon as it is
    possible?

-   When and with what mean response trials stop incorrectly, in
    particular having trials stopping and the decision being reversed
    suggests stopping is allowed to soon or the criteria is not
    conservative enough.

## Cumulative Operating Characteristics Plot

:::{layout-ncol=2}

![](./coreUGattachments/continuous/media/image50.png){}

![](./coreUGattachments/continuous/media/image51.png){}

:::

There are two graphs, one that shows the cumulative proportion of
durations across all simulations, and the other shows the cumulative
proportion of subjects across all simulations.

## Time course for stopping

There are two graphs, one that shows the distribution over time for
stopping for futility and one for stopping for success.

:::{layout-ncol=2}

![](./coreUGattachments/continuous/media/image52.png){}

![](./coreUGattachments/continuous/media/image53.png){}

:::

These plots show as cumulative curves the proportion of the simulations
that stopped at different time points from the start of the trial. The
user can select whether time or subject enrollment is used as the
x-axis.

## Arm Dropping Graphs

If the design has used arm dropping, the following graphs are available.

### Response and Ppn Arms Dropped

:::{.panel-tabset}

### Continuous

![](./coreUGattachments/continuous/media/image54.png){}

### Dichotomous

![](./coreUGattachments/dichotomous/media/image50.png){}

:::

This graph shows the true (simulated) mean response and the average
fitted response with 2.5% & 97.5% quantiles.

The histogram bars show for each arm the proportion of simulations for
which the arm was dropped.

### Time Course for Arm Dropping

This graph shows, for each arm, the cumulative proportion of simulations
when it was dropped. The user can select whether time or number of
subjects allocated to the arm is used as the x-axis.

![](./coreUGattachments/continuous/media/image55.png){}

### Time Course for Arm retention

This graph shows, for each arm, the cumulative proportion of simulations
when the arm was retained. The user can select whether time or number of
subjects allocated to the arm is used as the x-axis. This is simply the
inverse of the arm dropping graph above.

![](./coreUGattachments/continuous/media/image56.png){}

### Arm Retention Proportion

This graph shows, for each arm, the simple proportion of simulations
where the arm was retained.

![](./coreUGattachments/continuous/media/image57.png){}

## Frequentist

These graphs are available if frequentist analysis is enabled.

### Frequentist P(significance)

These graphs are the box and whisker plots of various p-values that are
automatically calculated (that is to say they do not need to be defined
as QOIs for them to be calculated) for the final analysis. The user can
select from Unadjusted, Bonferroni and Dunnett\'s and LOCF, BOCF (if
baseline is simulated) or PP (per-protocol) treatment of missing values.

![](./coreUGattachments/continuous/media/image58.png){width="5.028139763779528in"
height="4.633438320209974in"}

### Frequentist: Response and Significance

This graph plots the mean and 2.5-97.5 percentile of the mean across the
simulations or the simple frequentist estimate of the response for each
arm, along with a histogram plot of the ppn of times the response on
each arm was significant. The user can select from Unadjusted,
Bonferroni or Dunnett's and LOCF, BOCF (if baseline is simulated) or PP
(per-protocol) treatment of missing values.

:::{.panel-tabset}

### Continuous

![](./coreUGattachments/continuous/media/image59.png){}

### Dichotomous

![](./coreUGattachments/dichotomous/media/image54.png){}

:::

## Per Sim: Response and Subject Alloc

This graph shows the final analysis at the end of individual
simulations.

:::{.panel-tabset}

### Continuous

![](./coreUGattachments/continuous/media/image60.png){}

### Dichotomous

![](./coreUGattachments/dichotomous/media/image55.png){}

:::

This graph includes a control that allows the user to select which
simulation to graph the results from. On each graph

-   The black line shows the 'True' mean response being simulated.

-   The brown circles and arms show the mean raw data and its 95% CI for
    each arm.

-   The green solid line shows the estimate of the mean response.

-   The green dashed lines show the boundaries of the 95% credible
    interval for the estimate of the response.

-   Blue bars showing the number of subjects allocated on each treatment
    arm.

:::{.panel-tabset}

### Continuous

![](./coreUGattachments/continuous/media/image61.png){}

### Dichotomous

![](./coreUGattachments/dichotomous/media/image56.png){}

:::

Control to select the individual simulation results to be displayed

## Per Sim: Posterior Quantities

This graph shows the final analysis at the end of individual
simulations, including the distribution of a selected QOI.

:::{.panel-tabset}

### Continuous

![](./coreUGattachments/continuous/media/image62.png){}

### Dichotomous

![](./coreUGattachments/dichotomous/media/image57.png){}

:::

This graph includes a control that allows the user to select which
simulation to graph the results from. On each graph

-   The black line shows the 'True' mean response being simulated.

-   The brown circles and arms show the mean raw data and its 95% CI for
    each arm.

-   The green solid line shows the estimate of the mean response.

-   The green dashed lines show the boundaries of the 95% credible
    interval for the estimate of the response.

-   Brown bars showing the final value of the selected QOI for each arm
    at the end of the simulated trial.

The user can select from any of the Posterior Probability, Predictive
Probability or Target Probability QOIs to plot.

## Per Interim Response Graphs

This is an identical set of graphs to the Per Sim graphs, the difference
is that in addition to a control to select which simulation to graph the
results from, there is a control to select which interim within the
simulation to graph the results from. These graphs are only available
for those simulations for which 'weeks' files have been output (by
default the first 100).

Note the 'Interim' control in both of the below figures.

:::{.panel-tabset}

### Continuous

![](./coreUGattachments/continuous/media/image63.png){}

### Dichotomous

![](./coreUGattachments/dichotomous/media/image58.png){}

:::

## Explore Success/Futility Criteria

:::{.panel-tabset}

### Continuous

::::{layout-ncol=2}

![](./coreUGattachments/continuous/media/image64.png){}

![](./coreUGattachments/continuous/media/image65.png){}

::::

### Dichotomous

::::{layout-ncol=2}

![](./coreUGattachments/dichotomous/media/image59.png){}

![](./coreUGattachments/dichotomous/media/image60.png){}

::::

:::

These graphs can be used to explore what proportion of simulated trials
of a particular scenario would have been a success/failure at final
evaluation. Using the two drop down controls the user can select the
target dose to use: e.g. Pr(Max), and set and lower/upper limits to
explore for the threshold (setting the range used on the x-axis). The
graphs show for all the decision QOIs defined for the selected Target
Dose the proportion of simulations that would have met the threshold
values.

As in the examples above, the plots will be somewhat jagged if only a
small number of simulations have been run. These graphs can be used to
select thresholds that can be expected to yield a certain level of
type-1 or power, but the user must remember these will only be
approximate (depending on the number of simulations) but can be useful
to understand the designs sensitivity to the thresholds and to set
initial thresholds early on in the design / simulation process that will
get close to the desired type-1 error and power from the outset.

## Explore Early Success/Futility Criteria

:::{.panel-tabset}

### Continuous

::::{layout-ncol=2}

![](./coreUGattachments/continuous/media/image66.png){}

![](./coreUGattachments/continuous/media/image67.png){}

::::

### Dichotomous

::::{layout-ncol=2}

 ![](./coreUGattachments/dichotomous/media/image61.png){}

 ![](./coreUGattachments/dichotomous/media/image62.png){}

::::

:::

These graphs can be used to explore what proportion of simulated trials
of a particular scenario would have stopped early for success/futility.
NOTE these graphs require weeks files to have been output, they are also
most use where the design has been simulated with interims but no early
stopping (unlike the examples above where the shape of the "existing
stopping rules" line indicates that early stopping occurred in these
simulations).

Using the two drop down controls, the user can select which decision QOI
is evaluated and from which interim onwards stopping will be permitted.
Lines are then displayed for the proportion of simulations that would
have stopped by each interim for a fixed set of thresholds.

Typically these can be used to see at what threshold (and starting at
what interim) stopping for success or futility introduces an
unacceptably level of 'incorrect' early stopping -- stopping for
futility in successful scenarios and stopping for success in futile
scenarios and whether at below/above these levels there may be a useful
probability of correct stopping.

## Explore Arm Dropping Criteria

:::{.panel-tabset}

### Continuous

![](./coreUGattachments/continuous/media/image68.png){}

### Dichotomous

![](./coreUGattachments/dichotomous/media/image63.png){}

:::

This graph is similar to the Explore Early Success/Futility Criteria
graph but for arm dropping criteria. The user has an additional control
to select which dose the proportion of trials in which the arm would be
dropped is displayed.

## Success/Futility Stopping Contours

:::{layout-ncol=2}

![](./coreUGattachments/continuous/media/image69.png){}

![](./coreUGattachments/continuous/media/image70.png){}

:::

These graphs allow early stopping and final evaluation criteria to be
considered jointly. Like the explore early stopping criteria plots,
these graphs require weeks files to have been output and will work best
if interims were evaluated but no trials actually stopped early.

The user selects the decision QOI to plot, the first interim at which
early stopping is allowed, and the upper/lower limit of the threshold to
consider.

FACTS will then plot contours where (final evaluation threshold, early
stopping threshold) yield the same proportion of trials that are
successful/futile. Contours are only plotted where final evaluation
threshold \< early stopping threshold for success and vice versa for
futility. Early stopping criteria should not be less strict than final
criteria.

Again the example graphs shown are based on only 100 simulations with
weeks files, so any threshold derived will only very approximately yield
these success/futility rates.

## MCMC Trace plots

![](./coreUGattachments/dichotomous/media/image66.png){}

If an MCMC sample file has been output for one or more simulations (the
default is to **not** output MCMC sample files due to their size), then
for each of those simulations it is possible to view the MCMC trace of
the sampled values for each of the parameters sampled in the MCMC. (See
the description of the MCMC file contents below 16.6).

If the design is adaptive, the user can select which interim ("update")
the samples are from, as well as which parameter's samples to plot.

# Across Scenario Graphs

## Selected Arms

This graph shows a bar chart for each scenario and variant selected.
Each chart shows how often each arm was 'selected' by the target QOI
specified on the Study \> Variants tab. Each bar uses a stacked bar to
show the proportion of times that arm was:

-   "Successful" --the arm was correctly selected (marked as "Should
    succeed" on the VSR tab) and the trial was successful.

-   "Should not succeed" -- the arm was incorrectly selected (not marked
    as "Should succeed" on the VSR tab) and the trial was successful.

-   Unsuccessful -- the arm was selected and the trial failed.

![](./coreUGattachments/continuous/media/image71.png){}

## QOI Box Plots

This graph shows a box and whisker plot for each scenario and variant
selected. Each plot shows the distribution of the values of a selected
QOI for each arm. There is a drop down control to allow the selection of
the QOI to be displayed. Any Posterior probability, Predictive
probability, p-value or target QOI can be selected.

:::{.panel-tabset}

### Continuous

![](./coreUGattachments/continuous/media/image72.png){width="6.925in"
height="3.8152777777777778in"}

### Dichotomous

![](./coreUGattachments/dichotomous/media/image68.png){}

:::

## Ppn Success

This grouped bar chart shows a bar for the proportion of successful
simulations for each variant, grouped by scenario.

![](./coreUGattachments/continuous/media/image73.png){}

## Response

This graph shows a dose response plot for each scenario and variant
selected. Each plot shows the mean estimate over the simulations and the
95%-ile interval of the mean estimates over the simulations. The graph
also shoes the "true response" i.e. the mean response being simulated.

:::{.panel-tabset}

### Continuous

![](./coreUGattachments/continuous/media/image74.png){}

### Dichotomous

![](./coreUGattachments/dichotomous/media/image70.png){}

:::

## Allocation

This graph shows a box and whisker plot for each scenario and variant
selected. Each plot shows the distribution of the number of subjects
allocated to each arm over the simulations.

![](./coreUGattachments/continuous/media/image75.png){}

## Sample Size

This graph shows the mean sample size for each scenario at different
maximum sample sizes (the different variants).

![](./coreUGattachments/continuous/media/image76.png){}

## Interim vs Final Scatter Plot

This is an interactive plot that shows the outcome of each simulation
over all the scenarios of a selected variant.

The x-axis shows the value of the selected decision QOI at the specified
interim, and the y-axis shows the final value of a (possibly different)
selected decision QOI. As well as selecting a decision QOI for the final
decision, the graph can use the actual final decision in the simulations
-- the value of the QOI used in the first criteria is used for the
decision is used for the y-axis.

Note the graph is based just on the values at the selected interim, what
might happen at other interims is ignored.

Thresholds can be set to specify early and late success/futility. Each
scenario is then coloured to show its outcome -- and stacked bar graphs
are displayed to show the proportion of each outcome for each scenario.
The thresholds can be changed and the graph re-drawn. If the selected
QOI uses a p-value the checks for success are that it is "\<" than the
threshold, (and vice-versa for futility), otherwise the checks for
success are that it is "\>" the threshold (and vice-versa for futility).

The graph can only display the results for simulations for which cohorts
files have been output, and for simulations that reached the specified
interim. Thus the graph works best if interims have been specified, but
the simulations run without any early stopping enabled -- so each
simulation has the results for every interim.

With 1,000 simulations per scenario and cohorts files for each
simulation, the graph will take several seconds to re-draw. To allow
several parameters to be set before redrawing (rather than having to
wait for the redraw after each change) the graph is only redrawn after
the 'Redraw' button is clicked.

:::{.panel-tabset}

### Continuous

![](./coreUGattachments/continuous/media/image77.png){}

### Dichotomous

![](./coreUGattachments/dichotomous/media/image73.png){}

:::

## Receiver Operating Characteristics

This graph plots the relative proportion of successful simulations in
the scenarios compared to the proportion of successes in one specific
scenario. The intended use of this is to yield a "Receiver Operating
Characteristics" (ROC) curve. This is done as follows:

-   Select the decision QoI that is to be used to determine final
    success/futility. (The graph only supports the simple case where
    just one is being used).

-   Select a scenario that represents the 'Null' case -- where
    determining success is a type-1 error.

-   If multiple variants have been simulated, select which variant to
    plot.

FACTS computes for the null scenario, for a range of decision threshold
values, what proportion of the 'Null' scenario sims would have been
successful (giving the estimated type-1 error rate), these proportions
form the x-values for each point. The corresponding threshold values are
shown on the x-axis at the top of the graph, the type-1 error rate on
the x-axis at the bottom of the graph.

FACTS then computes for each of the other scenarios in turn the
proportion of sims that would have been successful **and selected a
"should succeed" dose** so it is necessary for doses to have been
specified as "should succeed" on the Virtual Subject Response profiles
(giving the estimate of power for that scenario -- where 'power' also
requires correct dose selection), at each of the threshold values, these
proportions are then shown on the y-axis of the graph.

Thus for each scenario we can see the estimated power of the design to
determine success for a given type-1 error rate in the specified Null
scenario.

![](./coreUGattachments/continuous/media/image78.png){}


# Detailed Simulation Results

After simulation has completed and simulation results have been loaded,
the user may examine detailed results for any scenario with simulation
data in the table by double-clicking on the row. A separate window (as
in Figure 15‑1) displays the individual results for each simulation.
This is the contents of the "simulations.csv" file, which is described
below. The simulations results are partitioned into the same various
results groupings as the summary results. These can be accessed from the
"right click" menu, along with opening the results folder, opening the
weeks file for a particular simulation and opening the simulated
patients file for a particular simulation (where a "weeks" file or a
"patients" file has been output).

![](./coreUGattachments/continuous/media/image88.png){}

# Output Files

FACTS stores the results of simulations as '.csv' files under a Results
folder. For each row in the simulations table, there is a folder named
by the profiles that make up the scenario, which contains the
corresponding '.csv' files.

![](./coreUGattachments/continuous/media/image89.png){width="5.2805708661417325in"
height="2.673570647419073in"}

These files can be opened using Microsoft Excel, but versions of Excel
before 2007 are restricted to 256 columns, which is too few to view some
files in their entirety. The 'Calc' application in 'OpenOffice' will
show all the columns (and will open two files that have the same name at
the same time!). Because Excel takes out a file lock on any file it has
open, while a file is open in Excel it cannot be deleted or modified by
another application. The most common cause for an error to be reported
when simulating trials in FACTS is because the user has one of the
previous results files is still open in Excel.

In the scenario directory there are the following types of results file:

**Summary.csv** Contains a single row of data that summarizes the
simulation results. This is the source of the shown on the simulations
tab.

**Summary_freq_locf.csv**

**Summary_freq_fail.csv**

**Summary_freq_ignore.csv** Contains a single row of data that that
summarizes the frequentist analysis of the simulations. A file is output
for each of the different methods for dealing with missing data that are
applicable: BOCF if the baseline score is being simulated, LOCF and
"ignore" (referred to as PP (Per-Protocol) in the GUI).

**Simulations.csv** Contains one row per simulation describing the final
state of each simulation for every trial simulated.

**Simulations_freq.csv** Contains one row per simulation describing the
frequentist analysis of the final state of each simulation for every
trial simulated.

**PatientsNNNNN.csv** Contains one row per patient in a simulation,
where NNNNN is the number of the simulation. By default this file is
written out only for the first simulation, but this can be changed on
the simulations tab.

**WeeksNNNNN.csv** contains one row for each cohort during a simulation
where NNN is the number of the simulation. By default this file is
written only for the first 100 simulations, but this can be changed via
the simulation tab. The values in the last row of the cohorts file will
be the same as the final values for that simulation in the simulations
file.

**weeks_freq_bocf_NNNNN.csv,**

**weeks_freq_locf_NNNN.csv,**

**weeks_freq_ignore_NNNNN.csv,**

Contains one row for each interim during a simulation where NNNNN is the
number of the simulation. A file is output for each simulation for which
a frequentist "weeks file" is to be output, and for each of the
different methods for dealing with missing data that are applicable.

## Contents of summary.csv

The first line is a header line, starting with a '#', containing the
column headings.

+-----------+---------+------------------------------------------------+
| Column    | Number  | Description                                    |
| Title     | of      |                                                |
|           | columns |                                                |
+===========+=========+================================================+
| Project   | 1       | The name of the facts file                     |
+-----------+---------+------------------------------------------------+
| Scenario  | 1       | The name of the scenario                       |
+-----------+---------+------------------------------------------------+
| Timestamp | 1       | The time the simulations were run              |
+-----------+---------+------------------------------------------------+
| Version   | 1       | The version of FACTS that was used to run the  |
|           |         | simulations                                    |
+-----------+---------+------------------------------------------------+
| NSim      | 1       | The number of simulation run.                  |
+-----------+---------+------------------------------------------------+
| Random    | 1       | The random number seed                         |
| Number    |         |                                                |
| Seed      |         |                                                |
+-----------+---------+------------------------------------------------+
| No. Subj  | 1       | The mean, over the simulations, of the total   |
|           |         | number of subjects recruited in the trial.     |
+-----------+---------+------------------------------------------------+
| SE Subj.  | 1       | The standard error of the total number of      |
|           |         | subjects recruited into the trials.            |
+-----------+---------+------------------------------------------------+
| No.Subj   | 1       | The 80^th^ percentile, over the simulations,   |
| 80%ile    |         | of the total number of subjects recruited in   |
|           |         | the trial.                                     |
+-----------+---------+------------------------------------------------+
| Ppn       | 1       | The proportion of simulations that were        |
| Overall   |         | successful (P(ES) + P(LS))                     |
| Success   |         |                                                |
+-----------+---------+------------------------------------------------+
| Ppn       | 1       | The proportion of simulations that were futile |
| Overall   |         | (P(EF) + P(LF))                                |
| Futility  |         |                                                |
+-----------+---------+------------------------------------------------+
| P(ES)     | > 1     | The proportion of simulations that stopped     |
|           |         | early for success.                             |
+-----------+---------+------------------------------------------------+
| P(LS)     | 1       | The proportion of simulations that did not     |
|           |         | stop early, and were successful on final       |
|           |         | evaluation.                                    |
+-----------+---------+------------------------------------------------+
| P(LF)     | 1       | The proportion of simulations that did not     |
|           |         | stop early, and were futile on final           |
|           |         | evaluation.                                    |
+-----------+---------+------------------------------------------------+
| P(EF)     | 1       | The proportion of simulations that stopped     |
|           |         | early for futility.                            |
+-----------+---------+------------------------------------------------+
| SFFF      | 1       | The proportion of simulations that stopped     |
|           |         | early for success, but at final analysis were  |
|           |         | futile (Success-Futility 'flip-flops').        |
+-----------+---------+------------------------------------------------+
| FSFF      | 1       | The proportion of simulations that stopped     |
|           |         | early for futility, but at final analysis were |
|           |         | successful (Futility- Success 'flip-flops').   |
+-----------+---------+------------------------------------------------+
| Undec.    | 1       | The proportion of simulations that did not     |
|           |         | stop early, and met neither the success or     |
|           |         | futility final evaluation criteria and hence   |
|           |         | are counted as 'undecided'.                    |
+-----------+---------+------------------------------------------------+
| Unused    | 3       | Three unused columns for other outcome types.  |
+-----------+---------+------------------------------------------------+
| Early     | 1       | This is the mean early decision time (over the |
| Success   |         | simulations stopped early for success), it is  |
| Time      |         | the time from the start of the trial to the    |
|           |         | interim where early success was declared. It   |
|           |         | does not include the subsequent follow up      |
|           |         | time.                                          |
+-----------+---------+------------------------------------------------+
| Mean      | D       | The mean (over the simulations) of the number  |
| Alloc     |         | of subjects allocated to each treatment arm.   |
| \<dose\>  |         |                                                |
+-----------+---------+------------------------------------------------+
| SE Alloc  | D       | The standard error (over the simulations) of   |
| \<dose\>  |         | the number of subjects allocated to each       |
|           |         | treatment arm.                                 |
+-----------+---------+------------------------------------------------+
| Mean Resp | D       | The mean of the estimates of response of each  |
| \<dose\>  |         | treatment arm.                                 |
+-----------+---------+------------------------------------------------+
| SE Resp   | D       | The standard error, over the simulations, of   |
| \<dose\>  |         | the estimate of response of each treatment     |
|           |         | arm.                                           |
+-----------+---------+------------------------------------------------+
| Mean      | 1       | The mean of the estimate of sigma -- the       |
| Sigma     |         | average standard deviation of the dose         |
|           |         | response                                       |
+-----------+---------+------------------------------------------------+
| SE Mean   | 1       | The standard error of the estimate of sigma -- |
| Sigma     |         | the average standard deviation of the dose     |
|           |         | response                                       |
+-----------+---------+------------------------------------------------+
| True Mean | D       | The true response for each treatment arm used  |
| resp      |         | when sampling the simulated subject responses. |
| \<dose\>  |         |                                                |
+-----------+---------+------------------------------------------------+
| True SD   | D       | The true SD of the response for each treatment |
| resp      |         | arm of the simulated subject responses         |
| \<dose\>  |         |                                                |
+-----------+---------+------------------------------------------------+
| Mean      | D\*V    | These are only calculated and written out if   |
| Longmod   |         | the Time Course Hierarchical or ITP            |
| Resp:     |         | longitudinal models are being used.            |
| \<Dose\>  |         |                                                |
| \<Visit\> |         | This is the mean (over the simulations) of the |
|           |         | estimate of the mean response for a particular |
|           |         | dose at a particular visit.                    |
+-----------+---------+------------------------------------------------+
| SE Mean   | D\*V    | This is the standard error (over the           |
| Longmod   |         | simulations) of the longitudinal model         |
| Resp:     |         | estimate of the response at intermediate       |
| \<Dose\>  |         | visits (see above)                             |
| \<Visit\> |         |                                                |
+-----------+---------+------------------------------------------------+
| Mean      | D       | The mean number of completers for each         |
| Complete  |         | treatment arm                                  |
| \<Dose\>  |         |                                                |
+-----------+---------+------------------------------------------------+
| Mean      | D       | The mean number of complete information (as    |
| Complete  |         | specified by the interim information type on   |
| Info      |         | the Interims tab) for each treatment arm       |
| \<Dose\>  |         |                                                |
+-----------+---------+------------------------------------------------+
| No        | D\*V    | The mean number of dropouts per treatment arm  |
| .Dropouts |         | per visit                                      |
| \<Dose\>  |         |                                                |
| \<Visit\> |         |                                                |
+-----------+---------+------------------------------------------------+
| Mean Beta | 1       | The mean of the estimates of the coefficient   |
|           |         | of baseline adjustment                         |
+-----------+---------+------------------------------------------------+
| SE beta   | 1       | The standard error of the estimates of the     |
|           |         | coefficient of baseline adjustment             |
+-----------+---------+------------------------------------------------+
| Mean      | 1       | The mean of the estimate of the mean of the    |
| Baseline  |         | baseline score                                 |
+-----------+---------+------------------------------------------------+
| SE Mean   | 1       | The standard error of the estimate of the mean |
| Baseline  |         | of the baseline score                          |
+-----------+---------+------------------------------------------------+
| SD        | 1       | The mean of the estimate of the SD of the      |
| Baseline  |         | baseline score                                 |
+-----------+---------+------------------------------------------------+
| SE SD     | 1       | The standard error of the estimate of the SD   |
| Baseline  |         | of the baseline score                          |
+-----------+---------+------------------------------------------------+
| True Mean | 1       | The true mean of the baseline score            |
| Baseline  |         | (accounting for possible truncation)           |
+-----------+---------+------------------------------------------------+
| True SD   | 1       | The true SD of the baseline score (accounting  |
| Baseline  |         | for possible truncation)                       |
+-----------+---------+------------------------------------------------+
| BAC Mean  | 1       | If a hierarchical prior for Control is being   |
|           |         | used this is the mean (over the simulations)   |
|           |         | of the posterior estimate of the mean of the   |
|           |         | Bayesian Augmented Control (Hierarchical       |
|           |         | Prior) distribution of mean control responses. |
+-----------+---------+------------------------------------------------+
| SE of BAC | 1       | If a hierarchical prior for Control is being   |
| Mean      |         | used this is the standard error (over the      |
|           |         | simulations) of the posterior estimate of the  |
|           |         | mean of the Bayesian Augmented Control         |
|           |         | (Hierarchical Prior) distribution of mean      |
|           |         | control responses.                             |
+-----------+---------+------------------------------------------------+
| BAC Tau   | 1       | If a hierarchical prior for Control is being   |
|           |         | used this is the mean (over the simulations)   |
|           |         | of the posterior estimate of the SD of the     |
|           |         | Bayesian Augmented Control (Hierarchical       |
|           |         | Prior) distribution of mean control responses. |
+-----------+---------+------------------------------------------------+
| SE of BAC | 1       | If a hierarchical prior for Control is being   |
| Tau       |         | used this is the standard error (over the      |
|           |         | simulations) of the posterior estimate of the  |
|           |         | SD of the Bayesian Augmented Control           |
|           |         | (Hierarchical Prior) distribution of mean      |
|           |         | control responses.                             |
+-----------+---------+------------------------------------------------+
| BAAC Mean | 1       | If a hierarchical prior for Active Comparator  |
|           |         | is being used this is the mean (over the       |
|           |         | simulations) of the posterior estimate of the  |
|           |         | mean of the Bayesian Augmented Active          |
|           |         | Comparator (Hierarchical Prior) distribution   |
|           |         | of mean active comparator responses.           |
+-----------+---------+------------------------------------------------+
| SE of     | 1       | If a hierarchical prior for Active Comparator  |
| BAAC Mean |         | is being used this is the standard error (over |
|           |         | the simulations) of the posterior estimate of  |
|           |         | the mean of the Bayesian Augmented Active      |
|           |         | Comparator (Hierarchical Prior) distribution   |
|           |         | of mean control responses.                     |
+-----------+---------+------------------------------------------------+
| BAAC Tau  | 1       | If a hierarchical prior for Active Comparator  |
|           |         | is being used this is the mean (over the       |
|           |         | simulations) of the posterior estimate of the  |
|           |         | SD of the Bayesian Augmented Active Comparator |
|           |         | (Hierarchical Prior) distribution of mean      |
|           |         | active comparator responses.                   |
+-----------+---------+------------------------------------------------+
| SE of     | 1       | If a hierarchical prior for Active Comparator  |
| BAAC Tau  |         | is being used this is the standard error (over |
|           |         | the simulations) of the posterior estimate of  |
|           |         | the SD of the Bayesian Augmented Active        |
|           |         | Comparator (Hierarchical Prior) distribution   |
|           |         | of mean active comparator responses.           |
+-----------+---------+------------------------------------------------+
| Mean      | 1       | The mean, over the simulations, of the overall |
| Duration  |         | duration of the trials, from first person      |
|           |         | first visit, to last person last visit.        |
+-----------+---------+------------------------------------------------+
| Ppn Arms  | D       | The proportion of the simulations in which     |
| Dropped   |         | each arm was dropped. These will be zero if    |
| \<dose\>  |         | arm dropping is not selected as the means of   |
|           |         | adaptive allocation.                           |
+-----------+---------+------------------------------------------------+
| Mean LPFV | 1       | The mean, over the simulations, of the accrual |
| time      |         | period of the trials, from first person first  |
|           |         | visit, to last person first visit (LPFV).      |
+-----------+---------+------------------------------------------------+
| Ppn       | 1       | The proportion of the simulations where the    |
| Correct   |         | correct arm has been selected, where an arm is |
| Arm       |         | deemed "correct" based on whether it was       |
|           |         | marked as "Should Succeed" for the relevant    |
|           |         | scenario on the VSR tab.                       |
+-----------+---------+------------------------------------------------+
| Ppn       | 1       | The proportion of the simulations where the    |
| Incorrect |         | incorrect correct arm has been selected, where |
| Arm       |         | an arm is deemed "incorrect" based on whether  |
|           |         | it wasn't marked as "Should Succeed" for the   |
|           |         | relevant scenario on the VSR tab.              |
+-----------+---------+------------------------------------------------+
| QOI       |         |                                                |
| Columns   |         |                                                |
+-----------+---------+------------------------------------------------+

: Figure 6‑5 2D grid of the selected combinations in the trial

### QOI Columns

The QOI columns depend on the QOIs that have been defined for this
design. The columns in the following order:

Posterior Probabilities The summary file contains the mean (over the
simulations) of the posterior probability for each dose.

Predictive Probabilities The summary file contains the mean (over the
simulations) of the predictive probability for each dose.

P-Values The summary file contains the mean (over the simulations) of
the p-value for each dose.

Target Probabilities The summary file contains the proportion of times
(over the simulations) each dose had the greatest probability of being
the target.

Decision QOIs The summary file contains the mean (over the simulations)
of the final value of the decision QOI at the target.

## Contents of Summary_freq\_\<missing\>.csv

There is a frequentist summary file for each type of treatment of
missing values.

The first line is a header line, starting with a '#', and containing

-   The FACTS GUI version number

-   The name of the FACTS file

-   The name of the scenario

-   The time stamp of the start of the simulation

The second line is a header line, starting with a '#', containing the
column headings.

+----------+---------+------------------------------------------------+
| Column   | Number  | Description                                    |
| Title    | of      |                                                |
|          | columns |                                                |
+==========+=========+================================================+
| Mean     | D       | The mean response per dose.                    |
| Theta    |         |                                                |
| \<dose\> |         |                                                |
+----------+---------+------------------------------------------------+
| SE Theta | D       | The standard error of the response per dose    |
| \<dose\> |         |                                                |
+----------+---------+------------------------------------------------+
| Mean     | 1       | The mean of the estimate of the baseline       |
| Beta     |         | coefficient.                                   |
| (b       |         |                                                |
| aseline) |         |                                                |
+----------+---------+------------------------------------------------+
| SE Mean  | 1       | The standard error of the estimate of the      |
| Beta     |         | baseline coefficient                           |
| (b       |         |                                                |
| aseline) |         |                                                |
+----------+---------+------------------------------------------------+
| Ppn      | 1       | The proportion of simulations where at least   |
| Signif   |         | one of the unadjusted p-values is less than    |
|          |         | the user specified one-sided alpha.            |
+----------+---------+------------------------------------------------+
| Ppn      | D       | For each treatment arm, the proportion of      |
| Signif   |         | simulations where the unadjusted p-value is    |
| \<dose\> |         | less than the user specified one-sided alpha.  |
|          |         |                                                |
|          |         | The marginal probability of significance per   |
|          |         | dose (using unadjusted p-values.               |
+----------+---------+------------------------------------------------+
| Bias     | D       | The difference between the estimated mean      |
| \<dose\> |         | response and the true (simulated) mean         |
|          |         | response per dose                              |
+----------+---------+------------------------------------------------+
| Coverage | D       | The proportion of simulations where the        |
| \<dose\> |         | unadjusted confidence interval for the         |
|          |         | response contains the true mean response used  |
|          |         | to simulate subject responses.                 |
+----------+---------+------------------------------------------------+
| Ppn      | 1       | The proportion of simulations where at least   |
| Signif   |         | one of the Dunnett adjusted p-values is less   |
| Dunnett  |         | than the user specified one-sided alpha.       |
+----------+---------+------------------------------------------------+
| Ppn      | D       | For each treatment arm, the proportion of      |
| Signif   |         | simulations where the Dunnett adjusted p-value |
| Dunnett  |         | is less than the user specified one-sided      |
| \<dose\> |         | alpha.                                         |
+----------+---------+------------------------------------------------+
| Coverage | D       | The proportion of simulations where the        |
| Dunnett  |         | Dunnett adjusted confidence interval contains  |
| \<dose\> |         | the true mean response used to simulate        |
|          |         | subjects responses.                            |
+----------+---------+------------------------------------------------+
| Ppn      | 1       | The proportion of simulations where at least   |
| Signif   |         | one of the Bonferroni adjusted p-values is     |
| Bonf     |         | less than the user specified one-sided alpha.  |
+----------+---------+------------------------------------------------+
| Ppn      | D       | For each treatment arm, the proportion of      |
| Signif   |         | simulations where the Bonferroni adjusted      |
| Bonf     |         | p-value is less than the user specified        |
| \<dose\> |         | one-sided alpha.                               |
+----------+---------+------------------------------------------------+
| Coverage | D       | The proportion of simulations where the        |
| Bonf     |         | Bonferroni adjusted confidence interval        |
| \<dose\> |         | contains the true mean response used to        |
|          |         | simulate subjects responses.                   |
+----------+---------+------------------------------------------------+
| Ppn      | 1       | The proportion of simulations where the trend  |
| Signif   |         | test p-value is less than the user specified   |
| Trend    |         | one-sided alpha.                               |
+----------+---------+------------------------------------------------+

: Figure 6‑6 The Variants tab, specifying 5 variants

## Contents of simulations.csv and weeksNNNNN.csv

The simulations.csv file holds the FACTS summary of the final analysis
for each simulation (one per row).

The weeksNNNNN.csv file holds the FACTS summary of every analysis for
the NNNNN^th^ simulation. It contains a row for each interim in the
trial and a roe for the final analysis (Interim number 999). The final
analysis occurs after all the planned data is collected.

-   If the trial does not stop early this will be after all full
    follow-up for all subjects,

-   if the trial does stop early this will be either

<!-- -->

-   an analysis after full follow-up of the subjects recruited up to the
    point of the interim when the stopping decision was taken (If the
    "continue follow-up" option has been selected by the user on the
    Interims tab)

-   or it will perform a repeat the analysis using the data available at
    the interim when the stopping decision was taken -- the results will
    vary from those of the interim within MCMC sampling error. (This
    "unnecessary" analysis is included to keep the content of the weeks
    files consistent and hence simplify the post processing of "weeks"
    files).

The first line is a header line, starting with a '#', and containing

-   The FACTS GUI version number

-   The name of the FACTS file

-   The name of the scenario

-   The time stamp of the start of the simulation

The second line is a header line, starting with a '#', containing the
column headings.

Most of the columns are common to the two file types, but the weeks file
does not contain columns for the 'final' values of the evaluation
criteria.

+-------------+------+-------+----+----------------------------------+
| Column      | Nu   | In    | In | Description                      |
| Title       | mber | s     | w  |                                  |
|             | of   | imula | ee |                                  |
|             | col  | tions | ks |                                  |
|             | umns | file  | fi |                                  |
|             |      |       | le |                                  |
+=============+======+=======+====+==================================+
| \# Weeks    | 1    |       | ✔  | The week of the analysis         |
| (Duration)  |      |       |    |                                  |
+-------------+------+-------+----+----------------------------------+
| #Sim        | 1    | ✔     |    | The number of the simulation.    |
+-------------+------+-------+----+----------------------------------+
| Random      | 1    | ✔     | ✔  | Base random number seed.         |
| Number Seed |      |       |    |                                  |
+-------------+------+-------+----+----------------------------------+
| LastInterim | 1    | ✔     |    | The index of the last interim    |
|             |      |       |    | performed the index of the       |
|             |      |       |    | interim immediately before the   |
|             |      |       |    | final interim (index '999').     |
|             |      |       |    | Note this is not necessarily the |
|             |      |       |    | interim when the trial stopped   |
|             |      |       |    | if the design includes follow-up |
|             |      |       |    | after stopping.                  |
+-------------+------+-------+----+----------------------------------+
| #Subjects   | 1    | ✔     | ✔  | The number of subjects recruited |
|             |      |       |    | in the simulation.               |
+-------------+------+-------+----+----------------------------------+
| Outcome     | 1    | ✔     | ✔  | A flag categorizing final study  |
|             |      |       |    | outcome:                         |
|             |      |       |    |                                  |
|             |      |       |    | 1.  = Early success              |
|             |      |       |    |                                  |
|             |      |       |    | 2.  = Late success               |
|             |      |       |    |                                  |
|             |      |       |    | 3.  = Late futility              |
|             |      |       |    |                                  |
|             |      |       |    | 4.  = Early futility             |
|             |      |       |    |                                  |
|             |      |       |    | 5.  = Success to futility        |
|             |      |       |    |     flip-flop                    |
|             |      |       |    |                                  |
|             |      |       |    | 6.  = Futility to success        |
|             |      |       |    |     flip-flop                    |
|             |      |       |    |                                  |
|             |      |       |    | 7.  = Inconclusive               |
+-------------+------+-------+----+----------------------------------+
| Early       | 1    | ✔     | ✔  | This is the time to the early    |
| Success     |      |       |    | success decision (-9999 if there |
| Time        |      |       |    | was no early success decision).  |
|             |      |       |    | The from the start of the trial  |
|             |      |       |    | to the interim where the early   |
|             |      |       |    | success conditions were first    |
|             |      |       |    | met. It does not include the     |
|             |      |       |    | subsequent follow up time.       |
+-------------+------+-------+----+----------------------------------+
| Alloc       | D    | ✔     | ✔  | The number of subjects allocated |
| \<dose\>    |      |       |    | to each arm.                     |
+-------------+------+-------+----+----------------------------------+
| Pr(Alloc)   | D    | ✔     | ✔  | The probability of allocation to |
| \<dose\>    |      |       |    | the different arms following the |
|             |      |       |    | interim.                         |
+-------------+------+-------+----+----------------------------------+
| Mean resp   | D    | ✔     | ✔  | The estimated response of each   |
| \<dose\>    |      |       |    | treatment arm.                   |
+-------------+------+-------+----+----------------------------------+
| SD resp     | D    | ✔     | ✔  | The standard deviation of the    |
| \<dose\>    |      |       |    | estimate of response of each     |
|             |      |       |    | treatment arm.                   |
+-------------+------+-------+----+----------------------------------+
| True Mean   | D    | ✔     | ✔  | The true mean response of each   |
| resp        |      |       |    | treatment arm for this           |
| \<dose\>    |      |       |    | simulation.                      |
+-------------+------+-------+----+----------------------------------+
| True SD     | D    | ✔     | ✔  | The true SD of the response of   |
| resp        |      |       |    | each treatment arm for this      |
| \<dose\>    |      |       |    | simulation                       |
+-------------+------+-------+----+----------------------------------+
| Sigma       | 1    | ✔     | ✔  | The pooled estimate of the SD of |
|             |      |       |    | the response across all the      |
|             |      |       |    | treatment arms                   |
+-------------+------+-------+----+----------------------------------+
| SD_Sigma    | 1    | ✔     | ✔  | The SD of the pooled estimate of |
|             |      |       |    | the SD of the response across    |
|             |      |       |    | all the treatment arms           |
+-------------+------+-------+----+----------------------------------+
| Beta        | 1    | ✔     | ✔  | The estimate of 'Beta' the       |
|             |      |       |    | baseline adjustment coefficient, |
|             |      |       |    | if baseline adjustment is being  |
|             |      |       |    | used.                            |
+-------------+------+-------+----+----------------------------------+
| SD_Beta     | 1    | ✔     | ✔  | The SD of the estimate of 'Beta' |
|             |      |       |    | the baseline adjustment          |
|             |      |       |    | coefficient.                     |
+-------------+------+-------+----+----------------------------------+
| Mean        | 1    | ✔     | ✔  | The estimate of the mean         |
| Baseline    |      |       |    | baseline score.                  |
+-------------+------+-------+----+----------------------------------+
| SE Mean     | 1    | ✔     | ✔  | The standard error of the        |
| Baseline    |      |       |    | estimate of the mean baseline    |
|             |      |       |    | score.                           |
+-------------+------+-------+----+----------------------------------+
| SD Baseline | 1    | ✔     | ✔  | The estimate of the SD of the    |
|             |      |       |    | baseline score.                  |
+-------------+------+-------+----+----------------------------------+
| True Mean   | 1    | ✔     | ✔  | The true mean of the simulated   |
| Baseline    |      |       |    | baseline score                   |
+-------------+------+-------+----+----------------------------------+
| True SD     | 1    | ✔     | ✔  | The true SD of the simulated     |
| Baseline    |      |       |    | baseline score                   |
+-------------+------+-------+----+----------------------------------+
| Mean Raw    | D    | ✔     | ✔  | The observed mean response on    |
| Response    |      |       |    | each treatment arm (unadjusted   |
| \<dose\>    |      |       |    | by any modeling).                |
+-------------+------+-------+----+----------------------------------+
| SE Mean Raw | D    | ✔     | ✔  | The SE of the estimate of the    |
| Response    |      |       |    | mean raw response on each dose.  |
+-------------+------+-------+----+----------------------------------+
| Complete    | D    | ✔     | ✔  | The number of completed subjects |
| \<dose\>    |      |       |    | on each treatment arm at the     |
|             |      |       |    | time of the analysis.            |
+-------------+------+-------+----+----------------------------------+
| Complete    | D    | ✔     | ✔  | The number of subject who count  |
| Information |      |       |    | as complete for the purposes of  |
| \<dose\>    |      |       |    | timing interims -- whether       |
|             |      |       |    | complete or opportunity to       |
|             |      |       |    | complete and at which visit is   |
|             |      |       |    | as defined on the Interims tab.  |
|             |      |       |    |                                  |
|             |      |       |    | If interims are by enrolment     |
|             |      |       |    | then CompleteInformation is the  |
|             |      |       |    | number of subjects that have     |
|             |      |       |    | completed -- final endpoint data |
|             |      |       |    | is available.                    |
+-------------+------+-------+----+----------------------------------+
| #Dropouts   | D \* | ✔     | ✔  | The number of subjects dropped   |
| \<dose\>    | V    |       |    | out on each treatment arm and    |
| \<visit\>   |      |       |    | each visit.                      |
+-------------+------+-------+----+----------------------------------+
| DR Param    | 10   | ✔     | ✔  | The estimate of the mean value   |
| \<param\>   |      |       |    | of each of the response model    |
|             |      |       |    | parameters. The response models  |
|             |      |       |    | require up to 10 parameters,     |
|             |      |       |    | most less. The model parameters  |
|             |      |       |    | are labeled α~1~, α~2~, .. the   |
|             |      |       |    | subscripts corresponding to the  |
|             |      |       |    | index "\<param\>".               |
+-------------+------+-------+----+----------------------------------+
| Sd DR Param | 4    | ✔     | ✔  | The standard deviation of the    |
| \<param\>   |      |       |    | estimate of the mean value of    |
|             |      |       |    | the corresponding response model |
|             |      |       |    | parameter.                       |
+-------------+------+-------+----+----------------------------------+
| Longmod\_   | LM   | ✔     | ✔  | The estimate of the mean value   |
| \<model\>   | \*   |       |    | of each of the longitudinal      |
| \<          | LMP  |       |    | model parameters. The number of  |
| parameter\> | \* V |       |    | models depends on the number of  |
| \<visit\>   |      |       |    | "model instances" the user has   |
|             |      |       |    | specified.                       |
|             |      |       |    |                                  |
|             |      |       |    | For linear regression the        |
|             |      |       |    | parameters reported are:         |
|             |      |       |    |                                  |
|             |      |       |    | -   Alpha -- per visit -- the    |
|             |      |       |    |     mean estimate of the         |
|             |      |       |    |     constant offset in the       |
|             |      |       |    |     change in response from this |
|             |      |       |    |     visit to the final visit     |
|             |      |       |    |                                  |
|             |      |       |    | -   Beta -- per visit -- the     |
|             |      |       |    |     mean estimate of the         |
|             |      |       |    |     coefficient of change in     |
|             |      |       |    |     response from this visit to  |
|             |      |       |    |     the final visit              |
|             |      |       |    |                                  |
|             |      |       |    | -   Lambda -- per visit -- the   |
|             |      |       |    |     mean estimate of the SD of   |
|             |      |       |    |     the residual error term in   |
|             |      |       |    |     the predicted final visit    |
|             |      |       |    |     response based on the        |
|             |      |       |    |     response at this visit.      |
|             |      |       |    |                                  |
|             |      |       |    | For time course hierarchical the |
|             |      |       |    | parameters reported are:         |
|             |      |       |    |                                  |
|             |      |       |    | -   Alpha -- per visit -- the    |
|             |      |       |    |     mean estimate of the         |
|             |      |       |    |     exponential coefficient of   |
|             |      |       |    |     the proportion of the dose   |
|             |      |       |    |     response and per-subject     |
|             |      |       |    |     response seen at this        |
|             |      |       |    |     visit..                      |
|             |      |       |    |                                  |
|             |      |       |    | -   Lambda -- per visit -- the   |
|             |      |       |    |     mean estimate of the SD of   |
|             |      |       |    |     the residual error term in   |
|             |      |       |    |     the predicted final visit    |
|             |      |       |    |     response based on the        |
|             |      |       |    |     response at this visit.      |
|             |      |       |    |                                  |
|             |      |       |    | -   Tau -- the mean estimate of  |
|             |      |       |    |     the SD of the per subject    |
|             |      |       |    |     random effect                |
|             |      |       |    |                                  |
|             |      |       |    | For ITP the parameters are:      |
|             |      |       |    |                                  |
|             |      |       |    | -   K -- per model -- the mean   |
|             |      |       |    |     estimate of the ITP shape    |
|             |      |       |    |     parameter                    |
|             |      |       |    |                                  |
|             |      |       |    | -   Tau -- per model - the mean  |
|             |      |       |    |     estimate of the SD of the    |
|             |      |       |    |     per subject random effect    |
|             |      |       |    |                                  |
|             |      |       |    | -   Lambda -- per model -- the   |
|             |      |       |    |     mean estimate of the Sd of   |
|             |      |       |    |     the residual error.          |
|             |      |       |    |                                  |
|             |      |       |    | -   Omega -- per treatment arm   |
|             |      |       |    |     -- the mean estimate of the  |
|             |      |       |    |     mean treatment arm effect.   |
|             |      |       |    |                                  |
|             |      |       |    | For LOCF & Kernel Density there  |
|             |      |       |    | are no estimated parameters.     |
+-------------+------+-------+----+----------------------------------+
| Longmod     | D \* | ✔     | ✔  | These are only calculated and    |
| Resp:       | V    |       |    | written out if the Time Course   |
| \<Dose\>    |      |       |    | Hierarchical or ITP longitudinal |
| \<Visit\>   |      |       |    | models are being used.           |
|             |      |       |    |                                  |
|             |      |       |    | This is the mean response for a  |
|             |      |       |    | particular dose at a particular  |
|             |      |       |    | visit.                           |
+-------------+------+-------+----+----------------------------------+
| BAC Mean    | 1    | ✔     | ✔  | This is the posterior estimate   |
|             |      |       |    | of the mean of the Bayesian      |
|             |      |       |    | Augmented Control (Hierarchical  |
|             |      |       |    | Prior) distribution of mean      |
|             |      |       |    | control responses.               |
+-------------+------+-------+----+----------------------------------+
| BAC Mean SD | 1    | ✔     | ✔  | This is the SD of the posterior  |
|             |      |       |    | estimate of the mean of the      |
|             |      |       |    | Bayesian Augmented Control       |
|             |      |       |    | (Hierarchical Prior)             |
|             |      |       |    | distribution of mean control     |
|             |      |       |    | responses.                       |
+-------------+------+-------+----+----------------------------------+
| BAC Tau     | 1    | ✔     | ✔  | This is the posterior estimate   |
|             |      |       |    | of the SD of the Bayesian        |
|             |      |       |    | Augmented Control (Hierarchical  |
|             |      |       |    | Prior) distribution of mean      |
|             |      |       |    | control responses.               |
+-------------+------+-------+----+----------------------------------+
| BAC Tau SD  | 1    | ✔     | ✔  | This is the SD of the posterior  |
|             |      |       |    | estimate of the SD of the        |
|             |      |       |    | Bayesian Augmented Control       |
|             |      |       |    | (Hierarchical Prior)             |
|             |      |       |    | distribution of mean control     |
|             |      |       |    | responses.                       |
+-------------+------+-------+----+----------------------------------+
| BAAC Mean   | 1    | ✔     | ✔  | This is the posterior estimate   |
|             |      |       |    | of the mean of the Bayesian      |
|             |      |       |    | Augmented Active Comparator      |
|             |      |       |    | (Hierarchical Prior)             |
|             |      |       |    | distribution of mean active      |
|             |      |       |    | comparator responses.            |
+-------------+------+-------+----+----------------------------------+
| BAAC Mean   | 1    | ✔     | ✔  | This is the SD of the posterior  |
| SD          |      |       |    | estimate of the mean of the      |
|             |      |       |    | Bayesian Augmented Active        |
|             |      |       |    | Comparator (Hierarchical Prior)  |
|             |      |       |    | distribution of mean comparator  |
|             |      |       |    | responses.                       |
+-------------+------+-------+----+----------------------------------+
| BAAC Tau    | 1    | ✔     | ✔  | This is the posterior estimate   |
|             |      |       |    | of the SD of the Bayesian        |
|             |      |       |    | Augmented Active Comparator      |
|             |      |       |    | (Hierarchical Prior)             |
|             |      |       |    | distribution of mean active      |
|             |      |       |    | comparator responses.            |
+-------------+------+-------+----+----------------------------------+
| BAAC Tau SD | 1    | ✔     | ✔  | This is the SD of the posterior  |
|             |      |       |    | estimate of the SD of the        |
|             |      |       |    | Bayesian Augmented Active        |
|             |      |       |    | Comparator (Hierarchical Prior)  |
|             |      |       |    | distribution of mean active      |
|             |      |       |    | comparator responses.            |
+-------------+------+-------+----+----------------------------------+
| Duration    | 1    | ✔     | ✔  | The time in weeks to the         |
|             |      |       |    | analysis shown.                  |
+-------------+------+-------+----+----------------------------------+
| Arm Drop    | D    | ✔     | ✔  | For each treatment arm, the time |
| Time        |      |       |    | in weeks when it was decided to  |
| \<dose\>    |      |       |    | drop the arm.                    |
+-------------+------+-------+----+----------------------------------+
| LPFV        | 1    | ✔     | ✔  | The time in weeks to the last    |
|             |      |       |    | patient first visit.             |
+-------------+------+-------+----+----------------------------------+
| QOI Columns |      |       |    |                                  |
+-------------+------+-------+----+----------------------------------+

: Figure 7‑1: Explicitly Defined Dose Response -- Continuous

### QOI Columns

The QOI columns depend on the QOIs that have been defined for this
design. The columns are grouped in the following order:

Posterior Probabilities The posterior probability for each QOI for each
dose.

Predictive Probabilities The predictive probability for each QOI for
each dose.

P-Values The p-value for each QOI for each dose.

Target Probabilities The probability of being the target for each QOI
for each dose.

Decision QOIs The value of the decision QOI at the target.

Success

Futile A flag for each QOI decision criteria indicating if the decision
QOI was evaluated and compared to a threshold at the interim (weeks
file) or final analysis (simulation file). The flag value is -1 if the
decision QOI was not evaluated, 0 if it did not meet the threshold and 1
if it did.

Success / Futile Combined Flags indicating if the interim or final
analysis determined success or futility taking all the factors defined
for Success/Futility into account: 0 if the conditions were not met, 1
it the conditions were met. If success and futility conditions have been
defined that are not mutually exclusive and both sets of combined
conditions are met, FACTS will pick one of the outcomes as met but not
the other. In order to discourage defining Success and Futility rules
that can both be true FACTS does not guarantee which outcome will be
selected.

## Contents of Simulations_freq\_\<missing\>.csv, Weeks_freq\_\<missing\>.csv

These file contain the frequentist results after an interim analysis
(weeks file) or final analysis (simulations file), apart for the first
column, the columns are the same in the two types of file, and the same
across the different methods for treating missing data.

  -----------------------------------------------------------------------
  Column      Number of Description
  Title       columns
  ----------- --------- -------------------------------------------------
  \# Trial    1         The number of the simulation.
                        (simulations_freq\_\...csv only)

  #Weeks      1         The week of the interim (weeks_freq\_\...csv
                        only)

  Theta       D         Unadjusted estimate of response per treatment arm
  \<dose\>

  Theta SD    D         The SD of the estimate of response per treatment
  \<dose\>              arm

  Trt Effect  D         The relative size of the treatment effect
  \<dose\>              compared to control per arm (treatment effect for
                        control is always 0). The direction of the
                        comparison takes into account whether a response
                        represents a subject's condition improving or
                        worsening, so that a positive treatment effect
                        shows the response on the dose is better than on
                        control.

  t-Stat      D         The t-test statistic per treatment arm (for
  \<dose\>              control this is always 0)

  p-Value     D         The unadjusted t-test p-value per arm (for
  \<dose\>              control this is always 0)

  lower CI    D         The unadjusted lower bound of the alpha
  \<dose\>              confidence interval of the estimated treatment
                        effect per treatment arm (for control this is
                        always 0).

  upper CI    D         The unadjusted upper bound of the alpha
  \<dose\>              confidence interval of the estimated treatment
                        effect per treatment arm (for control this is
                        always 0).

  Min p-Value 1         The smallest of the t-test p-values

  p-Value     D         The Dunnett adjusted t-test p-value per arm (for
  Dunnett               control this is always 0).
  \<dose\>

  lower CI    D         The Dunnett adjusted lower bound of the alpha
  Dunnett               confidence interval of the estimated treatment
  \<dose\>              effect (for control this is always 0).

  upper CI    D         The Dunnett adjusted upper bound of the alpha
  Dunnett               confidence interval of the estimated treatment
  \<dose\>              effect (for control this is always 0).

  Min p-Value 1         The smallest of the Dunnett adjusted p-values.
  Dunnett

  p-Value     D         The Bonferroni adjusted t-test p-value per arm.
  Bonf
  \<dose\>

  lower-CI    D         The Bonferroni adjusted lower bound of the alpha
  Bonf                  confidence interval of the estimated treatment
  \<dose\>              effect (for control this is always 0).

  upper-CI    D         The Bonferroni adjusted upper bound of the alpha
  Bonf                  confidence interval of the estimated treatment
  \<dose\>              effect (for control this is always 0).

  Min p-Value 1         The smallest of the Bonferroni adjusted t-test
  Bonf                  value per arm.

  t-Stat      1         The t statistic from the trend test.
  trend

  p-Value     1         The p-value from the trend test.
  trend
  -----------------------------------------------------------------------

  : Figure 7‑2 Dose Response - Loading scenario means in an external
  file

## Contents of PatientsNNNNN.csv

  -------------------------------------------------------------------------
  Column Title Number of  Description
               columns
  ------------ ---------- -------------------------------------------------
  #Subject     1          The subject id number, starting at 1.

  Region       1          Which region the subject was recruited in

  Date         1          The date, in weeks from the start of the trial,
                          of the subject's baseline visit and
                          randomization.

  Dose         1          The index number (1, ...) of the treatment arm
                          the subject belongs to.

  LastVisit#              The index of the last visit for which the
                          subjects data was collected, if the subject did
                          not complete this could be because the subject
                          dropped-out, the subject's treatment arm was
                          dropped (and there was no follow-up) or the study
                          stopped early (and there was no follow-up).

  Baseline     1          Subject baseline if simulated

  Visit        V          Subjects response at each visit
  \<visit\>
  -------------------------------------------------------------------------

  : Figure 7‑3: Virtual Subject Longitudinal Responses -- Correlated
  Method

## Contents of MCMCNNNNN.csv

The MCMC file if requested for output by the user, contains all the MCMC
samples for the fitted parameters in the design. There is one row per
sample (including the burnin) and the samples from all the analyses in
the simulation are included. The first two columns are the analysis
index and the sample (within analysis) index. The remaining columns are
the parameters whose sample values are being reported, the number and
constituents of these columns are highly variable depending on design of
the statistical analysis.

  ------------------------------------------------------------------------
  Column      Number of  Description
  Title       columns
  ----------- ---------- -------------------------------------------------
  Analysis    1          The index of the analysis (interim) in the
                         simulation

  Sample      1          The index of the sample within the analysis

  Theta       D          The estimate of the mean response for each dose,
  \<dose\>               based on the dose response model fitted

  Sigma       1          The estimate of the SD of the endpoint

  Beta        1          If baseline is included in the simulated data and
                         using the "Baseline Adjusted Model", this is the
                         value of "Beta", the baseline coefficient.

  A \<1-8\> / P          If the dose response model estimates parameters
  Tau                    then the samples of these are listed next. The
                         number and name of the parameters will vary
                         depending on the model being fitted. Check the
                         Design \> Dose Response tab for a listing of the
                         parameters.

  Longmod     L \* P \*  If the analysis includes longitudinal modelling
  \<model\>   V          then the samples of the parameters of the
  \<param\>              longitudinal models are output. The number of
  \<visit\>              models depends on the number of different
                         longitudinal fits the user has specified (one
                         over all arms, one for control and one for all
                         treatment arms, model all arms separately, etc.),
                         the number of parameters the model has, and if
                         these are fitted per visit (which depends on the
                         model being fitted), then the number of visits.
  ------------------------------------------------------------------------

  : Figure 7‑4: Virtual Subject Longitudinal Responses - Hierarchical
  Method

[^1]: Screenshots from earlier versions of FACTS 6 are retained only
    where they are unchanged in FACTS 7.1

[^2]: The doses in the design become linked to many other parameters, if
    dose levels could be edited this could change the effective order of
    doses and keeping the other parameters settings associated with the
    right doses becomes problematic -- in different circumstances the
    user might want values to stay with the particular treatment arm or
    stay with the particular slot in the treatment arm ranking. Forcing
    doses to be deleted and re-entered if their dose level changes

[^3]: Elsewhere in FACTS Core however we still use the overly specific
    term "dose" when the user might be simulating any manner of
    different treatments. Unfortunately the term "dose" became so
    ubiquitous in the user interface, documentation and outputs that it
    will be a lot of work to remove it.

[^4]: This value is in weeks from FACTS 7.0 onwards, previous to that it
    was in days.

[^5]: This value is in weeks from FACTS 7.0 onwards, previous to that it
    was in days.
