<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>FACTS Dose Escalation CRM</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">

<!-- Roboto Serif -->
<link href="https://fonts.googleapis.com/css2?family=Roboto+Serif:wght@400;700&amp;display=swap" rel="stylesheet">

<!-- Roboto Sans -->
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&amp;display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../../../styles.css">
</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../../media/FACTS_logo.jpg" alt="" class="navbar-logo">
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../introduction/index.html"> 
<span class="menu-text">Introduction</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="../../../documentation/index.html" aria-current="page"> 
<span class="menu-text">Documentation</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../concepts/index.html"> 
<span class="menu-text">Concepts</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../notes/index.html"> 
<span class="menu-text">Field Notes</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../releaseNotes/index.html"> 
<span class="menu-text">Release Notes</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../get.html"> 
<span class="menu-text">Get FACTS</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../contact.html"> 
<span class="menu-text">Contact</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">Version 7.1</li><li class="breadcrumb-item"><a href="../../../documentation/v71/userguides/core.html">User Guides</a></li><li class="breadcrumb-item"><a href="../../../documentation/v71/userguides/crm.html">FACTS Dose Escalation CRM</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../documentation/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Documentation</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../documentation/glossary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Glossary</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Version 7.1</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">User Guides</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth2 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../documentation/v71/userguides/core.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">FACTS Core User Guide</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../documentation/v71/userguides/crm.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">FACTS Dose Escalation CRM</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../documentation/v71/userguides/installation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">FACTS Installation Guide</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false">
 <span class="menu-text">Examples</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false">
 <span class="menu-text">CRM</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../documentation/v71/examples/CRM/example1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Example 1</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../documentation/v71/examples/CRM/example2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Example 2</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="false">
 <span class="menu-text">Staged</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../documentation/v71/examples/Staged/example1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Example 1</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../documentation/v71/examples/Staged/example2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Example 2</span></a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of Contents</h2>
   
  <ul>
  <li><a href="#sec-introduction" id="toc-sec-introduction" class="nav-link active" data-scroll-target="#sec-introduction"><span class="header-section-number">1</span> Introduction</a>
  <ul>
  <li><a href="#sec-purpose" id="toc-sec-purpose" class="nav-link" data-scroll-target="#sec-purpose"><span class="header-section-number">1.1</span> Purpose of this document</a></li>
  <li><a href="#sec-scope" id="toc-sec-scope" class="nav-link" data-scroll-target="#sec-scope"><span class="header-section-number">1.2</span> Scope of this document</a></li>
  <li><a href="#sec-context" id="toc-sec-context" class="nav-link" data-scroll-target="#sec-context"><span class="header-section-number">1.3</span> Context of this Issue</a></li>
  <li><a href="#sec-citing" id="toc-sec-citing" class="nav-link" data-scroll-target="#sec-citing"><span class="header-section-number">1.4</span> Citing FACTS</a></li>
  <li><a href="#sec-definitions" id="toc-sec-definitions" class="nav-link" data-scroll-target="#sec-definitions"><span class="header-section-number">1.5</span> Definition of Terms</a></li>
  </ul></li>
  <li><a href="#facts-overview" id="toc-facts-overview" class="nav-link" data-scroll-target="#facts-overview"><span class="header-section-number">2</span> FACTS Overview</a>
  <ul>
  <li><a href="#facts-7.1-changes-to-n-crm" id="toc-facts-7.1-changes-to-n-crm" class="nav-link" data-scroll-target="#facts-7.1-changes-to-n-crm"><span class="header-section-number">2.1</span> FACTS 7.1 Changes to N-CRM</a></li>
  <li><a href="#facts-7.0-changes-to-n-crm" id="toc-facts-7.0-changes-to-n-crm" class="nav-link" data-scroll-target="#facts-7.0-changes-to-n-crm"><span class="header-section-number">2.2</span> FACTS 7.0 Changes to N-CRM</a></li>
  <li><a href="#facts-6.5-changes-to-n-crm" id="toc-facts-6.5-changes-to-n-crm" class="nav-link" data-scroll-target="#facts-6.5-changes-to-n-crm"><span class="header-section-number">2.3</span> FACTS 6.5 Changes to N-CRM</a></li>
  <li><a href="#facts-6.4-changes-to-n-crm" id="toc-facts-6.4-changes-to-n-crm" class="nav-link" data-scroll-target="#facts-6.4-changes-to-n-crm"><span class="header-section-number">2.4</span> FACTS 6.4 Changes to N-CRM</a></li>
  <li><a href="#facts-6.3-changes-to-n-crm" id="toc-facts-6.3-changes-to-n-crm" class="nav-link" data-scroll-target="#facts-6.3-changes-to-n-crm"><span class="header-section-number">2.5</span> FACTS 6.3 Changes to N-CRM</a></li>
  <li><a href="#facts-6.2-changes-to-n-crm" id="toc-facts-6.2-changes-to-n-crm" class="nav-link" data-scroll-target="#facts-6.2-changes-to-n-crm"><span class="header-section-number">2.6</span> FACTS 6.2 Changes to N-CRM</a></li>
  <li><a href="#facts-6.1-changes-to-n-crm" id="toc-facts-6.1-changes-to-n-crm" class="nav-link" data-scroll-target="#facts-6.1-changes-to-n-crm"><span class="header-section-number">2.7</span> FACTS 6.1 Changes to N-CRM</a></li>
  </ul></li>
  <li><a href="#n-crm-dose-escalation-design-concepts" id="toc-n-crm-dose-escalation-design-concepts" class="nav-link" data-scroll-target="#n-crm-dose-escalation-design-concepts"><span class="header-section-number">3</span> N-CRM Dose Escalation Design Concepts</a>
  <ul>
  <li><a href="#overdose-control" id="toc-overdose-control" class="nav-link" data-scroll-target="#overdose-control"><span class="header-section-number">3.1</span> Overdose Control</a></li>
  <li><a href="#dose-escalation-rules" id="toc-dose-escalation-rules" class="nav-link" data-scroll-target="#dose-escalation-rules"><span class="header-section-number">3.2</span> Dose Escalation Rules</a></li>
  <li><a href="#initial-run-in" id="toc-initial-run-in" class="nav-link" data-scroll-target="#initial-run-in"><span class="header-section-number">3.3</span> Initial Run-in</a></li>
  <li><a href="#two-groups" id="toc-two-groups" class="nav-link" data-scroll-target="#two-groups"><span class="header-section-number">3.4</span> Two Groups</a></li>
  <li><a href="#sec-concepts-efficacy" id="toc-sec-concepts-efficacy" class="nav-link" data-scroll-target="#sec-concepts-efficacy"><span class="header-section-number">3.5</span> Efficacy</a></li>
  <li><a href="#sec-concepts-fgd" id="toc-sec-concepts-fgd" class="nav-link" data-scroll-target="#sec-concepts-fgd"><span class="header-section-number">3.6</span> Fine Grain Dosing</a></li>
  <li><a href="#sec-concepts-oe" id="toc-sec-concepts-oe" class="nav-link" data-scroll-target="#sec-concepts-oe"><span class="header-section-number">3.7</span> Open Enrollment</a></li>
  <li><a href="#sec-concepts-bf" id="toc-sec-concepts-bf" class="nav-link" data-scroll-target="#sec-concepts-bf"><span class="header-section-number">3.8</span> Backfilling and Frontfilling</a></li>
  <li><a href="#open-enrollment-backfilling-and-fine-grain-dosing" id="toc-open-enrollment-backfilling-and-fine-grain-dosing" class="nav-link" data-scroll-target="#open-enrollment-backfilling-and-fine-grain-dosing"><span class="header-section-number">3.9</span> Open Enrollment, Backfilling and Fine Grain Dosing</a></li>
  </ul></li>
  <li><a href="#starting-facts" id="toc-starting-facts" class="nav-link" data-scroll-target="#starting-facts"><span class="header-section-number">4</span> Starting FACTS</a></li>
  <li><a href="#the-facts-n-crm-gui" id="toc-the-facts-n-crm-gui" class="nav-link" data-scroll-target="#the-facts-n-crm-gui"><span class="header-section-number">5</span> The FACTS N-CRM GUI</a></li>
  <li><a href="#the-standard-facts-menus" id="toc-the-standard-facts-menus" class="nav-link" data-scroll-target="#the-standard-facts-menus"><span class="header-section-number">6</span> The Standard FACTS Menus</a>
  <ul>
  <li><a href="#the-file-menu" id="toc-the-file-menu" class="nav-link" data-scroll-target="#the-file-menu"><span class="header-section-number">6.1</span> The “File” Menu</a></li>
  <li><a href="#facts-settings-menu" id="toc-facts-settings-menu" class="nav-link" data-scroll-target="#facts-settings-menu"><span class="header-section-number">6.2</span> FACTS Settings Menu</a>
  <ul class="collapse">
  <li><a href="#set-options" id="toc-set-options" class="nav-link" data-scroll-target="#set-options"><span class="header-section-number">6.2.1</span> Set Options</a>
  <ul class="collapse">
  <li><a href="#grid-configuration" id="toc-grid-configuration" class="nav-link" data-scroll-target="#grid-configuration"><span class="header-section-number">6.2.1.1</span> Grid Configuration</a></li>
  <li><a href="#r-configuration" id="toc-r-configuration" class="nav-link" data-scroll-target="#r-configuration"><span class="header-section-number">6.2.1.2</span> R Configuration</a></li>
  <li><a href="#gamma-distribution-parameters" id="toc-gamma-distribution-parameters" class="nav-link" data-scroll-target="#gamma-distribution-parameters"><span class="header-section-number">6.2.1.3</span> Gamma Distribution Parameters</a></li>
  </ul></li>
  <li><a href="#enter-a-license-key" id="toc-enter-a-license-key" class="nav-link" data-scroll-target="#enter-a-license-key"><span class="header-section-number">6.2.2</span> Enter a license key</a></li>
  </ul></li>
  <li><a href="#the-help-menu" id="toc-the-help-menu" class="nav-link" data-scroll-target="#the-help-menu"><span class="header-section-number">6.3</span> The Help Menu</a></li>
  </ul></li>
  <li><a href="#the-study-tab" id="toc-the-study-tab" class="nav-link" data-scroll-target="#the-study-tab"><span class="header-section-number">7</span> The Study tab</a>
  <ul>
  <li><a href="#sec-studyinfo" id="toc-sec-studyinfo" class="nav-link" data-scroll-target="#sec-studyinfo"><span class="header-section-number">7.1</span> Study Info</a></li>
  <li><a href="#toxicity" id="toc-toxicity" class="nav-link" data-scroll-target="#toxicity"><span class="header-section-number">7.2</span> Toxicity</a>
  <ul class="collapse">
  <li><a href="#sec-study-tox-interval" id="toc-sec-study-tox-interval" class="nav-link" data-scroll-target="#sec-study-tox-interval"><span class="header-section-number">7.2.1</span> Targeting a Toxicity Interval</a></li>
  <li><a href="#sec-study-tox-single" id="toc-sec-study-tox-single" class="nav-link" data-scroll-target="#sec-study-tox-single"><span class="header-section-number">7.2.2</span> Targeting a single dose</a></li>
  </ul></li>
  <li><a href="#efficacy" id="toc-efficacy" class="nav-link" data-scroll-target="#efficacy"><span class="header-section-number">7.3</span> Efficacy</a></li>
  <li><a href="#treatment-arms" id="toc-treatment-arms" class="nav-link" data-scroll-target="#treatment-arms"><span class="header-section-number">7.4</span> Treatment Arms</a>
  <ul class="collapse">
  <li><a href="#finely-spaced-doses" id="toc-finely-spaced-doses" class="nav-link" data-scroll-target="#finely-spaced-doses"><span class="header-section-number">7.4.1</span> Finely Spaced Doses</a></li>
  </ul></li>
  <li><a href="#variants" id="toc-variants" class="nav-link" data-scroll-target="#variants"><span class="header-section-number">7.5</span> Variants</a></li>
  </ul></li>
  <li><a href="#virtual-subject-response" id="toc-virtual-subject-response" class="nav-link" data-scroll-target="#virtual-subject-response"><span class="header-section-number">8</span> Virtual Subject Response</a>
  <ul>
  <li><a href="#explicitly-defined" id="toc-explicitly-defined" class="nav-link" data-scroll-target="#explicitly-defined"><span class="header-section-number">8.1</span> Explicitly Defined</a>
  <ul class="collapse">
  <li><a href="#explicitly-defined-ordinal-toxicity" id="toc-explicitly-defined-ordinal-toxicity" class="nav-link" data-scroll-target="#explicitly-defined-ordinal-toxicity"><span class="header-section-number">8.1.1</span> Explicitly defined – Ordinal Toxicity</a></li>
  <li><a href="#explicitly-defined-toxicity-when-simulating-2-groups" id="toc-explicitly-defined-toxicity-when-simulating-2-groups" class="nav-link" data-scroll-target="#explicitly-defined-toxicity-when-simulating-2-groups"><span class="header-section-number">8.1.2</span> Explicitly defined toxicity – when simulating 2 groups</a></li>
  <li><a href="#explicitly-defined-ordinal-toxicity-with-2-groups" id="toc-explicitly-defined-ordinal-toxicity-with-2-groups" class="nav-link" data-scroll-target="#explicitly-defined-ordinal-toxicity-with-2-groups"><span class="header-section-number">8.1.3</span> Explicitly defined – Ordinal Toxicity with 2 groups</a></li>
  <li><a href="#efficacy-response-profiles" id="toc-efficacy-response-profiles" class="nav-link" data-scroll-target="#efficacy-response-profiles"><span class="header-section-number">8.1.4</span> Efficacy response profiles</a></li>
  <li><a href="#explicitly-defined-efficacy" id="toc-explicitly-defined-efficacy" class="nav-link" data-scroll-target="#explicitly-defined-efficacy"><span class="header-section-number">8.1.5</span> Explicitly Defined – Efficacy</a></li>
  <li><a href="#explicitly-defined-efficacy-with-two-groups" id="toc-explicitly-defined-efficacy-with-two-groups" class="nav-link" data-scroll-target="#explicitly-defined-efficacy-with-two-groups"><span class="header-section-number">8.1.6</span> Explicitly Defined – Efficacy with two groups</a></li>
  </ul></li>
  <li><a href="#sec-parametric" id="toc-sec-parametric" class="nav-link" data-scroll-target="#sec-parametric"><span class="header-section-number">8.2</span> Parametric</a>
  <ul class="collapse">
  <li><a href="#parametric-efficacy-response" id="toc-parametric-efficacy-response" class="nav-link" data-scroll-target="#parametric-efficacy-response"><span class="header-section-number">8.2.1</span> Parametric efficacy response</a></li>
  </ul></li>
  <li><a href="#external" id="toc-external" class="nav-link" data-scroll-target="#external"><span class="header-section-number">8.3</span> External</a></li>
  </ul></li>
  <li><a href="#sec-design" id="toc-sec-design" class="nav-link" data-scroll-target="#sec-design"><span class="header-section-number">9</span> Design</a>
  <ul>
  <li><a href="#x-hats" id="toc-x-hats" class="nav-link" data-scroll-target="#x-hats"><span class="header-section-number">9.1</span> X-Hats</a>
  <ul class="collapse">
  <li><a href="#the-pros-cons-of-using-the-median-dose-as-the-reference-dose" id="toc-the-pros-cons-of-using-the-median-dose-as-the-reference-dose" class="nav-link" data-scroll-target="#the-pros-cons-of-using-the-median-dose-as-the-reference-dose"><span class="header-section-number">9.1.1</span> The Pro’s &amp; Con’s of using the median dose as the reference dose</a></li>
  </ul></li>
  <li><a href="#toxicity-response" id="toc-toxicity-response" class="nav-link" data-scroll-target="#toxicity-response"><span class="header-section-number">9.2</span> Toxicity Response</a>
  <ul class="collapse">
  <li><a href="#deriving-the-prior" id="toc-deriving-the-prior" class="nav-link" data-scroll-target="#deriving-the-prior"><span class="header-section-number">9.2.1</span> Deriving the prior</a></li>
  <li><a href="#sec-des-tox-quant" id="toc-sec-des-tox-quant" class="nav-link" data-scroll-target="#sec-des-tox-quant"><span class="header-section-number">9.2.2</span> Derivation of the Prior from Quantiles</a></li>
  <li><a href="#derivation-of-the-prior-from-the-scenarios" id="toc-derivation-of-the-prior-from-the-scenarios" class="nav-link" data-scroll-target="#derivation-of-the-prior-from-the-scenarios"><span class="header-section-number">9.2.3</span> Derivation of the prior from the scenarios</a></li>
  </ul></li>
  <li><a href="#sec-legacy-prior-methods" id="toc-sec-legacy-prior-methods" class="nav-link" data-scroll-target="#sec-legacy-prior-methods"><span class="header-section-number">9.3</span> Legacy prior methods</a></li>
  <li><a href="#sec-efficacy-response" id="toc-sec-efficacy-response" class="nav-link" data-scroll-target="#sec-efficacy-response"><span class="header-section-number">9.4</span> Efficacy Response</a></li>
  <li><a href="#sec-prior-pseudo-subjects" id="toc-sec-prior-pseudo-subjects" class="nav-link" data-scroll-target="#sec-prior-pseudo-subjects"><span class="header-section-number">9.5</span> Prior Pseudo-subjects</a></li>
  <li><a href="#allocation-rules" id="toc-allocation-rules" class="nav-link" data-scroll-target="#allocation-rules"><span class="header-section-number">9.6</span> Allocation Rules</a>
  <ul class="collapse">
  <li><a href="#allocation-rules-when-using-a-fine-grained-dose-range" id="toc-allocation-rules-when-using-a-fine-grained-dose-range" class="nav-link" data-scroll-target="#allocation-rules-when-using-a-fine-grained-dose-range"><span class="header-section-number">9.6.1</span> Allocation rules when using a fine grained dose range</a></li>
  </ul></li>
  <li><a href="#backfill-allocation" id="toc-backfill-allocation" class="nav-link" data-scroll-target="#backfill-allocation"><span class="header-section-number">9.7</span> Backfill Allocation</a></li>
  <li><a href="#stopping-criteria" id="toc-stopping-criteria" class="nav-link" data-scroll-target="#stopping-criteria"><span class="header-section-number">9.8</span> Stopping Criteria</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content column-body" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">Version 7.1</li><li class="breadcrumb-item"><a href="../../../documentation/v71/userguides/core.html">User Guides</a></li><li class="breadcrumb-item"><a href="../../../documentation/v71/userguides/crm.html">FACTS Dose Escalation CRM</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">FACTS Dose Escalation CRM</h1>
<p class="subtitle lead">CRM / N-CRM / BLRM (Bayesian Logistic Regression Model)</p>
</div>



<div class="quarto-title-meta column-body">

    
  
    
  </div>
  


</header>


<section id="sec-introduction" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Introduction</h1>
<section id="sec-purpose" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="sec-purpose"><span class="header-section-number">1.1</span> Purpose of this document</h2>
<p>This document describes how use the FACTS Dose Escalation (DE) CRM design engine. It is intended for all end users of the system.</p>
</section>
<section id="sec-scope" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="sec-scope"><span class="header-section-number">1.2</span> Scope of this document</h2>
<p>This document covers the FACTS Dose Escalation N-CRM design engine user interface.</p>
<p>This document does not address the internal workings of the design engines or algorithms, which are addressed in the associated Design Engine Specification. It also does not address the use of FACTS Core Designs or Enrichment Designs, which are covered in other User Guides.</p>
<p>The screenshots provided are specific to a particular installation and may not reflect the exact layout of the information seen by any particular user. They were taken from FACTS 6.3 and later installed on Windows 10. Different versions of Windows or the use of different Windows themes will introduce some differences in appearance. The contents of each tab, however, will be consistent with the software.</p>
</section>
<section id="sec-context" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="sec-context"><span class="header-section-number">1.3</span> Context of this Issue</h2>
<p>This document has been updated for the version 7.1 release of Dose Escalation FACTS.</p>
</section>
<section id="sec-citing" class="level2" data-number="1.4">
<h2 data-number="1.4" class="anchored" data-anchor-id="sec-citing"><span class="header-section-number">1.4</span> Citing FACTS</h2>
<p>If writing in LaTex and using Bibtex, if you wish to cite FACTS (thank you!), can we suggest the following:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>@techreport{FACTS71,</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  author = {{FACTS Development Team}},</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  title = {{FACTS}: Fixed and Adaptive Clinical Trial Simulator},</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  year  = {2024},</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  month = {12},</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  number = {Version 7.1},</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  type         = {Computer Software},</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>  institution = {Berry Consultants LLC},</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>  address = {Austin, TX},</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>  note   = {https://www.berryconsultants.com/software/facts/}</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This will result in a reference that, for example in the APA style, will look like the following:</p>
<p>FACTS Development Team (2024). FACTS: Fixed and adaptive clinical trial simulator. Computer Software Version 7.1, Berry Consultants LLC, Austin, TX. https://www.berryconsultants.com/software/facts/.</p>
</section>
<section id="sec-definitions" class="level2" data-number="1.5">
<h2 data-number="1.5" class="anchored" data-anchor-id="sec-definitions"><span class="header-section-number">1.5</span> Definition of Terms</h2>
<p><a href="#tbl-crmterms" class="quarto-xref">Table&nbsp;1</a> gives an overview of the acronyms and abbreviations used in this document.</p>
<div id="tbl-crmterms" class="striped hover quarto-float quarto-figure quarto-figure-center anchored" data-tbl-colwidths="[15,85]">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-crmterms-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;1: List of terms used in the CRM user guide
</figcaption>
<div aria-describedby="tbl-crmterms-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="table-striped table-hover caption-top table">
<colgroup>
<col style="width: 15%">
<col style="width: 85%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Name</th>
<th style="text-align: left;">Definition</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Cap</td>
<td style="text-align: left;">A limit on the number of subjects recruited. In FACTS N-CRM users can specify a cap on the overall number of subjects to be recruited in the trial (the ‘Overall Cap’) and specify stopping rules to define when the trial should stop before it reaches cap.</td>
</tr>
<tr class="even">
<td style="text-align: left;">Control</td>
<td style="text-align: left;">Is the treatment arm with which the novel treatment(s) are principally being compared. Control may be placebo, or some existing standard of care, or therapy, against which the novel treatment has to be benchmarked in order to determine its likely usefulness.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Core</td>
<td style="text-align: left;">FACTS Core: A mode of FACTS for designing trials where multiple treatments, (possibly different doses of a novel treatment) are tested against a control and optionally an active comparator.</td>
</tr>
<tr class="even">
<td style="text-align: left;">CRM</td>
<td style="text-align: left;">Continual Reassessment Method – a dose escalation design where the dose-toxicity is estimated using a simple Bayesian model, and the resulting estimates used to control the dose escalation and estimate the Maximum Tolerated Dose (MTD).</td>
</tr>
<tr class="odd">
<td style="text-align: left;">DE</td>
<td style="text-align: left;">Dose Escalation: a mode of FACTS where subjects are treated in cohorts and dose escalation is determined by the number of toxicities observed.</td>
</tr>
<tr class="even">
<td style="text-align: left;">ED</td>
<td style="text-align: left;">Enrichment Designs: a mode of FACTS for designing trials where the same treatment is testing in different settings for example different sub-populations or different but related indications.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">FACTS</td>
<td style="text-align: left;">Fixed and Adaptive Clinical Trial Simulator.</td>
</tr>
<tr class="even">
<td style="text-align: left;">Final Endpoint</td>
<td style="text-align: left;">The final value, or state, of a subject’s endpoint.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">GUI</td>
<td style="text-align: left;">Graphical User Interface, the part of the FACTS application that the user interacts with.</td>
</tr>
<tr class="even">
<td style="text-align: left;">Method</td>
<td style="text-align: left;">In the FACTS documentation we try to reserve the term ‘method’ for the algorithms used in the simulation (as opposed to the analysis) part of the program. In the analysis part we use the term ‘Model’, see below.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Model</td>
<td style="text-align: left;">In the FACTS documentation we try to reserve the term ‘model’ for the statistical models used in the analysis of the trial data (in the ‘design’ section of the FACTS user interface). Where mathematical algorithms are used for other purposes in FACTS (for instance in the generation of the simulated data) we try to use the term ‘method’. We have found that initially it is very easy for users to be confused between these two parts of FACTS and we feel that using distinct terminology may help to reduce this.</td>
</tr>
<tr class="even">
<td style="text-align: left;">MTD</td>
<td style="text-align: left;">The dose most likely to be the Maximum Tolerated Dose (MTD) – the dose with the highest Pr(MTD).</td>
</tr>
<tr class="odd">
<td style="text-align: left;">MTD+</td>
<td style="text-align: left;">The dose most likely to be the MTD+ – the dose with the highest Pr(MTD+).</td>
</tr>
<tr class="even">
<td style="text-align: left;">Pr(MTD)</td>
<td style="text-align: left;">A dose’s probability of being MTD is the probability that it is the dose with the highest probability of having a toxicity rate in the acceptable toxicity band, and (if a threshold has been specified) does not have a probability of excess or unacceptable toxicity above the threshold. This estimate of MTD is constrained to select one of the available doses.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Pr(MTD+)</td>
<td style="text-align: left;">A dose’s probability of being the MTD+ is the probability that it is the dose with the highest probability of having a toxicity rate in the acceptable band, and (if a threshold has been specified) does not have a probability of excess or unacceptable toxicity above the threshold. Unlike Pr(MTD), Pr(MTD+) includes estimating whether a dose below or a dose above the range of those being tested is more likely to have a toxicity in the acceptable band than any of the doses in the range.</td>
</tr>
<tr class="even">
<td style="text-align: left;">Profile</td>
<td style="text-align: left;">A profile is a specification of one aspect of a scenario. A scenario is made up of one profile of each of the required types for the type of trial being simulated. FACTS allows the user to specify multiple profiles of each type and then presents all the possible combinations of profiles as scenarios that can be used to drive simulations.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Response</td>
<td style="text-align: left;">The change in a subject’s endpoint compared to their baseline state.</td>
</tr>
<tr class="even">
<td style="text-align: left;">Scenario</td>
<td style="text-align: left;">A scenario is the complete specification of the unknown external factors that determine the data observed on the trial and its timing. The exact factors depend on the type of trial being simulated but typically include: <br> -) the distribution of the final change from base line, or probability of response or rate of events in the different treatment groups <br> -) the properties of subjects’ early responses and the correlation with their final outcome <br> -) the rate at which subjects are recruited into the trial <br> -) the rate at which subjects drop out of the trial.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">SPEC</td>
<td style="text-align: left;">The Design Engine Specification, describes the system algorithms, and meaning of parameters.</td>
</tr>
<tr class="even">
<td style="text-align: left;">Response</td>
<td style="text-align: left;">The change in a subject’s endpoint compared to their baseline state.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Subject</td>
<td style="text-align: left;">Someone recruited onto a clinical trial for the purposes of learning about the properties of a treatment. Depending on the type of trial they might be patients or they might be healthy volunteers.</td>
</tr>
<tr class="even">
<td style="text-align: left;">Treatment Arm</td>
<td style="text-align: left;">Subjects on entering the study are randomized to different ‘treatment arms’. Subjects randomized to the same arm receive the same treatment and the responses of the subjects in the arm analyzed to determine the expected response to that treatment, allowing the expected responses to the different treatments to be compared.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">UG</td>
<td style="text-align: left;">The User Guide; describes how to use the system.</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
</section>
</section>
<section id="facts-overview" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> FACTS Overview</h1>
<p>This user guide assumes some limited general familiarity with FACTS and concentrates on describing the interface for designs using the N-CRM approach. See the FACTS Dose Escalation user guide for a general introduction to the FACTS Dose Escalation user interface.</p>
<p>The N-CRM is based on the method described in the paper <span class="citation" data-cites="neuenschwander2008critical">(<a href="#ref-neuenschwander2008critical" role="doc-biblioref">Neuenschwander, Branson, and Gsponer 2008</a>)</span>. It is designed for use in oncology phase 1 trials, and we understand generally in use at Novartis for the majority of their trials of this type:</p>
<ul>
<li>Dosing starts at a (very) low dose, strongly believed to be safe.</li>
<li>Usually after a cohort of subjects have completed their current dose, the dose to be used for the next cohort is selected. The selection of this dose is dictated by a combination of dose escalation rules, the estimate of the toxicity rate on the different doses and the target maximum tolerated toxicity, or toxicity band.</li>
<li>The endpoint per subject is binary: toxicity observed or not.</li>
<li>There is either a predefined set of doses to explore, or a dose range.</li>
<li>There is limited sample size.</li>
</ul>
<section id="facts-7.1-changes-to-n-crm" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="facts-7.1-changes-to-n-crm"><span class="header-section-number">2.1</span> FACTS 7.1 Changes to N-CRM</h2>
<p>In FACTS 7.1 there were new features added to N-CRM:</p>
<ul>
<li>It is now possible to backfill to the current escalation dose (also known as “frontfilling”).</li>
<li>It is now possible to specify a third queue concept – maximum number of patients in their DLT period on the current MTD estimate.</li>
<li>It is now possible to define the concept of “near” target/MTD as part of stopping rules, for both fine-grained and regular dosing.</li>
</ul>
</section>
<section id="facts-7.0-changes-to-n-crm" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="facts-7.0-changes-to-n-crm"><span class="header-section-number">2.2</span> FACTS 7.0 Changes to N-CRM</h2>
<p>In FACTS 7.0 the only change was on the Analysis tab, when entering subject data manually, the FACTS GUI now ensures that a cohort number is entered for every subject.</p>
</section>
<section id="facts-6.5-changes-to-n-crm" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="facts-6.5-changes-to-n-crm"><span class="header-section-number">2.3</span> FACTS 6.5 Changes to N-CRM</h2>
<p>In FACTS 6.5 there was a new feature added to N-CRM:</p>
<ul>
<li>It is now possible to generate a design report – a Word document describing design - once the design has been simulated. In FACTS 6.5 there was two small changes to the functionality:</li>
<li>When deriving toxicity/efficacy priors from quantiles at the lowest and highest doses, the “middle” probability option now refers to the median dose rather than the reference dose and is now optional. When pre-6.5 FACTS files are loaded in FACTS 6.5, the “middle” probability option will be ignored and replaced by 0.5.</li>
<li>When deriving toxicity/efficacy priors from specific quantiles the specification of at least two dose levels is now required whereas previously the specification of at least three dose levels was required.</li>
</ul>
<p>In FACTS 6.5 there were some improvements in the simulated behavior:</p>
<ul>
<li>Designs which include efficacy, the “Maximum cohorts used to determine MTD” parameter on the Allocation Rule tab is now observed, in FACTS 6.4 and earlier it was ignored.</li>
<li>In N-CRM designs using open enrollment without accrual pausing, FACTS will now output entries in the cohort file for subjects that have been lost following stopping rules being met.</li>
<li>In N-CRM designs using open enrollment, FACTS will no longer prematurely apply stopping conditions when there are still subjects whose outcomes have been observed, but not yet processed.</li>
<li>In N-CRM designs using open enrollment, FACTS will now report the selected MTD/MED/OSD and associated state to be the dose where the stopping conditions were first met, unless the MTD has subsequently decreased post stopping rules being met. This is to prevent a dose above the one selected when the stopping conditions were met being reported as the MTD when it is very likely that there is insufficient data on this higher dose to justify its selection. If rather than reporting the MTD at the point when the stopping rules where met, you would like the trial to resume if the dose selected as MTD has changed (and this the stopping rules possibly no longer met), ensure that the ”Pause accrual and wait for completers” option is selected on the “Stopping Criteria” tab. This allows the trial to resume if the recruitment cap has not been met.</li>
<li>FACTS Command Line mode and FLFLL (FACTS Linux File Loader Lite) now correctly handle the processing of N-CRM designs whose prior was derived using the “Legacy Prior” option.</li>
</ul>
</section>
<section id="facts-6.4-changes-to-n-crm" class="level2" data-number="2.4">
<h2 data-number="2.4" class="anchored" data-anchor-id="facts-6.4-changes-to-n-crm"><span class="header-section-number">2.4</span> FACTS 6.4 Changes to N-CRM</h2>
<p>In FACTS 6.4 there were no changes to the Dose Escalation simulators.</p>
</section>
<section id="facts-6.3-changes-to-n-crm" class="level2" data-number="2.5">
<h2 data-number="2.5" class="anchored" data-anchor-id="facts-6.3-changes-to-n-crm"><span class="header-section-number">2.5</span> FACTS 6.3 Changes to N-CRM</h2>
<p>In FACTS 6.3 a number of changes were made to improve facilities in N-CRM, or improve the way existing facilities were implemented. These were:</p>
<ol type="1">
<li>New run-in options: the existing run-in scheme is available as “simple run-in”, “custom run-in” allows a specific sequence of doses and number of subjects to test at each dose to be specified, “small cohort pre-escalation” allows a run that uses a smaller cohort size but follows the dose escalation rules and over dose control.</li>
<li>New “backfill” options in open enrolment. Backfill allows subjects that become available at a time when they can’t be allocated to the current dose (because the maximum number of subjects without final results have already been allocated to the current dose).</li>
<li>Improved handling of “maximum subjects without final results” in open enrolment. In earlier versions of FACTS this was a “global” maximum, which led to a suboptimal allocation pattern and overly cautious rejection of subjects that became available. The new model applies a maximum “per dose” so that once the trial has escalated to a new dose strength, any subjects without final results on lower doses do not block allocation to the new dose, in addition it is possible to specify two different maximums – one for when a dose has just been escalated to but has not been “cleared” (typically smaller and more cautious), and one when a dose has been cleared but we continue to allocate to it because it is the target dose (typically larger and more confident). This method is such an improvement that we recommend moving any design using open enrolment to this new version of FACTS.</li>
<li>Improved Ordinal Toxicity model – the way the likelihood is calculated has been improved – reducing the uncertainty in the model fit. Any design using an ordinal model will need to re-calibrate the prior if you move the design to FACTS 6.3. If you have a design already complete, or in execution we recommend you remain using the earlier version of FACTS for that trial.</li>
</ol>
</section>
<section id="facts-6.2-changes-to-n-crm" class="level2" data-number="2.6">
<h2 data-number="2.6" class="anchored" data-anchor-id="facts-6.2-changes-to-n-crm"><span class="header-section-number">2.6</span> FACTS 6.2 Changes to N-CRM</h2>
<p>In FACTS 6.2 features available separately in the other FACTS CRM engines (CRM (Toxicity), bCRM &amp; CRM Ordinal) were all incorporated into N-CRM. This allowed these features to be used in conjunction with N-CRM’s target toxicity band methodology, overdose control and open enrollment features, as well as in conjunction with each other for the first time.</p>
<p>The new features are:</p>
<ol type="1">
<li>From CRM (Toxicity) the option to specify that the data is coming from ‘two groups’ and for the toxicity experienced in the two groups to be modelled with a joint model [CRM 2 Sample]. This allows a trial where there are two patient populations (such as adults and children) or where there are two versions of the treatment to be simulated.</li>
<li>From bCRM the option to model a second binary efficacy endpoint [bCRM] and the for dose allocation to proceed in two stages – the first to establish an MTD and the second to establish an MED.</li>
<li>From CRM Ordinal the option for the toxicity endpoint to be modelled not as binary endpoint, but one with different categories of toxicity, and with a joint model applied to the different categories [CRM Ordinal]. The endpoint can be to model either 3 or 4 categories of toxicity:
<ol type="a">
<li>category 1 is “no toxicity”,</li>
<li>category 2 is “mild toxicity”,</li>
<li>category 3 is “toxicity”</li>
<li>category 4 (if included) is “severe toxicity”</li>
</ol></li>
</ol>
<p>All decision making is made in terms of the probability of observing a category 3 (or worse) toxicity.</p>
</section>
<section id="facts-6.1-changes-to-n-crm" class="level2" data-number="2.7">
<h2 data-number="2.7" class="anchored" data-anchor-id="facts-6.1-changes-to-n-crm"><span class="header-section-number">2.7</span> FACTS 6.1 Changes to N-CRM</h2>
<p>In FACTS 6.1 N-CRM has the new feature of ‘design variants’ that allow the user to easily simulate and evaluate an N-CRM design at different sample sizes. This change includes 4 elements:</p>
<ol type="1">
<li>Under the ‘Study’ tab the user can now specify the number of design variants, and for each variant the maximum study size in Cohorts.</li>
<li>On the simulation tab FACTS will display a copy of each simulation scenario for each variant.</li>
<li>The simulation results now include the Ppn of trials that stopped for each stopping reason: stopping because all doses are too toxic (the toxicity estimates exceed the overdose criteria), because a stopping rule was met or because the study cap was reached.</li>
<li>There are now a set of cross variant graphs that show trellis plots of the key summary graphs by design variant and scenario.</li>
</ol>
</section>
</section>
<section id="n-crm-dose-escalation-design-concepts" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> N-CRM Dose Escalation Design Concepts</h1>
<p>In an N-CRM dose escalation trial, subjects are exposed to the novel treatment at increasing dose strengths, not progressing to the next dose strength until lower doses have been shown to be sufficiently safe, and not progressing beyond the dose which appears to display the maximum tolerated rate of toxicity, or the target rate of toxicity, the “Maximum Tolerated Dose” (MTD). To limit the risk of exposing subjects to a new, higher dose strength, subjects are allocated in “cohorts’ of a given size and no further subjects are recruited until all the subjects in the cohort complete treatment and follow-up. To enroll subjects quicker and introduce further options to manage the risk of exposure at new doses, FACTS allows “Open Enrolment” of new subjects, which is a form of design that dispenses with cohorts and is described in <a href="#sec-concepts-oe">this section</a>.</p>
<p>Once all the subjects in a cohort have completed, FACTS updates its analysis of the dose toxicity, re-evaluates the dose-escalation rules and selects the dose the next cohort will be allocated to. As well as the final results of each simulated trial, each time a cohort completes FACTS outputs the data available and the results of the analysis. These are referred to as “cohorts files”, and when you run the simulations, you can specify for how many of them you want these additional files written out.</p>
<p>The design’s default behavior is to allocate the next cohort to the model estimated MTD, but this is typically modified by several user specified rules. Note that if all the rules are met, the allocation is to the model estimated MTD, it will never allocate above it.</p>
<p>The rules that are available to modify this behavior, to achieve “not progressing to the next dose strength until lower doses have been shown to be sufficiently safe” are:</p>
<ul>
<li>Starting dose: the dose strength to be allocated to the first cohort. (Specified on the Design &gt; Allocation Rule tab)</li>
<li>Overdose control: a limit can be specified on the probability that a dose’s toxicity rate is above a certain level, and any dose for which this is true is excluded from allocation. (Specified on the Study &gt; Toxicity tab)</li>
<li>Dose escalation rules: The size of the increase in dose strength from one cohort to the next can be specified (Specified on the Design &gt; Allocation Rule tab).</li>
<li>Single patient / small cohort run-in: a fixed dose allocation scheme can be specified, using a different (typically smaller) cohort size. That is applied without reference to any other rules or to the results of the analysis as long as no toxicities have been observed. If the trial includes what is thought to be a number of weak doses that are likely to have toxicity below the target rate, but are still required to be tested, using a run-in can make testing these doses cheaper and quicker.</li>
</ul>
<p>In the sections to follow, we describe overdose control, dose escalation rules and run-in features in the conventional context of cohort enrolment and a limited number of possible doses. We also describe the options FACTS allows to model the subjects in the trial as belonging to 2 different groups and the options to simultaneously model an efficacy endpoint. We subsequently describe how these are modified if:</p>
<ul>
<li>there are many potential dose strengths in a certain range that could be, but don’t have to be, administered in the trial (“fine grain dosing”).</li>
<li>we choose not to limit enrolment to cohorts but enroll subjects continuously (“open enrolment”).</li>
</ul>
<section id="overdose-control" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="overdose-control"><span class="header-section-number">3.1</span> Overdose Control</h2>
<p>Overdose control can be specified on the Study &gt; Toxicity tab. Overdose control specifies a limit on the probability that a dose has a toxicity rate above a certain level. After fitting the Bayesian logistic regression model, all doses for which the posterior probability that their toxicity rate lies above the specified level exceeds the specified limit are ineligible for allocation. Because the Bayesian Logistic regression is monotonic, this means that after every analysis either all doses are permitted for allocation or there will be a dose level above which no dose is permitted for allocation.</p>
<div id="fig-sec-concepts-tox1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sec-concepts-tox1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-1701999235.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-sec-concepts-tox1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Setting the overdose control limit
</figcaption>
</figure>
</div>
<p>The overdose control is specified in terms of the “toxicity bands” (concept of allowing ranges for the target toxicity, excess toxicity, unacceptable toxicity and under-dosing explained in more detail in <a href="#sec-study-tox-interval">this section</a>) and can either be in terms of the “excess and unacceptable toxicity bands” or just the “unacceptable toxicity band”. The “excess and unacceptable toxicity band” is every toxicity rate above the upper bound of the target band. Care should be taken when setting the permitted threshold for this joint band. If set below 0.5, it will likely exclude doses whose mean expected toxicity rate is within the target band with the risk that this makes the escalation decision in the design too cautious. Initially it might be recommended to just use the “unacceptable band” for specifying the overdose control. This allows an overdose control that is more strict – for example: “exclude any dose where the probability that the toxicity rate is above 0.6, is greater than 20%“. The lower bound for the unacceptable band can be set wherever desired, its only role is in defining this band for overdose control. It is also possible to specify that the limit changes over the course of the trial, allowing the overdose control to become stricter as more information becomes available. For example, one could reduce the permitted probability of a dose having a toxicity rate in the unacceptable band from 50% to 25% in steps of 2.5% after every cohort.</p>
</section>
<section id="dose-escalation-rules" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="dose-escalation-rules"><span class="header-section-number">3.2</span> Dose Escalation Rules</h2>
<p>The dose escalation could be solely controlled by the overdose control (as originally proposed in <span class="citation" data-cites="neuenschwander2008critical">(<a href="#ref-neuenschwander2008critical" role="doc-biblioref">Neuenschwander, Branson, and Gsponer 2008</a>)</span>), however this means that the escalation behavior is very dependent on the interplay between the prior and the observed data. Usually, teams prefer to have a fixed set of rules in place ensuring the escalation behavior is sufficiently cautious. FACTS has an option to just use overdose control or to use a combination of overdose control and a set of fixed escalation rules. In the latter case, the following rules can be set in the Design &gt; Allocation Rule &gt; Allocation tab:</p>
<div id="fig-sec-concepts-esc1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sec-concepts-esc1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-182351268.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-sec-concepts-esc1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: Dose escalation rules
</figcaption>
</figure>
</div>
<p>We introduce the notion of whether a dose has been “cleared”. A dose is cleared once we have sufficient data on it (usually, but not necessarily, the results of one cohort, but if the cohort size is small, for example 2 subjects, perhaps more than one cohort will be required). This can be supplemented by a rule that if the observed raw toxicity rate at the dose exceeds a certain limit, then the dose is not counted as cleared (this rule is usually unnecessary if overdose control limits have been set). Once a dose has been cleared, it stays cleared, meaning there is “maximum cleared dose”. The number of dose increments or the factor of dose strength above the current cleared dose that can be allocated to is then specified. For example, with doses of 12.5, 25, 50, 100, 150, 200, 250, we might allow escalation at two dose increments a time. In the figure below, you see the combination of settings used to achieve this behaviour alongside the “Fastest Possible Dose Escalation” plot on the right:</p>
<div id="fig-sec-concepts-esc2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sec-concepts-esc2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-813055109.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-sec-concepts-esc2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3: Escalation by number of dose increments
</figcaption>
</figure>
</div>
<p>Alternatively, we can specify the permitted escalation as a ratio, for example we might allow the dose strength to be at most tripled at each escalation, which, with the example dose strengths, makes the initial escalation more cautious:</p>
<div id="fig-sec-concepts-esc3" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sec-concepts-esc3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-3260327219.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-sec-concepts-esc3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4: Escalation by dose strength factor
</figcaption>
</figure>
</div>
<p>The escalation rules can be adjusted so that instead of a single increment rule, there are different increments depending on the dose, or depending on the number of observed toxicities. To modify our earlier example, we can allow escalation by 2 dose levels while no toxicities have been observed, but limit it to only one dose level once one or more toxicities have been observed:</p>
<div id="fig-sec-concepts-esc4" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sec-concepts-esc4-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-3972244063.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-sec-concepts-esc4-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5: Escalation increment varying by number of toxicities
</figcaption>
</figure>
</div>
<p>Lastly escalation can be relative to the highest cleared dose, or relative to the last dose allocated.</p>
<p>To summarize the allocation procedure:</p>
<ul>
<li>The current maximum cleared dose is identified.</li>
<li>The current data is analyzed using the Bayesian Logistic Regression model.</li>
<li>The overdose rules are evaluated and all doses exceeding the overdose control limit are excluded from this escalation selection.</li>
<li>From the remaining doses, the dose best meeting the target MTD or target toxicity interval objective based on the model is selected as the “target dose” (TD).</li>
<li>If the TD is at or below the current maximum cleared dose, the next cohort is allocated to the TD.</li>
<li>If the TD is within the escalation rules of the current maximum cleared dose, the next cohort is allocated to the TD.</li>
<li>Otherwise, the next cohort is allocated to the highest dose above the current maximum cleared dose as allowed by the escalation rules.</li>
</ul>
</section>
<section id="initial-run-in" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="initial-run-in"><span class="header-section-number">3.3</span> Initial Run-in</h2>
<p>The purpose of defining a run-in is to define a fixed allocation behavior to be followed up to the first toxicity being observed. The specified number of subjects to allocate to each dose in the run-in and which doses to test are specified. This scheme is followed until a toxicity is observed or we reach the end of this fixed scheme.</p>
<p>Three forms of run-in specification are available:</p>
<ul>
<li>Simple: allocates a small cohort to every defined dose in ascending order (unless fine grain doses - see <a href="#sec-concepts-fgd">this section</a> – have been specified, in which case the escalation rules are followed).</li>
<li>Custom: allocates a defined number of subjects (possibly varying by dose) to selected doses in ascending order.</li>
<li>Small cohort pre-escalation: allocates a small cohort, but follows the escalation rules assuming just a single small cohort is required to clear a dose.</li>
</ul>
<p>All run-in schemes can be modified in a number of ways:</p>
<ul>
<li>Specifying a maximum dose at which the run-in stops if no toxicities are observed until that dose.</li>
<li>If ordinal toxicities are being simulated, the run-in may should at the first observed category 2 toxicity (rather than a category 3 toxicity)</li>
<li>Whether the subjects used in the run-in should be counted towards the trial sample size or not.</li>
<li>When a toxicity is observed the standard behavior is to allocate to the minimum of: the last dose tested in the run-in, the current TD or the highest dose that can be allocated to by the overdose rules. This can be replaced by expanding the allocation on the current dose to make it a full cohort as specified in Study &gt; Study Info tab (this option is particularly useful in conjunction with stopping for a category 2 toxicity).</li>
</ul>
</section>
<section id="two-groups" class="level2" data-number="3.4">
<h2 data-number="3.4" class="anchored" data-anchor-id="two-groups"><span class="header-section-number">3.4</span> Two Groups</h2>
<p>FACTS has the option to model the subjects in the trial as belonging to two different groups, these can be either:</p>
<ul>
<li>Two groups distinguished by a baseline property of the subjects, for example adults and paediatrics.</li>
<li>Two groups separated by a difference in treatment (and selected randomly), for example the study drug alone or in combination with an additional drug.</li>
</ul>
<p>There are options for when group 2 starts enrolling:</p>
<ul>
<li>They can be recruited sequentially – group 1 then group 2.</li>
<li>They can be recruited in parallel</li>
<li>The second group can be started when the allocation to the first group reaches a particular dose</li>
<li>The second group can be started when the number of subjects allocated to group 1 reaches a particular threshold.</li>
</ul>
<p>A joint model is fitted to the two groups.</p>
<p>The first group is modeled:</p>
<p><span class="math display">\[
logit(p_{1j}) = \alpha + \beta \hat{x}_j
\]</span></p>
<p>The second group is modeled:</p>
<p><span class="math display">\[
logit(p_{2j}) = (\alpha + a) + (\beta + b) \hat{x}_j
\]</span> With separate priors and some optional constraints on <span class="math inline">\(a\)</span> and <span class="math inline">\(b\)</span>. Dose escalation and stopping are judged independently for the two groups.</p>
</section>
<section id="sec-concepts-efficacy" class="level2" data-number="3.5">
<h2 data-number="3.5" class="anchored" data-anchor-id="sec-concepts-efficacy"><span class="header-section-number">3.5</span> Efficacy</h2>
<p>FACTS has the option to additionally model an efficacy endpoint. There are currently two limitations in simulation:</p>
<ol type="1">
<li>Only a binary efficacy endpoint can be simulated</li>
<li>The efficacy endpoint is assumed to be available at the same time as the toxicity endpoint.</li>
</ol>
<p>The efficacy and toxicity endpoints are modelled separately. There are options to specify early stopping rules for finding the MTD, and to specify a cap on the sample size that can be spent finding the MTD. Once these rules are met, then allocation is towards the Minimum Efficacious Dose (MED) – if this is below the MTD. If the estimated MED lies at or above the estimated MTD, the allocation is at the estimated MTD.</p>
<p>If while allocating to the estimated MED further toxicity results change the estimate of the MTD, and if there is now insufficient information on the MTD as specified by the early stopping rules for finding the MTD, allocation switches back to allocating to the estimated MTD, if the sample size cap for finding the MTD allows.</p>
</section>
<section id="sec-concepts-fgd" class="level2" data-number="3.6">
<h2 data-number="3.6" class="anchored" data-anchor-id="sec-concepts-fgd"><span class="header-section-number">3.6</span> Fine Grain Dosing</h2>
<p>In some settings, e.g.&nbsp;when the drug is delivered in solution by IV or when manufacturing allows any dose in a range from say 100mg to 400mg in steps of 10mg, dose strengths need not be restricted to just a small number of pre-defined levels. FACTS has a feature that allows this to be simulated, not with a continuous range of doses, but with “fine grain” dosing.</p>
<p>FACTS supports the specification of a range of doses from a minimum to a maximum with doses either equally spaced or spaced with equal ratio. Using dose ratio makes most sense it you want to use the dose strength whilst believing the effect will be roughly log-dose. Using dose ratios, it’s necessary to accept FACTS reporting dose strengths only close to those desired. As an example, if the main doses followed a dose doubling scheme: 12.5, 25, 50, etc., one might use fine grain dosing with dose space ratios of approximately the 4th root of 2 (1.1892). The resulting doses are 12.5, 14.865, 17.677, 21.022, 24.999, 29.729, 35.354, 42.043, 49.998, etc., which means there are three dose levels between each of the original doses.</p>
<p>There are two alternatives:</p>
<ul>
<li>Use nominal dose strengths 1, 2, 3, 4, … (i.e.&nbsp;assuming the dose spacing is linear in expected effect) and label the doses according to their actual strength.</li>
<li>Use a fixed dose interval (e.g.&nbsp;12.5 resulting in doses of 12.5, 25, 37.5, 50, 62.5, etc.) so the lower doses (of the original scheme) have fewer (or no) intermediate doses and the higher doses have many more. The dose escalation rules can be specified in terms of dose strength ratio to achieve the required escalation, for example allowing dose escalation with a dose strength ratio of 2 will result in the initial escalation using doses 12.5, 25, 50, 100, etc.</li>
</ul>
<p>As well as possibly adjusting the dose escalation step size to accommodate the new dose levels on the Design &gt; Allocation Rule tab, there are two other rules that may need modification:</p>
<ul>
<li><p>To count a dose as “cleared”, we might now count cohorts on nearby doses to count towards the required clearing total. This is specified as the “Max ratio of dose strengths considered as near” (if dose allocation rules apply to ratio of dose strength) or “Delta in dose strength considered as near” (if dose allocation rules apply to dose strength) on the Design &gt; Allocation Rule tab.</p>
<ul>
<li>For example, if we have doses at roughly 4th root of 2 intervals, we might count any dose within a ratio of 1.2 as “near” so that any cohorts allocated to immediate neighbor doses count towards clearing a dose.</li>
<li>Alternatively, if we have doses every 12.5mg from 12.5 to 400, counting any dose within a ratio of 1.1 will mean that from dose 125 and above, immediate neighbor doses (within 12.5) count towards clearing a dose, and from dose 250 and above, doses within 25mg (two immediate neighbor doses) count towards clearing a dose.</li>
</ul></li>
<li><p>The concept of “near doses” in fine grained dosing allows us to skip certain doses in the escalation phase, which might make sense if there is reason to believe that doses of similar dose strengths behave similarly and don’t provide enough additional information to justify assigning more cohorts to.</p>
<div id="fig-sec-concepts-fgd1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sec-concepts-fgd1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-2992696665.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-sec-concepts-fgd1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6: Doses from 12.5 to 400mg, with fixed spacing of 12.5. Showing dose escalation by dose doubling.
</figcaption>
</figure>
</div></li>
<li><p>When requiring a certain number of cohorts to have been allocated to the estimated MTD before the trial can stop / to allow the trial to stop, we might now count cohorts on doses near the estimated MTD as counting towards that total. This is set on the Design &gt; Stopping Criteria tab. In considering which doses are near, the same logic as on the Design &gt; Allocation Rule tab regarding Dose Strength or Ratio of Dose Strength will be used.</p>
<ul>
<li><p>If Dose Strength is used, then on the Design &gt; Stopping Criteria tab, we can include cohorts on nearby doses to count towards the required number of cohorts on the estimated MTD by specifying “nearby” in terms of dose strength. For example, by +/- 12.5 mg:</p>
<div id="fig-sec-concepts-fgd2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sec-concepts-fgd2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-3547827418.png" id="fig-sec-concepts-fgd2" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-sec-concepts-fgd2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;7
</figcaption>
</figure>
</div></li>
<li><p>If ratio of Dose Strength is used then on the Design &gt; Stopping Criteria tab, we can include cohorts on nearby doses to count towards the required number of cohorts on the estimated MTD by specifying “nearby” in terms of dose strength ratio. For example, by +/- 10%:</p>
<div id="fig-sec-concepts-fgd3" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sec-concepts-fgd3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-271758767.png" id="fig-sec-concepts-fgd3" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-sec-concepts-fgd3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;8
</figcaption>
</figure>
</div></li>
</ul></li>
</ul>
<p>Note that with Fine Grain dosing, if a band is specified for a dose to count as cleared, then the maximum cleared dose will be the maximum dose within that band, and if incrementing relative to the Maximum cleared dose, then the maximum permitted increment will be relative to the maximum dose within the cleared band.</p>
</section>
<section id="sec-concepts-oe" class="level2" data-number="3.7">
<h2 data-number="3.7" class="anchored" data-anchor-id="sec-concepts-oe"><span class="header-section-number">3.7</span> Open Enrollment</h2>
<p>Open enrollment <span class="citation" data-cites="broglio2015bayesian">(<a href="#ref-broglio2015bayesian" role="doc-biblioref">Broglio et al. 2015</a>)</span> can be used instead of cohort enrollment. Cohort enrolment enrolls a fixed number of subjects to a given dose, then waits until their treatment and follow up is complete (so their final status – whether they suffered a DLT (Dose Limiting Toxicity) or not – is known) before deciding on the next dose to allocate to and then recruiting the next cohort. This likely means that subjects become available for inclusion in the trial, but have to be turned away as the trial waits for the current cohort to complete. Open enrollment attempts to address this by allowing subjects to be enrolled whilst the current “cohort” is completing. However, this may come with some risk – more than a cohort’s worth of subjects may now be exposed to a new dose before we have any estimate of its DLT rate. To allow this risk to be managed, open enrollment introduces two new concepts:</p>
<ol type="1">
<li><p>When allocating to an uncleared dose, a cap can be set on the number of subjects that can be allocated to that dose who have not yet got their final results (“OE cap 1”). For example, if this number is set to 3 (to be the same as a common cohort size), after 3 subjects have been recruited and allocated to the current dose, no more subjects will be allocated to this dose until at least one of these subjects has completed. Until then, potential subjects that become available will be turned away unless backfilling is enabled (see next point below). But unlike cohort enrolment, as soon as the first of the subjects on the dose completes, a subject that comes available could now be allocated to the dose, depending on further rules explained below (frontfilling) – unless of course that subject’s result has changed the estimated MTD. Note that the trial won’t escalate beyond the current dose until the required number of subjects to clear the dose have completed. By default, the trial won’t allocate more than the number of subjects required to clear the dose until the dose is cleared, meaning if 3 subjects are required to clear a dose and 3 subjects have been allocated to this dose, even when 1 or 2 of these subjects have their final results and a new subjects is enrolled, they won’t be allocated to this dose. If this is regarded as over cautious, it can be modified by enabling frontfilling, allowing 3 subjects without final results simultaneously. In the above example, this would mean we could place a fourth subject on the dose when the result of the first subject has come in and a fifth subject as soon as the result of the second subject has come in.</p></li>
<li><p>When the cap on the number of subjects without final results on an uncleared dose has been reached (“OE cap 1”) new potential subjects will be turned away, unless backfilling is enabled. Enabling backfilling allows these subjects to instead be included, allocating them to a lower dose that has already been cleared. Whilst such an allocation may not contribute as much to identifying the MTD as allocating to the current dose would, it can still contribute by:</p>
<ol type="a">
<li>Increasing the information on the next lower dose can inform the estimate of toxicity on the current dose through the Bayesian logistic model.</li>
<li>Providing additional information on a dose that it may be necessary to de-escalate too if the current dose turns out to be too toxic.</li>
</ol>
<p>It can also contribute information on other endpoints (such as efficacy). Once backfilling has been enabled, it is also possible to enable frontfilling. For more information on backfilling and frontfilling, see <a href="#sec-concepts-bf">this section</a>.</p></li>
</ol>
<p>Assume at a given point in time we want to allocate a subject to a specific dose, denoted by “candidate dose”. FACTS allows 3 different caps to be specified on how many subjects who have not yet got their final results (i.e.&nbsp;are not yet complete) can be allocated to this candidate dose:</p>
<div id="fig-sec-concepts-oe1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sec-concepts-oe1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-1725771221.png" id="fig-sec-concepts-oe1" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-sec-concepts-oe1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;9
</figcaption>
</figure>
</div>
<ol type="1">
<li><em>Maximum subjects without final results if dose is uncleared:</em> As described early in this section, we encounter this cap during escalation when the candidate dose is not yet cleared. This cap takes into account subjects not yet complete on the candidate dose and any higher dose (“OE cap 1”).</li>
<li><em>Max subjects without final results if dose is cleared and below MTD</em>: We encounter this cap when the candidate dose is cleared and below the estimated MTD (which can happen if the estimated MTD is beyond the range of available doses, when backfilling, or when allocating during the efficacy phase of a toxicity plus efficacy trial). This cap takes into account subject not yet complete on the candidate dose and any lower doses (“OE cap 2”).</li>
<li><em>Max subjects without final results if dose is cleared and at MTD:</em> We encounter this cap when the candidate dose is cleared and the current model estimated MTD (which can happen when after clearing a dose we decide not to escalate, or after de-escalating) (“OE cap 3”).</li>
</ol>
</section>
<section id="sec-concepts-bf" class="level2" data-number="3.8">
<h2 data-number="3.8" class="anchored" data-anchor-id="sec-concepts-bf"><span class="header-section-number">3.8</span> Backfilling and Frontfilling</h2>
<p>As described in the preceding section, Backfilling is the allocation of subjects to a lower dose when, due to restrictions, it is not possible to allocate a subject who comes available to the current dose <span class="citation" data-cites="dehbi2021controlled">(<a href="#ref-dehbi2021controlled" role="doc-biblioref">Dehbi, O’Quigley, and Iasonos 2021</a>)</span>. FACTS provides a number of options to configure how backfilling behaves. Backfilling can be enabled in the Study &gt; Study Info tab. The total sample size can be divided between the subjects allocated as part of conventional dose escalation and those allocated using backfill. When backfill is enabled, it is important to increase the total sample size and then limit the number that can be allocated using backfill, as subjects allocated using backfilling will not contribute to the escalation and the confirmation of the MTD and it’s usually important to retain sufficient sample size to achieve this aim.</p>
<div id="fig-sec-concepts-bf1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sec-concepts-bf1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-1147748051.png" id="fig-sec-concepts-bf1" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-sec-concepts-bf1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10
</figcaption>
</figure>
</div>
<p>When enabling backfilling, several options can be specified in the Design &gt; Backfill Allocation tab.</p>
<div id="fig-sec-concepts-bf2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sec-concepts-bf2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-2552514450.png" id="fig-sec-concepts-bf2" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-sec-concepts-bf2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;11
</figcaption>
</figure>
</div>
<ul>
<li>Two maximum caps can be specified on the number of subjects that are assigned in the process of backfilling to a given dose:
<ul>
<li>an overall cap on subjects per dose that cannot be exceeded by backfill, counting also subjects that were assigned to that dose through regular allocation</li>
<li>a cap on the number of subjects per dose that were allocated by backfill, counting only subjects that were assigned to that dose using backfilling.</li>
</ul></li>
<li>How many dose levels below the current dose can be allocated to when backfilling. Backfilling will always be to the highest dose possible (which might be the current dose if frontfilling is enabled, otherwise it will be below the current dose). Allocation to the next highest dose might be limited either by an open enrolment cap if there are already subjects allocated to that dose who have not yet completed, or it might be limited by the backfill caps described above. If allocation to the dose below the current dose is not possible, backfilling will by default look at the dose below that (two levels below the current dose) and so on. Using this option can ensure no backfilling happens to doses that are too far below the current dose.</li>
<li>The lowest dose that can be allocated to when backfilling. This option is particularly useful when there is reason to believe doses below a certain level will not be effective.</li>
<li>Whether frontfilling is allowed – frontfilling allows allocating more subjects to uncleared doses than the number required to clear that dose (see <a href="#sec-concepts-oe">this section</a>).</li>
</ul>
</section>
<section id="open-enrollment-backfilling-and-fine-grain-dosing" class="level2" data-number="3.9">
<h2 data-number="3.9" class="anchored" data-anchor-id="open-enrollment-backfilling-and-fine-grain-dosing"><span class="header-section-number">3.9</span> Open Enrollment, Backfilling and Fine Grain Dosing</h2>
<p>When using open enrolment and fine grain dosing, the interval defined on the Design &gt; Allocation Rule tab “Delta in dose strength considered as near +/-“, or “Max ratio of dose strengths considered as near” is crucial: it is used to define the range of doses where subjects allocated to any of them count towards clearing a dose.</p>
<ul>
<li>If dose allocation rules are selected to apply to “Dose strength”, the interval is defined “Delta in dose strength considered as near +/-“. Thus, for example, if this is set to 2, then subjects complete on doses with strength in the range 4-8 will contribute to the dose of strength 6 being cleared. At the same time, clearing the dose of strength 6 will automatically clear the dose of strength 8.</li>
<li>If dose allocation rules are selected to apply to “Ratio of strength”, the interval is defined “Max ratio of dose strengths considered as near“. Thus, for example if this is set to 1.5, then subjects complete on doses with strength in the range 4-9 will contribute to the dose of strength 6 being cleared. At the same time, clearing the dose of strength 6 will automatically clear the dose of strength 9. These ranges also apply when assessing “OE cap 1-3”, and how many subjects have been allocated overall, or via backfilling. In backfilling, FACTS checks each dose strength and the doses in its “near” interval range, at (if frontfilling) or below the current dose, until the first dose strength is found where backfilling can take place.</li>
</ul>
</section>
</section>
<section id="starting-facts" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> Starting FACTS</h1>
<p>FACTS is usually first started using the FACTS icon installed on the Windows desktop or from the Windows Start &gt; Programs menu.</p>
<p>When the application opens, you are presented with the main introduction screen of FACTS (<a href="#fig-intro" class="quarto-xref">Figure&nbsp;12</a>). From here you can start designing an N-CRM trial, by double clicking N-CRM in the list of available designs, or by selecting the N-CRM design option from the File &gt; New &gt; Dose Escalation menu.</p>
<p>FACTS will also be associated the parameter files it writes out with a ‘.facts’ file extension. Clicking on any one of these files will automatically start FACTS with that file opened.</p>
<p>Note: Depending on your license, some design options may not be available.</p>
<div id="fig-intro" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-intro-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-4175651506.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-intro-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;12: FACTS introduction screen
</figcaption>
</figure>
</div>
<p>From this screen a new design can be started by selecting the design type in the list and double clicking it, or clicking on the ‘create new’ button at the bottom of the list.</p>
<p>In the ‘Recent Work’ panel, the use can select from the list of most recently opened FACTS files, or from the list of directories where those files were located, opening the folder and selecting a FACTS file from there.</p>
<p>Once a FACTS design has been created, the appropriate FACTS design module can be launched by double clicking on the “.facts” file in Windows Explorer.</p>
<p>Once a specific type of FACTS design has been selected or an existing FACTS file opened, the FACTS GUI displays the tabs and parameters appropriate to that type of trial design.</p>
</section>
<section id="the-facts-n-crm-gui" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> The FACTS N-CRM GUI</h1>
<p>The FACTS N-CRM GUI conforms to the standard FACTS GUI layout, with information and displays divided across various standard tabs (<a href="#fig-tablayout" class="quarto-xref">Figure&nbsp;13</a>).</p>
<ul>
<li>The Study Tab has sub-tabs for entering Study Information and specifying the Treatment Arms (doses) available in the study. This is where the user specifies the ‘given’ requirements, or constraints, of the trial to be designed.</li>
<li>The Virtual Subject Response tab has sub-tabs for specifying Explicitly Defined response scenarios to simulate and loading External data files of simulated subject responses. This is where a set of different toxicity rates per dose are specified that should represent the expected ‘space’ of the expected dose-toxicity profiles for the compound being tested.</li>
<li>The Design has sub-tabs for specifying the Allocation Rules, Stopping rule and Toxicity Response model. These are the design choices open to the trial biostatistician. The expected consequences of these design choices are estimated by running simulations of the trials using the various virtual subject response profiles defined.</li>
<li>On the Simulation Tab, the user controls and runs simulations and can view the simulation results.</li>
<li>On the Analysis tab, the user can use the design to analyze a specific data set and report the result of fitting the specified toxicity response model and the recommended dose for the next cohort.</li>
</ul>
<div id="fig-tablayout" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-tablayout-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-3201765865.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:50.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-tablayout-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;13: Tab layout of FACTS
</figcaption>
</figure>
</div>
<p>Also on the menu bar, on the right hand side of the FACTS Window, is a button labeled “Notes”; clicking this button reveals a simple “notepad” window in which the user can maintain some simple notes that will be stored within the “.facts” file (see <a href="#fig-notes" class="quarto-xref">Figure&nbsp;14</a> and <a href="#fig-designnotes" class="quarto-xref">Figure&nbsp;15</a>)</p>
<div id="fig-notes" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-notes-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-2023108780.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:50.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-notes-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;14: The ‘Notes’ button
</figcaption>
</figure>
</div>
<div id="fig-designnotes" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-designnotes-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-2814137677.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:70.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-designnotes-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;15: Example design notes
</figcaption>
</figure>
</div>
<p>The notepad window comes with two further buttons: one to change the window to a free floating one that can be moved away from the FACTCS window; and the other to close it.</p>
<p>The Notes field can be used for any text the user wishes to store with the file. Suggested uses are: to record the changes made in a particular version of a design and why; and to comment on the simulation results. This will help when coming back to work that has been set aside, to recall what gave rise to the different version of a design.</p>
</section>
<section id="the-standard-facts-menus" class="level1" data-number="6">
<h1 data-number="6"><span class="header-section-number">6</span> The Standard FACTS Menus</h1>
<section id="the-file-menu" class="level2" data-number="6.1">
<h2 data-number="6.1" class="anchored" data-anchor-id="the-file-menu"><span class="header-section-number">6.1</span> The “File” Menu</h2>
<p>FACTS has a File menu with commands similar to those found in most Windows applications, but also some unique to FACTS. The commands can be found in <a href="#tbl-filecommands" class="quarto-xref">Table&nbsp;2</a>.</p>
<div id="tbl-filecommands" class="striped hover quarto-float quarto-figure quarto-figure-center anchored" data-tbl-colwidths="[15,85]">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-filecommands-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;2: List of commands in the CRM file menu
</figcaption>
<div aria-describedby="tbl-filecommands-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="table-striped table-hover caption-top table">
<colgroup>
<col style="width: 15%">
<col style="width: 85%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Command</th>
<th style="text-align: left;">Definition</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">New</td>
<td style="text-align: left;">Allows the user to select a trial design type and start a new design; if there are unsaved changes in the current design the user is prompted to save them first.</td>
</tr>
<tr class="even">
<td style="text-align: left;">Open</td>
<td style="text-align: left;">Allows the user to select an existing FACTS file and open it; if there are unsaved changes in the current design the user is prompted to save them first.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Save</td>
<td style="text-align: left;">Saves the current changes in the design to the currently open FACTS file.</td>
</tr>
<tr class="even">
<td style="text-align: left;">Save As</td>
<td style="text-align: left;">Allows the current version of the design to be saved to a new FATCS file; this file is then the “currently open” FACTS file going forward.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Export Project</td>
<td style="text-align: left;">Creates a “Zip” archive containing the current FACTS file and all the simulation results, so these can be easily archived, emailed, saved, etc.</td>
</tr>
<tr class="even">
<td style="text-align: left;">Recent Projects</td>
<td style="text-align: left;">Contains entries for the last ten FACTS files opened: selecting one re-opens it.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Recent Folders</td>
<td style="text-align: left;">Contains entries for the folders that contain the last ten FACTS files opened: selecting one opens a file browser window on that folder allowing a ‘.facts’ file in that folder to be selected (or allowing the user to navigate to some different folder and select a ‘.facts’ file there).</td>
</tr>
<tr class="even">
<td style="text-align: left;">Examples</td>
<td style="text-align: left;">Contains example projects for the different design engines: selecting one opens it.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Close</td>
<td style="text-align: left;">Closes the current FACTS file, returning the user to the FACTS introduction screen.</td>
</tr>
<tr class="even">
<td style="text-align: left;">Exit</td>
<td style="text-align: left;">Closes FACTS altogether.</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
</section>
<section id="facts-settings-menu" class="level2" data-number="6.2">
<h2 data-number="6.2" class="anchored" data-anchor-id="facts-settings-menu"><span class="header-section-number">6.2</span> FACTS Settings Menu</h2>
<p>The “Settings” command menu allows the user to do 2 things:</p>
<ul>
<li>Set various FACTS options to local settings – see below for details.</li>
<li>Reset the options based on the stored configuration file. This file, “config.xml”, will initially be installed during the FACTS installation process and is stored in the Windows “Program Files” folder, in the sub-folder where FACTS get installed.</li>
<li>Change the stored configuration file. This command allows you to select a new configuration file and have FACTS copy it to the sub-folder within the Windows “Program Files” folder, where FACTS get installed so it becomes the new stored configuration file. This allows IT support to easily disseminate configuration changes.</li>
<li>Enter a new or changed license key.</li>
</ul>
<section id="set-options" class="level3" data-number="6.2.1">
<h3 data-number="6.2.1" class="anchored" data-anchor-id="set-options"><span class="header-section-number">6.2.1</span> Set Options</h3>
<p>The FACTS Options dialog allows the user to:</p>
<ul>
<li>Set and Test the connection parameters to access a compute grid for running simulations.</li>
<li>Configure the version and location of R or R Studio that can be launched from within FACTS</li>
<li>Select how gamma distributions are parameterized.</li>
</ul>
<section id="grid-configuration" class="level4" data-number="6.2.1.1">
<h4 data-number="6.2.1.1" class="anchored" data-anchor-id="grid-configuration"><span class="header-section-number">6.2.1.1</span> Grid Configuration</h4>
<p>A grid compute facility for running simulations will only be available if your local IT services have set one up. If they have done so, they</p>
<ul>
<li>May have already set the appropriate parameters In the FACTS configuration file included with the FACTS installation files.</li>
<li>Inform you of the parameters to be set manually via this dialog</li>
<li>Send a new configuration file that can be installed using the “Load Options” menu command.</li>
</ul>
<p>If modifying the grid options manually, select the “Options” menu command and enter the values on the “Grid Configuration” tab of the displayed dialog window.</p>
<div id="fig-webservice" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-webservice-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-1963956967.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-webservice-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;16: Webservice Configuration
</figcaption>
</figure>
</div>
<p>First select the type of interface to the grid to be used, this is either:</p>
<ul>
<li>Via a network shared drive (with a “sweeper script” running on a client machine to transfer jobs to the grid management system and return results from it).</li>
<li>Via a web service system using a webserver and database to communicate to a grid management system. The IT group supporting the grid should be able to tell you which interface they have implemented, if any. If access to the grid is via a Network Share it is necessary to specify:</li>
<li>The location of the network share folder, usually in the form \&lt;server name&gt;\&lt;folder name\&gt;.</li>
<li>Whether the grid client is running Windows or Linux (so end-of-line characters can be corrected)</li>
<li>The listener delay – this is the interval between “looks” when FACTS is waiting for simulation results to be complete</li>
</ul>
<p>Once specified it is possible to use the “Test” button to check that the Network Shared folder is accessible and writeable.</p>
<p>If access to the grid is via a web service:</p>
<ul>
<li>The location of the web service endpoint.</li>
</ul>
<p>Clicking on “Test Configuration” and will cause FACTS will attempt to connect to the FACTS grid controller. The control will show which components of the connection are working.</p>
<p>See the FACTS Installation Guide and FACTS Simple Grid Interface Guide for more details of setting up a grid.</p>
</section>
<section id="r-configuration" class="level4" data-number="6.2.1.2">
<h4 data-number="6.2.1.2" class="anchored" data-anchor-id="r-configuration"><span class="header-section-number">6.2.1.2</span> R Configuration</h4>
<p>In FACTS on the Simulation tab there are two controls that launch R – “Open in R” and “ Design Report” (in FACTS 6.2.0 the latter only available for FACTS Core designs).</p>
<p>To enable these to work the user must specify where the R or RStudio executable is installed and (if there is more than one version of R installed) which version of R to use.</p>
<div id="fig-rconfig" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-rconfig-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-1268844426.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-rconfig-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;17: The R Configuration Dialog
</figcaption>
</figure>
</div>
<p>The dialog allows the user to Add, Edit, Test and Remove links to versions of R.</p>
<div id="fig-rlink" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-rlink-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-272657384.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-rlink-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;18: Adding a link to R
</figcaption>
</figure>
</div>
<p>Clicking on “Add” opens a normal Windows directory browser window, the user must navigate to the location of an R installation (for example “C:\Program Files\R\R-2.15.2\bin”, select the file R.exe, and click “Open”. This adds a new entry on the R configuration dialog.</p>
<p>Clicking on “Edit” operates similarly to “Add” above, except the selected location replaces that currently selected entry on the R configuration dialog rather than adding a new one.</p>
<p>Clicking on “Test” checks whether the currently selected entry on the R configuration dialog is available, if it is not an error dialog is displayed:</p>
<div id="fig-rconfigerror" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-rconfigerror-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-2537319102.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-rconfigerror-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;19: Example of R Configuration error
</figcaption>
</figure>
</div>
<p>Clicking on “Remove” removes the currently selected location on the R configuration dialog.</p>
<p>The version of R to use by default is selected by clicking on the ‘Active’ check box of the version to use.</p>
</section>
<section id="gamma-distribution-parameters" class="level4" data-number="6.2.1.3">
<h4 data-number="6.2.1.3" class="anchored" data-anchor-id="gamma-distribution-parameters"><span class="header-section-number">6.2.1.3</span> Gamma Distribution Parameters</h4>
<p>In FACTS a number of parameters require inverse gamma distributions to be specified as priors for the parameter value. There are two different parameterization of the inverse gamma provided so that the user can select the form they find the most intuitive.</p>
<div id="fig-gammaparam" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-gammaparam-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-718655442.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-gammaparam-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;20: The parameterisation of Inverse Gamma Distributions
</figcaption>
</figure>
</div>
<p>The first form uses parameters that are the mean of the distribution and the equivalent weight in terms of the equivalent number of observations. The second form uses an ‘Alpha’ and ‘Beta’ parameterization that some statisticians are familiar with and will find natural to use.</p>
</section>
</section>
<section id="enter-a-license-key" class="level3" data-number="6.2.2">
<h3 data-number="6.2.2" class="anchored" data-anchor-id="enter-a-license-key"><span class="header-section-number">6.2.2</span> Enter a license key</h3>
<p>If a new license key is required, this command can be used to enter one. There are two ways of entering a new license:</p>
<div id="fig-licensekey" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-licensekey-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-1671179033.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-licensekey-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;21: Enter FACTS License Key
</figcaption>
</figure>
</div>
<p>The key can be entered directly, along with the associated Organization name, or by selecting a supplied license file.</p>
</section>
</section>
<section id="the-help-menu" class="level2" data-number="6.3">
<h2 data-number="6.3" class="anchored" data-anchor-id="the-help-menu"><span class="header-section-number">6.3</span> The Help Menu</h2>
<p>FACTS has a Help menu with commands to assist you with the use of FACTS, providing links to users guides, tutorial and training videos. The commands are:</p>
<div id="tbl-helpcommands" class="striped hover quarto-float quarto-figure quarto-figure-center anchored" data-tbl-colwidths="[15,85]">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-helpcommands-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;3: List of commands in the CRM help menu
</figcaption>
<div aria-describedby="tbl-helpcommands-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="table-striped table-hover caption-top table">
<colgroup>
<col style="width: 15%">
<col style="width: 85%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Command</th>
<th style="text-align: left;">Definition</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">User Guides</td>
<td style="text-align: left;">Provides access to documents such as this one, with (mainly) one user guide to each design type within FACTS. Exceptions to this simple structure are: <br> 1. Core Design User Guide: A guide to the options under the ’Design” tab for FACTS Core for all endpoints. <br> 2. Staged Design User Guide: As the staged design allows the design of one FACTS Core stage followed by a second, most of the interface is common to the basic FACTS Core. This guide describes the differences and additional aspects for all endpoints. <br> 3. Dose Escalation User Guide: This covers all the Dose Escalation engines except for N-CRM and 2D-CRM that have their own. It thus covers the 3+3, mTPI, CRM(Toxicity), CRM(Ordinal), CRM(Efficacy) and bCRM engines.</td>
</tr>
<tr class="even">
<td style="text-align: left;">Tutorials</td>
<td style="text-align: left;">Provides access to all the tutorial documents, which describes detailed examples of use of all the engines in FACTS and many of their options. The examples under the File &gt; Examples menu option largely correspond to the different tutorials described here.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Design Specifications</td>
<td style="text-align: left;">These are technical documents that describe the mathematical models implemented in FACTS in detail.</td>
</tr>
<tr class="even">
<td style="text-align: left;">Execution Guides</td>
<td style="text-align: left;">The FACTS GUI can be run in command line mode so simulations can be run/re-run from scripts. With the simulation command line flag, and passed a directory rather than a file, FACTS will run simulations for every “.facts” file in that directory – and recurse into any sub-directories and simulate any “.facts” files there too. A full guide to command line mode can be found here. The FACTS simulation engines are also available in “command line executable” form. There are guides here that document their command line parameters and how to use them to analyse a data set – e.g.&nbsp;to perform an interim analysis whilst executing a trial designed with FACTS.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">FACTS file XML Specs</td>
<td style="text-align: left;">These guides describe the parameters in the “.facts” files, which are text files in XML format. For expert users understanding this format allows them to use scripts to generate versions of an initial “.facts” file with slight variations in the parameters such as stopping thresholds or priors. Modification of “.facts” files outside of FACTS needs to be done with care, errors may render the file unusable by FACTS.</td>
</tr>
<tr class="even">
<td style="text-align: left;">Videos</td>
<td style="text-align: left;">Provides access to links to the introductory, training and webinar videos that Berry Consultants has recorded and makes available over the internet to FACTS users.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">View log…</td>
<td style="text-align: left;">If an error has occurred in FACTS, often the FACTS log file can shed light on what is going wrong. The log file is hidden away in some unfashionable and hard to locate Windows folder; this command option provides easy access to it. Allowing you to email facts support with a description of what occurred, attaching a copy of this log file having saved it somewhere convenient such as your desktop.</td>
</tr>
<tr class="even">
<td style="text-align: left;">Support</td>
<td style="text-align: left;">Launch a simple editor for sending an email to our support account: facts@berryconsultants.net</td>
</tr>
<tr class="odd">
<td style="text-align: left;">About</td>
<td style="text-align: left;">Displays a simple “about box” that includes the detailed version number of FACTS.</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
</section>
</section>
<section id="the-study-tab" class="level1" data-number="7">
<h1 data-number="7"><span class="header-section-number">7</span> The Study tab</h1>
<section id="sec-studyinfo" class="level2" data-number="7.1">
<h2 data-number="7.1" class="anchored" data-anchor-id="sec-studyinfo"><span class="header-section-number">7.1</span> Study Info</h2>
<p>The Study Info sub-tab provides parameters for specifying:</p>
<ul>
<li>Whether the trial has an Efficacy endpoint as well as a Toxicity one.</li>
<li>Whether recruitment is in Cohorts or uses Open Enrolment,</li>
<li>Whether the trial data is being analyzed as a single population (single group) or two groups (which could be 2 different patient types, or 2 different treatment types).</li>
<li>The option to specify that the trial should include an expansion cohort once the MTD has been identified.</li>
<li>The option (if using open enrolment) to specify the use of backfill.</li>
</ul>
<p>Including an efficacy endpoint – this allows the trial to include a binary efficacy outcome that is observed at the same time as the toxicity endpoint. Once the MTD has been sufficiently determined further cohorts are allocated to determine the MED (Minimum Effective Dose) as long as that is below the MTD, until the maximum sample size or MED stopping rules have been reached.</p>
<p>Cohort versus Open enrolment: cohort enrolment is the standard way of running a phase 1 trial, a cohort of subjects of pre-determined size are treated at the current dose and the trial pauses until all the subjects in the cohort are complete, then the dose for the next cohort is determined. A phase 1 trial using Open Enrolment recruits ‘all comers’ with a cap on the number of subjects who can be treated but have not yet had a final result. Subjects that arrive whilst this cap has been reached are deemed to be ‘lost’ to the study.</p>
<p>If Open Enrolment and Efficacy Endpoint options are being used together, then subjects who arrive who cannot be allocated to the MTD (because the cap number of subjects awaiting a final result has been reached), can be allocated to the MED (as long as that is below the MTD).</p>
<p>If the trial is analyzing 2 Groups then a joint statistical model is used with options to constrain the group 2 difference in the intercept term to be +ve or -ve, and options as to whether a common or separate estimates of the slope term are used.</p>
<p>If an expansion cohort is included, the this is a single cohort (or one per group, if 2 groups is being used) typically much larger than used during the dose escalation, that is assigned at the end of the study to the target dose. FACTS simulates the results that arise from this cohort and a final analysis.</p>
<p>If open enrolment is being used, the further option to use backfill becomes available. The parameters on this tab for backfill, are to specify the maximum number of subjects that can be allocated for escalation, and the maximum that can be allocated in backfill. These two maximums should not total less than the overall “Max subjects” that can be enrolled. If adding backfill to a trial, usually the previous “Max subjects” becomes the “Max study allocation for escalation”, and an additional sample is allowed for backfill and added to the overall Max subjects.</p>
<p>If the trial has two groups the backfill maximums are the sum of the subjects in the two groups.</p>
<p>For Cohort enrolment, the parameters are:</p>
<ul>
<li>Maximum Study Size, in cohorts: the maximum number of cohorts the trial can use, though designs can include conditions that cause them to stop earlier.</li>
<li>If the trial has two groups, the maximum number of cohorts of the second group.</li>
<li>Cohort size: The number of subjects in each cohort. The maximum sample size for the trial is simply: Max Trial Size (cohorts) * Cohort Size.</li>
<li>Cohort information delay: Normally left at zero, this allows for the trial to be simulated with cohorts recruited more quickly than if waiting for the last cohort to complete before treating the next cohort. This allows the trial to complete in shorter time, but is likely to lead to a larger incidence of toxicities. If the delay is set to 1, the second cohort will be recruited before the results for the first cohort are available, the third cohort will be recruited after the results of the first cohort are available but before the results for the second cohort are available, and so on.</li>
<li>Execution rate: the time taken to recruit, treat and complete the observation of each cohort (in weeks). The value of this parameter does not affect the behavior of the simulations, but it allows a nominal “duration” of each simulation to be calculated. Unlike other FACTS simulations, this duration is not simulated stochastically, it is simply the number of cohorts * this duration. Its purpose is to give a figure to compare with open enrolment designs of the same trial.</li>
</ul>
<div id="fig-sec-study-study1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sec-study-study1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-3827602838.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-sec-study-study1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;22: Study Info - Cohort Enrolment
</figcaption>
</figure>
</div>
<div id="fig-sec-study-study2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sec-study-study2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-3749685477.png" id="fig-sec-study-study2" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-sec-study-study2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;23
</figcaption>
</figure>
</div>
<p>If rather than Cohorts, subjects are recruited using open enrolment, the parameters are:</p>
<ul>
<li>Max subjects: the maximum number of subjects who can be recruited into the study.</li>
<li>Time unit – this is a text string that will change the “units” label for time on graphs. This allows data to be more easily entered when the natural time unit is not “weeks”, but “days” or “months”.</li>
<li>Mean recruitment rate: for simulation purposes this is the average number of subjects who will be expected to be available for recruitment during each time period. Recruitment is simulated using a standard Poisson process.</li>
<li>Time until final result: the time for each subject for their final result to become available. This is simulated as a fixed length of time that is the same for all subjects.</li>
<li>Maximum subjects without a final result: the cap on the number of subjects on the current dose or a backfill dose (if backfill is enabled) who can be recruited but not yet completed. This is also known as the ‘maximum queue length’. Subjects arriving and available for recruitment while the number of subjects on this dose who have been treated but have not yet completed is at this maximum, are dropped and assumed no longer available for recruitment. Once the current subjects complete the study has to await further new subjects to become available. There are three caps:
<ul>
<li>Maximum subjects without final results if the dose is uncleared. This allows the design to be cautious when a new dose is used for the first time.</li>
<li>Maximum subjects without final results if dose is cleared and below MTD. This allows a larger number of subjects without final results to be recruited at backfill doses or at the current escalation dose if backfill to the current escalation dose (“frontfilling”) is enabled, or at the MED in the efficacy phase of a trial that includes an efficacy endpoint.</li>
<li>Maximum subjects without final results if dose is cleared and at MTD. This allows us to be more cautious if the model thinks all doses are toxic or if we are allocating at the model MTD and don’t want to expose too many subjects.</li>
</ul></li>
<li>Backfill – this can be enabled. Backfilling is the allocation of subjects to a dose below the current target dose, if the number of subjects allocated to the current target dose without final results has reached the maximum. Further parameters for backfill are set on the “Backfill” tab under the “Design” tab. On this tab, if backfill is enabled, two sub-maximums can optionally be specified:
<ul>
<li>the maximum number of subjects who can be allocated as part of usual allocation for escalation and MTD determination (and MED if efficacy is included in the trial),</li>
<li>and the maximum number of subjects who can be allocated as part of “backfill”.</li>
</ul></li>
</ul>
<div id="fig-sec-study-study3" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sec-study-study3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-3260467921.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-sec-study-study3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;24: Study Info - Open Enrolment
</figcaption>
</figure>
</div>
<p>Groups: a trial can be analyzed as a “single group” or as “two groups”. If analyzed as a single group, then all subjects are assumed to be the same and treated the same (except for the difference in the dose strength). If analyzed as two groups this allows either:</p>
<ul>
<li>The subjects can be simulated as coming from two similar but distinct groups such as: adults and children, first line or recurrent, having some concomitant treatment or not. The separation into the two groups is based on some property of the subject.</li>
<li>Or the subjects can be simulated as having been allocated (possibly randomized) to one of two versions of the treatment, with the same rang of dose strengths and differing in some other way such as dosing schedule, treatment duration or combination with an additional treatment. The separation of the subjects into the two groups is under the control of the protocol.</li>
</ul>
<p>In either case the same analysis options are available (hence we use the generic term “groups” to describe this feature).</p>
<p>If enrolment is by cohort, the there are two separate “maximum study sizes” in cohorts – one for each group.</p>
<p>The Group 2 recruitment, while it overlaps in time with the Group 1 recruitment, is simulated as being in lock-step and the recruitment of the cohort in each group is concurrent and analyzed when both are complete. In the ‘cohorts.csv’ files that are output, the cohort numbers indicates which cohorts were concurrent. The options are:</p>
<ul>
<li>To recruit group 1 first then recruit group 2 only when group 1 is complete.</li>
<li>To start recruiting both groups in parallel from the outset.</li>
<li>To start recruiting group 2 once group 1 has reached a specified dose. The first group 2 cohort is recruited in parallel with the next group 1 cohort after the first group1 cohort has been allocated the specified dose (if cohorts can be accrued before the cohort before has completed, the group 2 is accrued too – it does not wait until the group 1 cohort completes unless the next group 1 also waits).</li>
<li>To start recruiting group 2 once group 1 has recruited a specified number of subjects. The first group 2 cohort is recruited in parallel with the next group 1 cohort after the specified number of subjects had been recruited into group 1.</li>
</ul>
<p>If enrolment is open then there are options similar to the cohort enrolment to control when enrolment into group 2 starts:</p>
<ul>
<li>To recruit group 1 first then recruit group 2 only when group 1 is complete.</li>
<li>To start recruiting both groups in parallel from the outset.</li>
<li>To start recruiting group 2 once group 1 has reached a specified dose. The first group 2 subject can be recruited after the first group1 subject has been allocated the specified dose.</li>
<li>To start recruiting group 2 once group 1 has recruited a specified number of subjects. The first group 2 subject can recruited after the specified number of subjects had been recruited into group 1.</li>
</ul>
<p>But in addition the user specifies the maximum number of subjects in Group 2 and how the recruitment is to be simulated:</p>
<ul>
<li>With the group membership a property of the subject – along with a mean recruitment rate for group 2.</li>
<li>With subjects randomized between the two groups (the randomization is fixed at 1:1).</li>
</ul>
<p>The user specifies the three “Maximum subjects without final results …” for the second group.</p>
<p>If backfill is enabled, the backfill totals apply to the total of the subjects on both groups.</p>
<div id="fig-sec-study-study4" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sec-study-study4-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-2033701160.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-sec-study-study4-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;25: Study info - 2 group options with open enrolment
</figcaption>
</figure>
</div>
<p>Enable Final Expansion Cohort: if this is enabled a final cohort of specified size will be allocated the dose selected as MTD at the end of the N-CRM phase of the study:</p>
<ul>
<li>If the study includes a control arm, the number of subjects in this expansion cohort to be allocated to control is also specified.</li>
<li>If the study has two groups, two separate expansion cohorts will be allocated, their sizes are set separately.</li>
<li>If the study includes observing efficacy then the target dose can be changed from MTD to MED or OSD.</li>
</ul>
<div id="fig-sec-study-study5" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sec-study-study5-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-809393512.png" id="fig-sec-study-study5" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-sec-study-study5-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;26
</figcaption>
</figure>
</div>
<p>Simulating an additional efficacy outcome is simply specified by checking the “include efficacy” checkbox.</p>
<div id="fig-sec-study-study6" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sec-study-study6-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-1015659566.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-sec-study-study6-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;27: Study tab with “Include efficacy” checked
</figcaption>
</figure>
</div>
<p>Simulating an efficacy endpoint can be combined with all the other features (two groups, open enrolment, backfilling) already discussed, as well as with ordinal toxicity and fine grain dosing that are described below.</p>
<p>Currently there are two significant limitations to the simulation of an efficacy endpoint:</p>
<ul>
<li>The endpoint is assumed to be dichotomous.</li>
<li>The endpoint is assumed to be observable at the same time as toxicity.</li>
</ul>
<p>We hope to lift these restrictions in a later version of FACTS.</p>
</section>
<section id="toxicity" class="level2" data-number="7.2">
<h2 data-number="7.2" class="anchored" data-anchor-id="toxicity"><span class="header-section-number">7.2</span> Toxicity</h2>
<p>The Toxicity sub-tab provides parameters for specifying:</p>
<ul>
<li>Whether toxicity should be simulated as dichotomous or ordinal. If simulated as Ordinal, toxicity can be simulated as a 1-3 scale or 1-4 scale. In both cases ‘1’ is “no-toxicity”, 2 is “mild toxicity” and 3 is the toxicity of interest (from the point of view of defining the MTD, target toxicity band and Overdose Control. If a four category scale is selected, 4 is “sever toxicity” or death. Choosing whether to model the ordinal response is a separate option and is present on the Design &gt; Toxicity Response tab.</li>
<li>Type of target: this allows the user to specify whether the dose selection targets “the dose who’s estimated toxicity rate is closest to a specified target rate” or “the dose with the highest posterior probability of having a toxicity rate in a target band”. The former is the target rule used in the original CRM papers (<span class="citation" data-cites="o1999two">(<a href="#ref-o1999two" role="doc-biblioref">O’Quigley, Shen, and Gamst 1999</a>)</span>, <span class="citation" data-cites="de1996incorporating">(<a href="#ref-de1996incorporating" role="doc-biblioref">deMoor et al. 1996</a>)</span>, and the latter rule was introduced in <span class="citation" data-cites="neuenschwander2008critical">(<a href="#ref-neuenschwander2008critical" role="doc-biblioref">Neuenschwander, Branson, and Gsponer 2008</a>)</span>.</li>
<li>Toxicity target (only displayed if the type of target is “a single dose”): this allows the target toxicity rate to be specified and whether the target dose is the one nearest, the one nearest but with a lower rate or the one nearest but with a higher rate.</li>
<li>Target: this panel allows the target toxicity bands to be specified along with overdose control limits. The panel is displayed and enabled even if the target type is “a single dose” to allow overdose control limits to be specified.</li>
<li>Type of Target: controls the selection of the dose for the next cohort – this can be to target a single dose (to replicate the original CRM behavior, see <a href="#sec-study-tox-single">this section</a>) or to target the dose with the highest probability that its toxicity rate lies in a target band.</li>
</ul>
<div id="fig-sec-study-tox1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sec-study-tox1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-1584639963.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-sec-study-tox1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;28: Toxicity tab targeting a toxicity band
</figcaption>
</figure>
</div>
<section id="sec-study-tox-interval" class="level3" data-number="7.2.1">
<h3 data-number="7.2.1" class="anchored" data-anchor-id="sec-study-tox-interval"><span class="header-section-number">7.2.1</span> Targeting a Toxicity Interval</h3>
<p>Targeting a toxicity band or interval is an innovation introduced with the N-CRM design, unlike other CRM designs that select the dose that is expected to have a toxicity response closest to the desired tolerated limit, the N-CRM selects the dose that has the highest posterior probability of having a toxicity rate in a target toxicity band. This has the advantage of a) having a clearer probability statement and b) having in addition probability statements about the probability of under and overdosing (the toxicity rate being below or above the target toxicity band).</p>
<ul>
<li>The uncertainty in the estimate of toxicity at each dose is expressed by calculating the posterior distribution of the estimate of the rate of toxicity at each dose and calculating the proportion of that distribution that falls in to each of 4 bands of toxicity: ‘Under-dosing’ (toxicity so low that it is likely that a higher dose could be used), ‘Target’ toxicity (we want to select doses whose toxicity rate is most likely to be in this band), ‘Excess’ toxicity (toxicity higher than desired) and ‘Unacceptable’ toxicity.
<ul>
<li>Under-dosing: this band always starts at 0.0; the user specifies the upper bound.</li>
<li>Target band: this band always starts at the upper-bound of the under-dosing band; the user specifies the upper bound.</li>
<li>Excess toxicity: this band always starts at the upper-bound of the target band; the user specifies the upper bound.</li>
<li>Unacceptable toxicity: this band always starts at the upper-bound of the target band, with an upper bound of 1.0. The graph shows the width of the different bands using a simple, fixed, example posterior probability distribution of a toxicity rate.</li>
</ul></li>
<li>Intervals are relative to control: if a control arm is included in the study, then toxicity bands can be defined as the difference in toxicity rate relative to control. Negative differences (a lower toxicity rate than control) are always treated as under-dosing. To enable this option it is necessary to first go to the Study &gt; Treatment Arms tab and select Include Control.</li>
<li>Limit max excess/unacceptable toxicity: the ‘overdose control’ in terms of a maximum allowed posterior probability that a dose’s toxicity rate lies in either the ‘Excess’ or the ‘Unacceptable’ toxicity bands. Any dose with a posterior probability of having a toxicity rate in either of these two bands that is higher than the specified limit, cannot be selected for allocation to the next cohort, nor selected as MTD at the end of the study (this gives rise to slightly different results compared to those in <span class="citation" data-cites="neuenschwander2008critical">(<a href="#ref-neuenschwander2008critical" role="doc-biblioref">Neuenschwander, Branson, and Gsponer 2008</a>)</span> where the overdose control was not applied to final selection).<br>
</li>
<li>It is possible to have the overdose control limit vary with the number of cohorts allocated. In particular this can be used to reduce the overdose limit as the number of cohorts (and the amount of information) grows. For example for a particular prior and final level of overdose control, it may be that initial escalation is excessively constrained, one way to allow early escalation in this setting is to use these parameters to allow an higher initial overdose control limit and gradually reduce it over time to the final desired limit. Tuning the parameters will require some iteration and simulation. A varying limit is specified by the specifying amount to change the limit by per cohort and the final limit. The amount to change by is always entered as a number in the range (0,1), whether this is an increment or decrement depends on whether the target limit is greater or less than the initial limit. Leaving the change in limit at its default of 0 means the limit does not vary.</li>
<li>Limit max unacceptable toxicity: as for the previous parameter, but here the overdose control is only in terms of the posterior probability that a dose’s toxicity rate lies in the ‘Unacceptable’ toxicity band.</li>
<li>As or the limit on excess/unacceptable toxicity it is possible to have the overdose control limit vary with the number of cohorts, see the description above.</li>
</ul>
</section>
<section id="sec-study-tox-single" class="level3" data-number="7.2.2">
<h3 data-number="7.2.2" class="anchored" data-anchor-id="sec-study-tox-single"><span class="header-section-number">7.2.2</span> Targeting a single dose</h3>
<p>It is possible to use the N-CRM design engine with a conventional CRM allocation strategy - to “allocate to the nearest / highest dose below the maximum tolerated toxicity”; this allows conventional CRM design to be simulated with some of the additional features of N-CRM:</p>
<ul>
<li>Overdose control</li>
<li>Estimate both parameters of the 2 parameter logistic</li>
<li>The “Recommender” to analyze a specific data set.</li>
</ul>
<p>The target is calculated by:</p>
<ul>
<li>In the MCMC sampling loop finding the dose that meets the target criteria, a doses probability of being the target is then the proportion of times that dose meets the target criteria across the MCMC sampling.</li>
<li>Rather than selecting the dose with the highest probability, the dose at the 50% quantile is used. The cumulative probability of being the target is calculated over the doses in ascending dose strength, and the dose when the cumulative probability passes 50% is selected. This addresses some problems that can arise when very little data is available: that the dose with the highest probability is at one end of the dose range, but that probability is not that high, or that doses are not evenly spaced and a dose close to both its immediate neighbors may never have greater probability than both of them.</li>
</ul>
<p>Setting the Type of Target option to Target a single dose, modifies the tab thus:</p>
<div id="fig-sec-study-tox-single1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sec-study-tox-single1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-3531590179.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-sec-study-tox-single1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;29: N-CRM, targeting a single dose, not a toxicity band
</figcaption>
</figure>
</div>
<p>When targeting a single dose FACTS allows the user to specify:</p>
<ul>
<li>The target toxicity rate</li>
<li>Whether to allocate to the dose with the mean estimate of its toxicity rate nearest the target, highest dose with a mean estimate of its toxicity rate below the target or lowest dose with a mean estimate of its toxicity rate above the target.</li>
<li>An option to use the toxicity rate relative to control, rather than the default of the absolute toxicity rate. To enable this option it is necessary to first go to the Study &gt; Treatment Arms tab and select Include Control.</li>
</ul>
<p>The definition of the boundaries of the toxicity bands is still included in order to allow the specification of overdose control limits. These are calculated and applied in exactly the same way as when targeting a toxicity interval.</p>
</section>
</section>
<section id="efficacy" class="level2" data-number="7.3">
<h2 data-number="7.3" class="anchored" data-anchor-id="efficacy"><span class="header-section-number">7.3</span> Efficacy</h2>
<p>If include efficacy has been checked on the Study Info tab, a simple additional input page is included:</p>
<div id="fig-sec-study-eff1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sec-study-eff1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-2054926457.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-sec-study-eff1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;30: The Efficacy tab
</figcaption>
</figure>
</div>
<p>If simulating and modelling an efficacy endpoint is included there are two items to be specified on this tab:</p>
<ul>
<li>Whether a subject experiencing a toxicity can also count towards efficacy or not. If unchecked patients outcomes are simply sampled separately and a patient can both have a toxicity and an efficacy response. If checked, a patient’s toxicity outcome is sampled first, and only if there is no toxicity is an efficacy outcome sampled.</li>
<li>The efficacy target – this consists of:
<ul>
<li>The target efficacy rate required for the Minimum Efficacy Dose (MED).</li>
<li>Whether the target dose is the nearest dose to the MED rate, the lowest dose above the MED rate or the highest dose below the MED rate.</li>
<li>If a control arm has been included, whether the target rate is absolute or relative to the observed rate on the control arm.</li>
</ul></li>
</ul>
</section>
<section id="treatment-arms" class="level2" data-number="7.4">
<h2 data-number="7.4" class="anchored" data-anchor-id="treatment-arms"><span class="header-section-number">7.4</span> Treatment Arms</h2>
<p>On this tab the number of treatment arms (doses) available to the study is specified. The user can either define a set of specific doses that can be used or a continuous dose range with some granularity.</p>
<p>Selecting Explicit Doses allows the user to specify the specific doses that can be used on the trial:</p>
<ul>
<li>A single new dose or multiple doses can be added either by clicking “Add” or “Generate”. Initially each dose is defined by a simple integer name and level. The dose levels and dose names can then be edited on by clicking on them and entering the desired value. The dose level can also be set later on in the Design &gt; Toxicity Response tab.</li>
<li>There is also the option to include a control arm. Including a control arm allows the toxicity rate to be relative to the control arm.</li>
</ul>
<div id="fig-sec-study-ta1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sec-study-ta1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-1708615787.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-sec-study-ta1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;31: The Treatment Arms tab specifying explicit doses
</figcaption>
</figure>
</div>
<section id="finely-spaced-doses" class="level3" data-number="7.4.1">
<h3 data-number="7.4.1" class="anchored" data-anchor-id="finely-spaced-doses"><span class="header-section-number">7.4.1</span> Finely Spaced Doses</h3>
<p>Selecting Finely Spaced Doses allows the user to specify the dose range that can be used on the trial:</p>
<ul>
<li>The minimum and maximum dose strength to be used</li>
<li>The ‘granularity’ of the actual dose used, either as a fixed delta (Fixed spacing) or a dose ratio (the ratio specified must be greater than 1) (Ratio spacing).</li>
<li>The number of ‘bins’ or ‘doses for which to report’ – this is because FACTS will still produce summary statistics in columns, many with a “column per dose” – it is possible to use more doses than it is practical to report on (and a limit in MS Windows of 32K pixels for the width of a table means that the GUI can only display simulation results for a maximum of ~40 doses). However this limitation is only for reporting summary statistics; the dose strengths modeled and allocated in the simulations are unaffected.</li>
</ul>
<p>Selecting ‘Finely Spaced Doses’ will also affect how some of the other parameters are specified in the FACTS GUI.</p>
<div id="fig-sec-study-ta-fgd1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sec-study-ta-fgd1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-1521668862.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-sec-study-ta-fgd1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;32: The Treatment Arms tab, specifying a finely spaced dose range
</figcaption>
</figure>
</div>
</section>
</section>
<section id="variants" class="level2" data-number="7.5">
<h2 data-number="7.5" class="anchored" data-anchor-id="variants"><span class="header-section-number">7.5</span> Variants</h2>
<p>On this tab the user can specify that a number of design variants should be created. Currently the only design feature that can be changed is the sample size (maximum number of cohorts).</p>
<p>If “multiple variants” is checked then the user can specify that simulations setups should be created for each simulation scenario with versions of the design with different maximum numbers of cohorts.</p>
<p>The user enters the number of variants they wish to create. Then in the resulting table, enter different “Max Cohorts” for each variant.</p>
<p>These will then appear on the simulations tab.</p>
<p>If open enrolment is being used, then the enrolment cap is specified by the number of subjects.</p>
<p>If there are two groups then separate caps are specified for each group.</p>
<div id="fig-sec-study-var1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sec-study-var1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-3721505559.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-sec-study-var1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;33: The Variants tab, specifying 5 variants
</figcaption>
</figure>
</div>
</section>
</section>
<section id="virtual-subject-response" class="level1" data-number="8">
<h1 data-number="8"><span class="header-section-number">8</span> Virtual Subject Response</h1>
<p>The Virtual Subject Response tab allows the user to explicitly define virtual subject response profiles. When simulations are executed, they will be executed for each specified profile.</p>
<p>Profiles can be specified in 3 different ways:</p>
<ul>
<li>Explicitly: by specifying the toxicity rate to simulate at each dose. This option is only available if the available dose strengths have been specified explicitly, it is not available if a finely spaced dose range defined.</li>
<li>Parametrically: by selecting one of the four models and specifying the parameter values for the model, allowing the toxicity rate to simulate at each dose to be calculated.</li>
<li>Externally: by specifying a file of simulated subject responses at each dose strength, which will be sampled from with replacement when simulating subject responses. As in N-CRM there is a simple, single binary toxicity response per subject and there is no response profile that cannot be specified by the other methods. The mechanism is provided here more for consistency with the other FACTS interfaces.</li>
</ul>
<section id="explicitly-defined" class="level2" data-number="8.1">
<h2 data-number="8.1" class="anchored" data-anchor-id="explicitly-defined"><span class="header-section-number">8.1</span> Explicitly Defined</h2>
<p>Toxicity profiles may be added, deleted, and renamed using the table and corresponding buttons on the left hand side of the screen in <a href="#fig-sec-vsr-ex2" class="quarto-xref">Figure&nbsp;35</a>. The user enters the toxicity rate to simulate at each dose into the Probability of Toxicity column of the table, and the graphical representation of these toxicity values updates accordingly.</p>
<p>This form of toxicity profile is not available if the dose range is “finely spaced” – typically this means there are too many doses for it to be practicable to enter toxicity rates for all of them. When using “finely spaced” doses the toxicity rates to be simulated have to be specified using parametric models (see the next section).</p>
<div id="fig-sec-vsr-ex1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sec-vsr-ex1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-4185184244.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-sec-vsr-ex1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;34: Explicitly defined toxicity - binary endpoint
</figcaption>
</figure>
</div>
<p>If the design is using ordinal toxicity, the toxicity response rates can be specified either:</p>
<ul>
<li>On the “Toxicity” tab by specifying the category 3 or greater toxicity rate at each dose and then two offsets – one for the category 2 or greater rate and one for the category 4 rate.</li>
<li>On the “Ordinal Toxicity” tab by separately specifying the toxicity rates for each category of toxicity at each dose.</li>
</ul>
<p>Specifying offsets: to ensure that the specified category 3 rate plus the category 2 offset doesn’t sum to more than 1, or the category 3 rate plus the -ve category 4 offset sum to less than 0, the offsets are applied to the logit of the category 3 toxicity rate.</p>
<p>Thus for the category 2+ rate:</p>
<p><span class="math display">\[
ln(\frac{p_{2+}}{1-p_{2+}}) = ln(\frac{p_{3}}{1-p_{3}} + \Delta_2)
\]</span></p>
<p>where:</p>
<ul>
<li><span class="math inline">\(p_{2+}\)</span> is the probability of observing a category 2 or greater toxicity at a dose</li>
<li><span class="math inline">\(p_3\)</span> is the probability of observing a category 3 or greater toxicity at a dose</li>
<li><span class="math inline">\(\Delta_2\)</span> is the difference in the log odds between the two probabilities</li>
</ul>
<p>The offset is defined at the lowest dose and highest dose and then varied linearly with dose strength at the intermediate doses. The plot of the curve can either use Pr(Tox) or Log-odds(Tox) as the y-axis and dose strength or log(dose strength) as the x-axis. A graph is displayed of the toxicity rates that have been entered, and the category 2+ and category 4 toxicity rates if applicable. This graph, as with all graphs in the application, may be copied to the clipboard or to a file using the “right-click” menu.</p>
<div id="fig-sec-vsr-ex2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sec-vsr-ex2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-3668848689.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-sec-vsr-ex2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;35: Virtual Subject Response – Explicitly-Defined – ordinal endpoint
</figcaption>
</figure>
</div>
<section id="explicitly-defined-ordinal-toxicity" class="level3" data-number="8.1.1">
<h3 data-number="8.1.1" class="anchored" data-anchor-id="explicitly-defined-ordinal-toxicity"><span class="header-section-number">8.1.1</span> Explicitly defined – Ordinal Toxicity</h3>
<p>If simulating ordinal toxicity an alternative option is to explicitly specify the rate at each toxicity level at each dose. This can be done under the Virtual Subject Response &gt; Explicitly Defined &gt; Ordinal Toxicity tab.</p>
<div id="fig-sec-vsr-ex-ord1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sec-vsr-ex-ord1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-4019572525.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-sec-vsr-ex-ord1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;36: Virtual Subject Response – Explicitly-Defined: Ordinal Toxicity tab
</figcaption>
</figure>
</div>
</section>
<section id="explicitly-defined-toxicity-when-simulating-2-groups" class="level3" data-number="8.1.2">
<h3 data-number="8.1.2" class="anchored" data-anchor-id="explicitly-defined-toxicity-when-simulating-2-groups"><span class="header-section-number">8.1.2</span> Explicitly defined toxicity – when simulating 2 groups</h3>
<p>If simulating toxicity as a binary outcome, when simulating 2 groups, the tab displays two Pr(Tox) columns, one for each group, and the user enters the toxicity rate to be simulated at each dose for each group.</p>
<div id="fig-sec-vsr-ex-ex2g1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sec-vsr-ex-ex2g1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-27213182.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-sec-vsr-ex-ex2g1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;37: Explicitly defined toxicity - 2 groups
</figcaption>
</figure>
</div>
<p>If simulating 2 groups and ordinal toxicity, then on the explicitly defined tab once again the tab displays two Pr(Tox) columns, one for each group, and the user enters the toxicity rate to be simulated at each dose for each group. As for a single group the Category 2 toxicity and Category 4 (if using) toxicity rates are defined by defining log odds offsets at the lowest and highest dose. Specification is limited to a single set of offsets that are applied to both groups.</p>
<div id="fig-sec-vsr-ex-ex2g2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sec-vsr-ex-ex2g2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-2521844099.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-sec-vsr-ex-ex2g2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;38: Explicitly defined toxicity - 2 groups and ordinal offsets
</figcaption>
</figure>
</div>
<p>As in the single group case in addition to the Category 3 toxicity rates that are editable, columns showing the Pr(Tox 2+) and Pr(Tox 4) are shown, but these are not editable and derived from the Pr(Tox) rates and the offsets that have been specified. The ordinal toxicity rates are only shown for group 1.</p>
</section>
<section id="explicitly-defined-ordinal-toxicity-with-2-groups" class="level3" data-number="8.1.3">
<h3 data-number="8.1.3" class="anchored" data-anchor-id="explicitly-defined-ordinal-toxicity-with-2-groups"><span class="header-section-number">8.1.3</span> Explicitly defined – Ordinal Toxicity with 2 groups</h3>
<p>If simulating ordinal toxicity an alternative option is to explicitly specify the rate at each toxicity level at each dose. This can be done under the Virtual Subject Response &gt; Explicitly Defined &gt; Ordinal Toxicity tab.</p>
<div id="fig-sec-vsr-ex-ord2g1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sec-vsr-ex-ord2g1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-4265246160.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-sec-vsr-ex-ord2g1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;39: Explicitly Defined, Ordinal Toxicity with 2 Groups
</figcaption>
</figure>
</div>
</section>
<section id="efficacy-response-profiles" class="level3" data-number="8.1.4">
<h3 data-number="8.1.4" class="anchored" data-anchor-id="efficacy-response-profiles"><span class="header-section-number">8.1.4</span> Efficacy response profiles</h3>
<p>Entering efficacy response profiles is very similar to entering toxicity profiles. FACTS will construct scenarios to simulate of every combination of toxicity and efficacy response profiles.</p>
</section>
<section id="explicitly-defined-efficacy" class="level3" data-number="8.1.5">
<h3 data-number="8.1.5" class="anchored" data-anchor-id="explicitly-defined-efficacy"><span class="header-section-number">8.1.5</span> Explicitly Defined – Efficacy</h3>
<p>Efficacy profiles may be added, deleted, and renamed just like toxicity profiles. The user enters the efficacy rate to simulate at each dose into the Probability of Efficacy column of the table, and the graphical representation of these efficacy values updates accordingly.</p>
<p>As with toxicity this form of efficacy profile is not available if the dose range is “finely spaced” – typically this means there are too many doses for it to be practicable to enter efficacy rates for all of them. When using “finely spaced” doses the efficacy rates to be simulated have to be specified using parametric models (see the next section).</p>
<div id="fig-sec-vsr-ex-exeff1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sec-vsr-ex-exeff1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-1657858868.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-sec-vsr-ex-exeff1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;40: Efficacy virtual subject response, explicitly defined
</figcaption>
</figure>
</div>
</section>
<section id="explicitly-defined-efficacy-with-two-groups" class="level3" data-number="8.1.6">
<h3 data-number="8.1.6" class="anchored" data-anchor-id="explicitly-defined-efficacy-with-two-groups"><span class="header-section-number">8.1.6</span> Explicitly Defined – Efficacy with two groups</h3>
<p>If the design included 2 groups, when explicitly defining an efficacy response profile, there is simply a second column of efficacy response rates to enter:</p>
<div id="fig-sec-vsr-ex-eff2g1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sec-vsr-ex-eff2g1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-1755902621.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-sec-vsr-ex-eff2g1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;41: Explicity defined efficacy response profile with 2 groups
</figcaption>
</figure>
</div>
</section>
</section>
<section id="sec-parametric" class="level2" data-number="8.2">
<h2 data-number="8.2" class="anchored" data-anchor-id="sec-parametric"><span class="header-section-number">8.2</span> Parametric</h2>
<p>Toxicity scenarios may be added, deleted, and renamed using the table and corresponding buttons on the left hand side of the screen. The user selects the model to use to determine the toxicity rate to simulate at each dose, and specifies the values of the model’s parameters. The graphical representation of these toxicity values updates accordingly.</p>
<p>The graph may be copied using the context menu functionality described in the previous section.</p>
<p>Four models are available:</p>
<ul>
<li><p>Logistic: the probability of toxicity at dose <em>x</em> is given by: <span class="math inline">\(P_x=\frac{1}{1+e^{-s(x-x_{50})}}\)</span> with user specified parameters, <span class="math inline">\(s\)</span> (slope) and <span class="math inline">\(x_{50}\)</span> (the ED50 dose). Note this can be fitted exactly by the two parameter logistic with linear effective doses <span class="math inline">\(\hat{x}=x-x_{ref}\)</span> when <span class="math inline">\(\beta=s\)</span> and <span class="math inline">\(\alpha=\beta*(x_{ref}-x_{50})\)</span></p></li>
<li><p>Emax: the probability of toxicity at dose <span class="math inline">\(x\)</span> is given by: <span class="math inline">\(P_x=\frac{x}{x+x_{50}}\)</span> with user specified parameter <span class="math inline">\(x_{50}\)</span>.</p></li>
<li><p>Log Logistic: the probability of toxicity at dose <span class="math inline">\(x\)</span> is given by: <span class="math inline">\(P_x=\frac{1}{1+e^{-s(ln(x)-ln(x_{50}))}}\)</span> with user specified parameters, <span class="math inline">\(s\)</span> (slope) and <span class="math inline">\(x_{50}\)</span> (the ED50 dose). Note this can be fitted exactly by the two parameter logistic with log effective doses <span class="math inline">\(\hat{x}=ln(\frac{x}{x_{ref}})\)</span> when <span class="math inline">\(\beta=s\)</span> and <span class="math inline">\(\alpha=\beta*ln(\frac{x_{ref}}{x_{50}})\)</span></p></li>
<li><p>Piecewise linear: with the probability of toxicity specified at a series of knots, with the probability linearly interpolated between knots.</p></li>
</ul>
<div id="fig-sec-vsr-par1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sec-vsr-par1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-4187069952.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-sec-vsr-par1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;42: Virtual Subject Response - Parametric Toxicity tab
</figcaption>
</figure>
</div>
<p>If Ordinal toxicity is being simulated then the category 2 and greater toxicity rates and category 4 toxicity rates are specified using the logit offset methods as on the Explicitly-Defined &gt; Toxicity tab.</p>
<div id="fig-sec-vsr-par2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sec-vsr-par2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-705500554.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-sec-vsr-par2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;43: Virtual Subject Response - Parametric Toxicity tab with Ordinal toxicity
</figcaption>
</figure>
</div>
<p>If Ordinal Toxicity and 2 groups are being simulated then both the Cat 2+ and Cat 4 toxicities and the Group 2 toxicities are defined using the logit offset methods.</p>
<div id="fig-sec-vsr-par3" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sec-vsr-par3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-2750595441.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-sec-vsr-par3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;44: Parametric definition of ordinal toxicity response with 2 groups
</figcaption>
</figure>
</div>
<section id="parametric-efficacy-response" class="level3" data-number="8.2.1">
<h3 data-number="8.2.1" class="anchored" data-anchor-id="parametric-efficacy-response"><span class="header-section-number">8.2.1</span> Parametric efficacy response</h3>
<p>Parametric efficacy response profiles function exactly like toxicity profiles, with the same parametric models to choose from and if 2 groups are present the response of the second group is again defined by 2 log-odds offsets, one at the lowest dose and one at the highest.</p>
<div id="fig-sec-vsr-par-eff1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sec-vsr-par-eff1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-2515320149.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-sec-vsr-par-eff1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;45: Parametric efficacy response profile
</figcaption>
</figure>
</div>
</section>
</section>
<section id="external" class="level2" data-number="8.3">
<h2 data-number="8.3" class="anchored" data-anchor-id="external"><span class="header-section-number">8.3</span> External</h2>
<p>Subject response data may be simulated from a PK-PD model in place of, or in addition to, choosing a response model from FACTS. The importing of subject response data (which must be in the form specified in the System Requirements Document) may be done from the External Files sub-tab depicted below (<a href="#fig-sec-vsr-ext1" class="quarto-xref">Figure&nbsp;46</a>).</p>
<p>The supplied data should be in the following format: an ascii file with data in comma separated value format with the following columns:</p>
<ol type="1">
<li>Patient id</li>
<li>Dose index (1, 2, 3,… if a Control is to be included it should be index 0) this is <strong>not</strong> the user settable dose name or dose level</li>
<li>Toxicity (0,1)</li>
<li>Efficacy (0. 1) even if efficacy not being simulated this value must be present</li>
<li>Group (*1, 2) only required if groups are being simulated</li>
</ol>
<p>The GUI requires that the file name has a “.dat” suffix.</p>
<p>Simulated subjects will be drawn from this supplied list, with replacement, to provide the simulated response values.</p>
<p>To import an external file, the user must first add a scenario to the table. After adding a scenario, the user must click “Browse” to locate the externally simulated data via a standard file browser dialog.</p>
<div id="fig-sec-vsr-ext1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sec-vsr-ext1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-3075146140.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-sec-vsr-ext1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;46: External Data
</figcaption>
</figure>
</div>
</section>
</section>
<section id="sec-design" class="level1" data-number="9">
<h1 data-number="9"><span class="header-section-number">9</span> Design</h1>
<p>The Design Tabs allows the user to specify the toxicity response model, efficacy response model if an efficacy endpoint is present, any prior / pseudo patient data, allocation rules, and stopping criteria.</p>
<p>In the N-CRM the toxicity (and efficacy if using) analysis uses the two parameter Bayesian Logistic Regression Model (BLRM). The log odds of the probability of toxicity at dose <span class="math inline">\(j\)</span> is modeled as a simple linear equation using the adjusted dose strength <span class="math inline">\(\hat{x_j}\)</span> of dose <span class="math inline">\(d_j\)</span>.</p>
<p><span class="math display">\[
ln(\frac{p_j}{1-p_j}) = \alpha + \beta \hat{x}_j
\]</span></p>
<p><span class="math display">\[
\text{Re-arranging:}\ p_j = \frac{e^{\alpha + \beta \hat{x}_j}}{1 + e^{\alpha + \beta \hat{x}_j}}
\]</span></p>
<p>Where: <span class="math inline">\(\hat{x}_j = d_j - d^{\ast}\)</span> or <span class="math inline">\(\hat{x}_j = ln(\frac{d_j}{d^{\ast}})\)</span> and <span class="math inline">\(d^{\ast}\)</span> is the <strong>reference dose</strong>, due to this notational convention <span class="math inline">\(\hat{x}̂\)</span>, these transformed dose strengths are referred to as the “X-Hats”.</p>
<p>Note that in either transformation, when <span class="math inline">\(d_j = d^{\ast}\)</span>, then <span class="math inline">\(p_j = \frac{e^{\alpha}}{1 + e^{\alpha}}\)</span>.</p>
<p>The prior distribution is a bivariate Normal distribution of <span class="math inline">\(\alpha\)</span> and <span class="math inline">\(ln(\beta)\)</span>:</p>
<p><span class="math display">\[
\begin{bmatrix}
\alpha \\
ln(\beta)
\end{bmatrix}
\sim N
\left(
\begin{bmatrix}
\mu_{\alpha} \\
\mu_{ln(\beta)}
\end{bmatrix},
\begin{bmatrix}
\sigma_{\alpha}^2 &amp; \rho \sigma_{\alpha} \sigma_{ln(\beta)} \\
\rho \sigma_{\alpha} \sigma_{ln(\beta)} &amp; \sigma_{ln(\beta)}^2
\end{bmatrix}
\right)
\]</span></p>
<p>With the user supplying the mean and standard deviation of <span class="math inline">\(\alpha \ (\mu_{\alpha}, \sigma_{\alpha})\)</span>, and <span class="math inline">\(ln(\beta) \ (\mu_{ln(\beta)}, \sigma_{ln(\beta)})\)</span> and the correlation coefficient <span class="math inline">\(\rho\)</span>.</p>
<p>The efficacy model is the same.</p>
<p>Extensions:</p>
<ul>
<li>If there are two groups the toxicity or efficacy response of the second is modeled: <span class="math display">\[
ln(\frac{p_j}{1-p_j}) = \alpha + a + \beta b \hat{x}_j
\]</span>
<ul>
<li>Where <span class="math inline">\(a\)</span> and <span class="math inline">\(ln(b)\)</span> have their own bi-variate normal prior. Note that as the response of the second group is modelled as an offset from the first an informative prior can be used to limit how large the offset is.</li>
<li>Optionally <span class="math inline">\(b\)</span> can be fixed at 1, so the two groups are modelled with a common estimate of the slope (<span class="math inline">\(\beta\)</span>)</li>
<li>Optionally a may be constrained to be +ve or -ve so that (if there is a common estimate of the slope) the estimate of the toxicity rate for the second group can be constrained being higher or lower than that of the first group.</li>
</ul></li>
</ul>
<p>To allow N-CRM to be used to simulate old CRM designs, an option to fix the value of Alpha is included (for both toxicity and efficacy), this option is not recommended for new designs. Fixing the alpha means that the response model has a fixed rate of response at the reference dose – in the old CRM designs in effect the reference dose was above the highest dose.</p>
<p>If the toxicity model is of an ordinal toxicity rate, the toxicity response model is:</p>
<p><span class="math display">\[
logit(Pr(Y \geq j | \hat{x})) = \alpha_j + \beta\hat{x}
\]</span></p>
<p>for ordinal response <span class="math inline">\(j=2,3\)</span> or <span class="math inline">\(j = 2,3,4\)</span>. The <span class="math inline">\(\alpha_2\)</span> and <span class="math inline">\(\alpha_4\)</span> have independent Normal priors and are constrained to be <span class="math inline">\(\alpha_2 &gt; \alpha_3 &gt; \alpha_4\)</span>. The <span class="math inline">\(\alpha_3\)</span> is fitted with the BLRM and bivariate Normal prior as for dichotomous toxicity, or it may be given a fixed value.</p>
<p>Lastly both the toxicity and efficacy models can the adjusted to be asymptotic at limits inside the interval <span class="math inline">\([0,1]\)</span>. For example if the toxicity being observed has a ‘natural’ background rate then the minimum asymptote could be adjusted to this rate.</p>
<p>If the rate given by the BLRM is <span class="math inline">\(p’_j\)</span> then the actual estimated rate is <span class="math inline">\(p_j\)</span> adjusted to lie between <span class="math inline">\(p^{max}\)</span> and <span class="math inline">\(p^{min}\)</span> where:</p>
<p><span class="math display">\[
p_j = p’_j(p^{max} - p^{min}) + p^{min}
\]</span></p>
<section id="x-hats" class="level2" data-number="9.1">
<h2 data-number="9.1" class="anchored" data-anchor-id="x-hats"><span class="header-section-number">9.1</span> X-Hats</h2>
<p>On this tab the user specifies the reference dose <span class="math inline">\(d^*\)</span> for use in calculating the adjusted dose value (the “x-hat” values). The default value to use is <strong>Median dose is reference</strong>, this uses the median of the dose range for the reference dose, minimizing the correlation in the sampled values of <span class="math inline">\(\alpha\)</span> and <span class="math inline">\(\beta\)</span>. Note though that when allocation is restricted to explicit doses it is also recommended that the value of the reference dose is not the same as an actual dose that can be used (at this dose <span class="math inline">\(\hat{x}\)</span> will be 0 and the data on this dose can have undue weight on the estimate of <span class="math inline">\(\alpha\)</span>).</p>
<p>Different reference doses can easily be used however – between the two doses thought most likely to be MTD, just below the lowest dose, just above the highest dose. The bi-variate Normal prior for <span class="math inline">\((\alpha, ln(\beta))\)</span> will need to be recalibrated to take the change into account.</p>
<p><strong>X-Hats are log(dose strength)</strong> allows the user to select between:</p>
<ol type="1">
<li>linear effective dose <span class="math inline">\(\hat{x}_j = d_j - d^*\)</span></li>
<li><span class="math inline">\(log(\hat{x}_j) = ln(\frac{d_j}{d^*})\)</span></li>
</ol>
<p>If you have entered linear dose strengths for the doses (1, 2, 3, 4, … or 100, 150, 200, 250, …) then use the linear effective dose. If however the dose strengths that have been entered are non-linear (12.5, 25, 50, 100, …) but expected to be roughly linear in effect, then use the log of the dose ratio.</p>
<div id="fig-sec-des-xh1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sec-des-xh1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-2199440383.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-sec-des-xh1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;47: Specifying the dose transformation - the “x-hats”.
</figcaption>
</figure>
</div>
<section id="the-pros-cons-of-using-the-median-dose-as-the-reference-dose" class="level3" data-number="9.1.1">
<h3 data-number="9.1.1" class="anchored" data-anchor-id="the-pros-cons-of-using-the-median-dose-as-the-reference-dose"><span class="header-section-number">9.1.1</span> The Pro’s &amp; Con’s of using the median dose as the reference dose</h3>
<p>The reason the median dose is recommended as the reference is that this minimizes the correlation in the fit of <span class="math inline">\(\alpha\)</span> and <span class="math inline">\(ln(\beta)\)</span>, the parameters of the BLRM, and it maximises the flexibility of the fit of the model over the dose range.</p>
<p>However care needs to be taken that the prior on <span class="math inline">\(\alpha\)</span> is not more restrictive than that on <span class="math inline">\(ln(\beta)\)</span> in order to avoid a phenomena observed when preparing tutorials: observing “no toxicities” below the reference dose resulted in a model with increased probability of toxicity above the reference dose compared to observing a toxicity below the reference dose. For a given value of <span class="math inline">\(\alpha\)</span>, higher values of <span class="math inline">\(ln(\beta)\)</span> correspond to lower toxicity below the reference dose – as the <span class="math inline">\(\hat{x}\)</span>̂ values are -ve below the reference dose. The fitted curve thus “pivots” about the value of <span class="math inline">\(\alpha\)</span> at the reference dose.</p>
<p>There are two solutions to this:</p>
<ol type="1">
<li><p>move the reference dose, which involves a choice between two options</p>
<ol type="a">
<li>moving it to the first dose or below (normally allowing a relatively constrained prior around a low value for <span class="math inline">\(\alpha\)</span>),</li>
<li>or to the highest dose or above (with a relatively uninformative prior).</li>
</ol>
<p>We have seen both solutions perform well against the chosen scenarios – but the choice needs checking and refining with a full range of scenarios that represent the full uncertainty in the true response.</p></li>
<li><p>or modify the priors on <span class="math inline">\(\alpha\)</span> and <span class="math inline">\(ln(\beta)\)</span> making the prior on <span class="math inline">\(\alpha\)</span> less informative (in particular increase the probability of low values) and make the prior on <span class="math inline">\(ln(\beta)\)</span> more informative (in particular lower the probability of high values less). Because the prior distribution on <span class="math inline">\(\beta\)</span>, is on <span class="math inline">\(ln(\beta)\)</span>, it is easy to make large values of <span class="math inline">\(\beta\)</span> more probable than intended.</p></li>
</ol>
</section>
</section>
<section id="toxicity-response" class="level2" data-number="9.2">
<h2 data-number="9.2" class="anchored" data-anchor-id="toxicity-response"><span class="header-section-number">9.2</span> Toxicity Response</h2>
<p>The parameters that can be specified on this page are:</p>
<ul>
<li><p>The parameters of the bivariate Normal distribution for <span class="math inline">\(\alpha\)</span> and <span class="math inline">\(ln(\beta)\)</span>. Specifying the mean and standard deviation of <span class="math inline">\(\alpha\)</span> <span class="math inline">\((\mu_{\alpha}, \sigma_{\alpha})\)</span>, and <span class="math inline">\(ln(\beta)\)</span> <span class="math inline">\((\mu_{ln(\beta)},\sigma_{ln(\beta)})\)</span> and the correlation coefficient <span class="math inline">\(\rho\)</span>.</p>
<ul>
<li><p>If ordinal toxicity is being simulated, it is possible to model the ordinal toxicity, specifying the mean and standard deviation of <span class="math inline">\(\alpha_2\)</span> and <span class="math inline">\(\alpha_4\)</span>. These priors are separate from the <span class="math inline">\(\alpha_3\)</span> and <span class="math inline">\(ln(\beta)\)</span> prior, there is no correlation term in the prior. There is the constraint in the model that <span class="math inline">\(\alpha_2 &gt; \alpha_3 &gt; \alpha_4\)</span>.</p></li>
<li><p><strong>Use fixed Alpha</strong>: the value of Alpha can be fixed to allow the N-CRM model to behave like the traditional CRM models. [Where <span class="math inline">\(\alpha\)</span> was set to 3 and the reference dose is set above the top of the available dose range]</p></li>
</ul></li>
</ul>
<p><strong>Rather than entering the priors directly, they can be derived based on indirect prior information or beliefs, see ‘Deriving the Prior’ below</strong>.</p>
<ul>
<li><p>The <strong>Minimum</strong> and <strong>Maximum</strong> rates that the model is to be fitted too. The model fits the range <span class="math inline">\((0,1)\)</span>, asymptotically approaching each limit as the adjusted dose value tends to <span class="math inline">\(-\infty\)</span> or <span class="math inline">\(+\infty\)</span>. By specifying an alternative minimum and maximum, inside the range <span class="math inline">\((0,1)\)</span>, the user can have the model scaled to fit data to fit event rates where the asymptotic rates are not <span class="math inline">\(0\)</span> or <span class="math inline">\(1\)</span>. For instance if the event being observed has a non-zero background rate (probability of being observed in placebo treated subjects), then the model may fit better if the minimum is set to the lower limit of this expected rate. Similarly if, even at the most toxic dose the event being observed is only expected to effect a proportion of subjects, the model may fit better if the maximum is set to the upper limit of this expected rate.</p></li>
<li><p>If a control arm is present, the user can specify to have this modelled separately, and if so the user specifies the parameters for a prior Beta distribution – in terms of numbers of prior observations on control of subjects with and without a toxicity.</p></li>
<li><p>Group 2 priors: if a second ‘Group’ is being simulated – whether this is a subset of subjects, or a modified treatment that subjects can be randomized to, then the BLRM is jointly fitted to the responses for both groups, with group 2 having offsets <span class="math inline">\(a\)</span> and <span class="math inline">\(b\)</span> from the first group’s <span class="math inline">\(\alpha\)</span> and <span class="math inline">\(\beta\)</span>. The priors for <span class="math inline">\(a\)</span> and <span class="math inline">\(b\)</span> can be full bivariate Normal or can use constraints such as <span class="math inline">\(b = 1\)</span>, or <span class="math inline">\(a &gt; 0\)</span> or <span class="math inline">\(a &lt; 0\)</span>.</p></li>
</ul>
<div id="fig-sec-des-tox1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sec-des-tox1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-3225862155.png" id="fig-sec-des-tox1" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-sec-des-tox1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;48
</figcaption>
</figure>
</div>
<section id="deriving-the-prior" class="level3" data-number="9.2.1">
<h3 data-number="9.2.1" class="anchored" data-anchor-id="deriving-the-prior"><span class="header-section-number">9.2.1</span> Deriving the prior</h3>
<p>The priors of <span class="math inline">\(\alpha\)</span> and <span class="math inline">\(ln(\beta)\)</span>, can be specified directly or derived in one of four ways. When entered explicitly, the user specifies the parameters of the prior bivariate-normal distribution for <span class="math inline">\(\alpha\)</span> and <span class="math inline">\(ln(\beta)\)</span>: the means, standard deviations and the correlation term <span class="math inline">\(\rho\)</span>.</p>
<p>Alternatively, the user may click the ‘derive prior’ button and select from:</p>
<ol type="1">
<li><p><strong>Quantiles at the lowest and highest dose</strong>: (based on the “uninformative prior” given in the paper <span class="citation" data-cites="neuenschwander2008critical">(<a href="#ref-neuenschwander2008critical" role="doc-biblioref">Neuenschwander, Branson, and Gsponer 2008</a>)</span>, for details see <a href="#sec-des-tox-quant">this section</a>) - the user specifies the probability of an unacceptable toxicity at the lowest dose, and the probability of under-dosing at the highest dose (0.1 for both is the default, and 0.05 for both is the value used in the paper). Optionally the probability that toxicity is less than the mid-point of the target toxicity band at the median dose can be specified. (Prior to FACTS 6.5 this third data point was not optional and constrained to be at the reference dose, but this had problems if the reference dose was not the media dose – it might also be the lowest dose for example).</p>
<p>Note this method does not work so well if the reference dose is outside the dose range.</p>
<div id="fig-sec-des-tox-prior1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sec-des-tox-prior1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-1575534157.png" id="fig-sec-des-tox-prior1" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-sec-des-tox-prior1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;49
</figcaption>
</figure>
</div></li>
<li><p><strong>Scenarios</strong>: the model is fitted to each of the toxicity response scenarios (MLE), the parameters of the bivariate normal are then calculated from resulting set of pairs of values for <span class="math inline">\(\alpha\)</span> and <span class="math inline">\(ln(\beta)\)</span>.</p>
<div id="fig-sec-des-tox-prior2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sec-des-tox-prior2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-811643692.png" id="fig-sec-des-tox-prior2" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-sec-des-tox-prior2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;50
</figcaption>
</figure>
</div></li>
<li><p><strong>Specific quantiles</strong>: The user selects which doses and toxicity rates to provide an expectation – a prior probability that the toxicity rate on the dose will be the specified rate or less. At least 3 such expectations using at least 2 different doses strengths must be supplied. If a large number of specific quantiles are specified (e.g.&nbsp;reproducing the all quantiles method) the large number of different beta distributions sampled from, with the monotonicity constraint applied, results in losing too much variability. So this should only be used quantiles specified at 2-4 doses.</p></li>
</ol>
<div id="fig-sec-des-tox-prior3" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sec-des-tox-prior3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-3315013972.png" id="fig-sec-des-tox-prior3" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-sec-des-tox-prior3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;51
</figcaption>
</figure>
</div>
<ol start="4" type="1">
<li><strong>All quantiles</strong>: the user specifies the prior expected toxicity rate at the 2.5%, 50% and 97% quantiles for each dose. (Only available when using explicitly defined doses, not a continuous dose range). Note that using <strong>Create Prior</strong> with this option will require the facts file to be saved and for there to be at least one virtual subject response profile.</li>
</ol>
<div id="fig-sec-des-tox-prior4" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sec-des-tox-prior4-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-913374781.png" id="fig-sec-des-tox-prior4" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-sec-des-tox-prior4-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;52
</figcaption>
</figure>
</div>
<p>In all cases once prior values have been derived they are displayed along with a graph of 100 sampled curves from the prior. The user can accept the values, change derivation method, or cancel the derivation.</p>
<p>The plot of the samples can either be viewed as Pr(Tox) or Log-odds(Tox) vs relative dose (“x-hat”).</p>
</section>
<section id="sec-des-tox-quant" class="level3" data-number="9.2.2">
<h3 data-number="9.2.2" class="anchored" data-anchor-id="sec-des-tox-quant"><span class="header-section-number">9.2.2</span> Derivation of the Prior from Quantiles</h3>
<p>Derivation of the parameters of the bivariate Normal prior for <span class="math inline">\(\alpha\)</span> and <span class="math inline">\(ln(\beta)\)</span>) in the <strong>Quantiles at lowest and highest dose</strong>, <strong>Specific quantiles</strong> and <strong>All quantiles</strong> cases:</p>
<ul>
<li><p>Minimally informative unimodal Beta distributions are fitted for each of the doses where a prior expectation of a toxicity has been specified. For doses where no prior expectation has been specified, the median expected toxicity rate are derived by assuming that the median expected toxicity is linear in log dose on the logit scale, and again a minimally informative unimodal Beta distribution is fitted with the same median.</p></li>
<li><p>Previously and following <span class="citation" data-cites="neuenschwander2008critical">(<a href="#ref-neuenschwander2008critical" role="doc-biblioref">Neuenschwander, Branson, and Gsponer 2008</a>)</span>, the parameters of the bivariate Normal distribution were found using a stochastic fit to the prior expectations of toxicity, minimizing the error in the prior toxicity rates at the 2.5%, 50% and 97.5% quantiles. This is still used in the <strong>All quantiles</strong> and <strong>Legacy prior</strong> cases. However experience with this method with the standard priors (previously called “uninformative”) showed that it yielded priors with too little uncertainty in the <span class="math inline">\(ln(\beta)\)</span>) and too high a value for the correlation parameter for many cases and certainly for the prior to be called “uninformative”.</p></li>
<li><p>Consequently, in the <strong>Quantiles at lowest and highest dose</strong> and <strong>Specific quantiles</strong> cases, the prior is now derived by sampling from the minimally informative unimodal Beta distributions, and fitting the model to each set of sampled toxicity rates. The parameters of the bivariate normal are then calculated from resulting set of pairs of values for <span class="math inline">\(\alpha\)</span> and <span class="math inline">\(ln(\beta)\)</span>.</p></li>
</ul>
<p>If a control arm has been included, it may be included in the model, or modelled separately using a beta-binomial model, the user specifies the prior values for the Beta distribution.</p>
</section>
<section id="derivation-of-the-prior-from-the-scenarios" class="level3" data-number="9.2.3">
<h3 data-number="9.2.3" class="anchored" data-anchor-id="derivation-of-the-prior-from-the-scenarios"><span class="header-section-number">9.2.3</span> Derivation of the prior from the scenarios</h3>
<p>In this screenshot, priors have been derived from the scenarios:</p>
<div id="fig-sec-des-tox-prior5" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sec-des-tox-prior5-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-924511466.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-sec-des-tox-prior5-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;53: Design - Toxicity Response sub-tab (after prior derivation)
</figcaption>
</figure>
</div>
<p>Clearly in this example the scenarios have a very high correlation between the toxicity at the reference dose (<span class="math inline">\(\alpha\)</span>) and the log gradient (<span class="math inline">\(ln(\beta)\)</span>) giving a high value for the correlation in the prior (<span class="math inline">\(\rho\)</span>). As there are very few scenarios, and they didn’t include extreme cases, the SDs of the priors of parameters will be underestimated.</p>
<p>So In this instance we might round the prior means to 2 decimal places, double the SD of <span class="math inline">\(\alpha\)</span>, slightly increase the SD of <span class="math inline">\(ln(\beta)\)</span> and reduce the correlation to 0.5.</p>
<p>However, it is much better to use Drive from Scenarios after entering a large number of varied and credible scenarios. Indeed is such a collection of scenarios exists, deriving the prior from the scenarios is the simplest approach and often very effective. Only if the performance in the simulations in some scenarios does the prior need re-visiting (usually to slightly increase the <span class="math inline">\(ln(\beta)\)</span> SD and/or reduce the correlation).</p>
<p>We strongly recommend checking the performance of the prior across a wide range of scenarios, and of entering the reported derived values of the fitted prior as an explicit prior and then manually modifying them in the light of the model’s performance on the various scenarios.</p>
</section>
</section>
<section id="sec-legacy-prior-methods" class="level2" data-number="9.3">
<h2 data-number="9.3" class="anchored" data-anchor-id="sec-legacy-prior-methods"><span class="header-section-number">9.3</span> Legacy prior methods</h2>
<p>In old versions N-CRM (pre-FACTS 4.0) , the design could be left at the stage where the method of deriving the prior had been specified but the derivation postponed to the simulation stage. We now require that the derivation be performed first, this</p>
<ul>
<li>Enables the actual prior that results from the derivation to be inspected</li>
<li>Makes simulation and recommendation faster, as the derivation is not repeated every time the design engine starts.</li>
</ul>
<p>When opening a FACTS N-CRM file created using a pre-FACTS 4.0 version of FACTS, to continue to use the original prior, select “Derive prior”, and the derive prior window will display the old prior and allow an explicit prior to be derived from it using the now deprecated methods in the older versions of FACTS N-CRM.</p>
<div id="fig-sec-des-tox-prior-leg1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sec-des-tox-prior-leg1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-1528418031.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-sec-des-tox-prior-leg1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;54: Derivation from a legacy prior
</figcaption>
</figure>
</div>
</section>
<section id="sec-efficacy-response" class="level2" data-number="9.4">
<h2 data-number="9.4" class="anchored" data-anchor-id="sec-efficacy-response"><span class="header-section-number">9.4</span> Efficacy Response</h2>
<p>The Efficacy Response tab is displayed if an efficacy endpoint is included in the trial.</p>
<p>The Efficacy Response is specified separately from the Toxicity Response. The Toxicity and Efficacy models are completely separate except for the x-hat values for the transformed dose strengths, where a common set of values is used for both models. Note that the use of a common set of x-hats for both endpoints is a difference from FACTS bCRM, that means it may not be possible to exactly replicate a bCRM design in FACTS N-CRM, however we think that the additional features and options in FACTS N-CRM will make it possible to create an overall superior design in FACTS N-CRM.</p>
<p>The features available for specifying the Efficacy Response model are the same as the Toxicity Response model (see above) – with the exception that the Toxicity Response includes an option for modeling ordinal toxicity, there is no corresponding ordinal efficacy option.</p>
<div id="fig-sec-des-tox-prior-eff1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sec-des-tox-prior-eff1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-3052137711.png" id="fig-sec-des-tox-prior-eff1" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-sec-des-tox-prior-eff1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;55
</figcaption>
</figure>
</div>
<p>The same options for deriving the prior are available as for the Toxicity Response Model.</p>
</section>
<section id="sec-prior-pseudo-subjects" class="level2" data-number="9.5">
<h2 data-number="9.5" class="anchored" data-anchor-id="sec-prior-pseudo-subjects"><span class="header-section-number">9.5</span> Prior Pseudo-subjects</h2>
<p>This option allows “prior data” or “pseudo data” to be specified that will be included in every analysis. This is equivalent to the model being fitted with the parameter prior to this pseudo data and the resulting posterior being the new prior, but it is easier and quicker to include the pseudo subject with the real data and do one analysis.</p>
<p>The user selects which dose levels at which to include the data and specifies the number of pseudo/prior subjects/observations and the number of toxicities. These are allowed to be fractional, and observations can be at dose levels not being tested in the trial. In each analysis the observed data is augmented with this specified data and the parameters of the toxicity response estimated.</p>
<p>If there is an efficacy endpoint as well as toxicity endpoint, pseudo subject data is specified separately for the two endpoints (not surprisingly!). If the data is to be analyzed as “2 groups” pseudo subject data is also specified separately for the two groups.</p>
<p>The effect of this data on the prior can be visualized by the “Update Plot” function that estimates the parameters of the toxicity response and plots the curves of 100 samples drawn from the posterior estimates of the parameters of the model.</p>
<p>The plot of the samples can either be viewed as Pr(Tox) vs Dose Strength or Log-odds(Tox) vs relative dose (“x-hat”).</p>
<div id="fig-sec-des-tox-prior-ps1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sec-des-tox-prior-ps1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-486692236.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-sec-des-tox-prior-ps1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;56: Specifying prior pseudo subjects
</figcaption>
</figure>
</div>
<table class="caption-top table">
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th>Example of effect of pseudo subjects on prior</th>
<th style="text-align: left;"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Prior Only</td>
<td style="text-align: left;"><img src="images/clipboard-20543065.png" class="img-fluid"></td>
</tr>
<tr class="even">
<td>Prior plus 0.5/0 subjects toxicities on dose 1 and 1/0.5 on dose 8.</td>
<td style="text-align: left;"><img src="images/clipboard-1742941756.png" class="img-fluid"></td>
</tr>
<tr class="odd">
<td>Prior plus 3/0 subjects / toxicities on dose 1 and 3/1.5 on dose 8.</td>
<td style="text-align: left;"><img src="images/clipboard-516836495.png" class="img-fluid"></td>
</tr>
</tbody>
</table>
</section>
<section id="allocation-rules" class="level2" data-number="9.6">
<h2 data-number="9.6" class="anchored" data-anchor-id="allocation-rules"><span class="header-section-number">9.6</span> Allocation Rules</h2>
<p>The Allocation Rule sub-tab is depicted below (<a href="#fig-sec-des-tox-prior-alloc1" class="quarto-xref">Figure&nbsp;57</a>); it allows the user to select and set the parameters for the allocation rules.</p>
<p>There is an option to mimic the original Neuenschwander paper and rely on just the toxicity model and the overdose control to guide allocation – i.e.&nbsp;allocate to as close to the estimate of the MTD as we can limited only by the overdose control limits. This is “Use only overdose control”. Normally however we think the clinical will want to impose additional allocation rules.</p>
<p>The next dose allocated is a combination of the current target dose, and 2 possible maximum allocatable doses:</p>
<ol type="1">
<li><p>The target dose is the dose with the highest probability of being the target: the dose with the greatest estimated probability that its toxicity rate lies in the target toxicity band, or the dose nearest or highest below the MTD depending on the options selected on the Study &gt; Toxicity tab.</p></li>
<li><p>The highest dose that meets the overdose criteria (if any): the highest dose that does not have a posterior probability that its toxicity rate lies in the excess &amp; unacceptable toxicity bands or unacceptable toxicity bands above the threshold specified on the Study &gt; Toxicity tab.</p></li>
<li><p>The current cleared dose and how far above that dose can be allocated to as defined by the specified allocation rules (if any).</p></li>
</ol>
<p>The next dose to be allocated to is the lowest of these 3 doses.</p>
<p>It is possible to specify a “run-in” phase before this dose escalation phase applies. A run-in phase has a fixed sequence of doses and cohort sizes (typically smaller than the cohort size used in the escalation phase) and lasts up to the first observed toxicity or the end of the sequence of doses.</p>
<div id="fig-sec-des-tox-prior-alloc1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sec-des-tox-prior-alloc1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-4098696863.png" id="fig-sec-des-tox-prior-alloc1" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-sec-des-tox-prior-alloc1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;57
</figcaption>
</figure>
</div>
<p>If the user selects to use an “Initial run-in” then there are 3 run-in types that can be selected from:</p>
<ul>
<li><p>“Simple run” (the only type available before FACTS 6.3): cohorts are of a single size and the dose sequence up to the “Run-in cannot go beyond” dose (if specifed) is either:</p>
<ul>
<li><p>at every dose starting at the specified “initial dose” if explicit doses have been defined on the the Study &gt; Treatment Arms tab,</p></li>
<li><p>at the dose increment intervals defined in the allocation rules if finely spaced doses have been defined on the Study &gt; Treatment Arm tab.</p></li>
</ul></li>
<li><p>“Custom run-in” where the user specifies which doses are selected (leaving the “number of subjects” at a dose at 0 mans it is not selected) and at each dose how many subjects are allocated in the cohort at that dose.</p></li>
<li><p>Small cohort pre-escalation, cohorts are of a single size and the dose sequence follows the dose increment intervals defined in the allocation rules up to the “Run-in cannot go beyond” dose (if specifed).</p></li>
</ul>
<p>“Simple run-in” and “Small cohort pre-escalation” the user specifies the “small cohort size” and there is an option to specify a top dose that the “Run-in cannot go beyond”.</p>
<p>For all run-in schemes there are options:</p>
<ul>
<li><p>End run-in on 1st category 2 toxicity: The default for the simulation is to stop the run-in when the first full toxicity is observed, there is an option to instead stop when a lower grade toxicity is observed – a category 2 toxicity. If this option is selected, the simluation of virtual subjects is extended to include the simulation of category 2 tocxicity as well as category 3.</p></li>
<li><p>Include run-in subjects in overall maximum</p></li>
<li><p>When run-in ends expand last cohort to full size</p>
<ul>
<li><p>If this <strong><em>is not</em></strong> set then N-CRM model is applied and the next cohort is allocated as close to the target as possibly, restricted by the overdose restrictions and not allocating any higher than the dose reached in the run-in.</p></li>
<li><p>If this option <strong><em>is</em></strong> set then last allocated small cohort is treated as the start of a full cohort and the remaining subjects are allocated at the same dose. The N-CRM model is then applied and the next cohort allocated according to the overdose restrictions and allocation rules. [Note it is possible that after observing no toxicities in the run-in or in the expanded cohort, that the overdose control will force a de-escalation in dose, depending on the priors for the model parameters and the overdose control limits]</p></li>
</ul></li>
</ul>
<p>If simulating 2 groups, and a run-in is specified, group 2 will only use a run-in if on the Study tab the option “Recruit Group 1 and Group 2 together” has been selected. Otherwise only group 1 will use the specified run-in, once group 2 starts it starts with the full cohort (or if open enrollment is being used, the full number of subjects to clear the dose). If using a run-in and recruiting groups 1 and 2 together then both use the same run-in rules, and both will stop on the first toxicity regardless of which group the toxicity occurs in.</p>
<p>If used, the Allocation rules have the effect of setting a Highest Allocatable Dose that specifies the highest dose level that can be allocated to by the allocation rules.</p>
<ul>
<li><p>At the start the Highest Allocatable Dose is the user specified <strong>Starting dose level.</strong></p></li>
<li><p>A dose is not ‘cleared’ until ‘<strong>The minimum cohorts on/near a dose before cleared’</strong> have been allocated to it. If this is set to greater than one, then the specified number of cohorts must have been allocated to the current dose before it is ‘cleared’. Typically this parameter would be set &gt; 1 when small cohort sizes are being used (such as 1 or 2 subjects per cohort) and/or when cohorts are assigned before a previous cohort’s results are available.</p>
<p>If using Open enrolment, this parameter is ’<strong>The minimum subjects on a dose before cleared’</strong> and refers to the number of <em>complete</em> subjects.</p></li>
<li><p>The user can specify that <strong>Dose not cleared if proportion toxic on dose &gt;</strong> and a maximum level of toxicity that can be tolerated for the current dose to be ‘cleatred’. This is of course somewhat of a ‘belt and braces’ approach – it being likely that the model would not want to increment if the proportion of toxicity is high, and indeed if an undesired behavior is observed in simulations, the behavior of the model and the effect of the prior should be investigated.</p></li>
<li><p>The user specifies whether the dose increment rules are to be specified in terms of the number of dose levels that can be incremented or in terms of the ratio by which the dose strength can be increased. If using “dose strength” it is up to the user to ensure that the specified ratio is sufficient to allow all doses to be reached. For example if in the dose range there is a dose of strength 100 and the next dose is of strength 200, then if any dose increment rule is specified that doesn’t allow the dose strength to at least double (using “ratio of dose strength” of less than 2) then the rule will prevent escalation from the 100 dose to the 200 dose.</p></li>
<li><p>The maximum amount the dose can be incremented can be specified in 3 ways:</p>
<ul>
<li><p><strong>Single value</strong>: For all doses, once a dose has been cleared the next ‘highest allocatable dose’ is the dose above the cleared dose by the specified increment – either a number of dose levels or by a proportion of the dose strength.</p></li>
<li><p><strong>By total number of toxicities:</strong> With this rule the maximum dose increase allowed depends on the total number of toxicities that have been observed in the trial so far. The user specifies the maximum increment (in terms of the number of dose levels or the maximum proportional increase in dose strength) when no toxicities, one toxicity, or more than one toxicity has been observed.</p></li>
</ul></li>
</ul>
<p><strong>Figure 9-5 Maximum dose increment varying by number of toxicities observed</strong></p>
<div id="fig-sec-des-tox-prior-alloc2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sec-des-tox-prior-alloc2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-2553981648.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-sec-des-tox-prior-alloc2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;58: Maximum dose increment varying by number of toxicities observed
</figcaption>
</figure>
</div>
<ul>
<li><strong>By dose levels:</strong> the maximal permitted increment is defined in terms of the number of dose levels or the proportional increase in dose strength that the dose can be increased, in up to 3 bands of dose strength. The user defines the upper and lower doses of the middle increment range, the lower range is then from the lowest up to this band and the upper band is from the top of the middle band to the highest dose. The user then specifies the maximum number of dose levels or the maximum proportional dose strength that can be incremented if the current dose is within each of these bands.</li>
</ul>
<div id="fig-sec-des-tox-prior-alloc3" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sec-des-tox-prior-alloc3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-1610266189.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-sec-des-tox-prior-alloc3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;59: Maximum dose increment varying by dose level
</figcaption>
</figure>
</div>
<ul>
<li><p>If toxicities are observed that causes the N-CRM to allocate a dose below the current cleared dose, then there are two options for what happens to the current cleared dose:</p>
<ul>
<li><p>it is left unchanged and further increments are applied relative to the <strong>Highest cleared dose.</strong></p></li>
<li><p>it is reduced to the dose level selected by N-CRM, and further increments are applied relative to the <strong>Most recently</strong> <strong>allocated dose</strong>.</p></li>
</ul></li>
<li><p>If a Control arm has been included, the user must specify the number of subjects per cohort to be allocated to Control. (The Control arm will never be the MTD and thus whole cohorts will never be assigned to it, so it must have a fixed number of subjects assigned from each cohort).</p></li>
</ul>
<p>The “Fastest Possible Dose Escalation” graph shows the dose allocation permitted by the rules if no toxicities are observed. Or the graph can be changed to show the allocation if a toxicity occurs at a specific dose during the run-in.</p>
<p>If there are 2 groups and recruitment to the second group is delayed (either until the first group is complete, has reached a specific dose, or tested a specified number of subjects). Then starting dose for the second dose can be specified as</p>
<div id="fig-sec-des-tox-prior-alloc4" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sec-des-tox-prior-alloc4-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-2316708456.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-sec-des-tox-prior-alloc4-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;60: Design - Allocation Rule Initial Dose Second Group
</figcaption>
</figure>
</div>
<section id="allocation-rules-when-using-a-fine-grained-dose-range" class="level3" data-number="9.6.1">
<h3 data-number="9.6.1" class="anchored" data-anchor-id="allocation-rules-when-using-a-fine-grained-dose-range"><span class="header-section-number">9.6.1</span> Allocation rules when using a fine grained dose range</h3>
<p>When a fine grained dose range is being used, the specification of the allocation rules change to accommodate the fact that the trial is no longer stepping up a few pre-defined dose levels. As with the explicit doses, the allocation rules work with the notion of a Currently Permitted Maximum Dose (CPMD).</p>
<ul>
<li><p>At the start the highest allocatable dose is the user specified <strong>Starting dose strength.</strong></p></li>
<li><p>A <strong>Run-in</strong> phase can be specified, this will always begin at the start dose and allocate ‘small cohorts’ following the maximum increment rules (this is different from when there are explicit doses – with explicit doses, the simple run-in simply allocates successive small cohorts to successive doses, ignoring the maximum permitted increment) for a simple run-in or small cohort pre-escalation, or the specified allocation pattern for a custom run-in, until the first toxicity is observed.</p></li>
<li><p>The degree of increment and specification of what counts as a ‘close’ dose, can be done either in <strong>Dose Strength</strong> or <strong>Ratio of dose strength.</strong></p></li>
<li><p>A dose is not cleared until ’<strong>The minimum cohorts on a dose before incrementing’</strong> have been allocated to it. Typically this parameter would be set &gt; 1 when small cohort sizes are being used (such as 1 or 2 subjects per cohort) and/or when cohorts are assigned before a previous cohort’s results are available.</p></li>
<li><p>The user can specify that <strong>Dose not cleared if ppn toxic on/near dose &gt;</strong> and a maximum level of toxicity that can be tolerated before the dose is cleared. This is of course somewhat of a ‘belt and braces’ approach – it being likely that the model would not want to increment if the proportion of toxicity is high, and indeed if an undesired behavior is observed in simulations, the behavior of the model and the effect of the prior should be investigated.</p></li>
<li><p>The <strong>Max ratio of dose strengths considered as near</strong> or <strong>Delta in dose strength considered as near</strong> defines a margin such that when evaluating whether a dose that has been allocated to counts as “cleared”, then cohorts allocated within that margin all count as being “on” the dose to allow incrementing.</p></li>
<li><p>The <strong>Maximum increment selected by</strong> option allows the user to specify varying maximum increments either dependent on the current cleared dose (<strong>Dose strength</strong>), or on the <strong>Total number of toxicities</strong> that have been observed, as follows:</p>
<ul>
<li><p><strong>Single value</strong>: the amount by which the highest allocatable dose can be above the current cleared doses is constant throughout the trial. (This simple rule can work well when combined with overdose control. The two more complex rules are essentially trying to achieve the same thing as overdose control but are more simplistic and it may be confusing as to whether the allocation rule or overdose control is preventing escalation at any given moment).</p></li>
<li><p><strong>Total number of toxicities:</strong> the amount by which the highest allocatable dose is above the current cleared dose is specified separately for whether zero, one or two or more toxicities have been observed in the entire study.</p></li>
<li><p><strong>Dose strength</strong>: The user specifies:</p>
<ul>
<li><p>the increment at low doses;</p></li>
<li><p>the increment at medium doses, along with the upper and lower dose strengths that define the bounds of what constitutes a ‘medium dose’; and</p></li>
<li><p>the increment at high doses.</p></li>
</ul></li>
</ul></li>
<li><p>If toxicities are observed that causes the N-CRM to allocate a dose below the current cleared dose, then there are two options for what happens to the current cleared dose:</p>
<ul>
<li><p>it is left unchanged and further increments are applied relative to the <strong>Highest cleared dose.</strong></p></li>
<li><p>it is reduced to the dose level selected by N-CRM, and further increments are applied relative to the <strong>Most recently</strong> <strong>cleared dose</strong>.</p></li>
</ul></li>
<li><p>If a Control arm has been included, the user must specify the number of subjects per cohort to be allocated to Control. (The Control arm will never be the MTD and thus whole cohorts will never be assigned to it, so it must have a fixed number of subjects assigned from each cohort).</p></li>
</ul>
<div id="fig-sec-des-tox-prior-alloc-fgd1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sec-des-tox-prior-alloc-fgd1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-2435202614.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-sec-des-tox-prior-alloc-fgd1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;61: Allocation rules with a finely spaced doses
</figcaption>
</figure>
</div>
</section>
</section>
<section id="backfill-allocation" class="level2" data-number="9.7">
<h2 data-number="9.7" class="anchored" data-anchor-id="backfill-allocation"><span class="header-section-number">9.7</span> Backfill Allocation</h2>
<p>If the trial is using open enrolment then “Backfill” allocation is an option. Backfilling is enabled on the Study &gt; Study Info tab, where the maximum number of subjects that can be allocated when backfilling is specified.</p>
<p>Backfilling is the allocation of subjects to a dose below the current dose when the maximum number of subjects on the current dose without final results has been reached.</p>
<p>The Backfill Allocation tab allows detailed control of when backfilling can be used. The user specifies:</p>
<ul>
<li><p>The maximum overall number of subjects that can be on a dose for backfilling to be allowed to that dose.</p></li>
<li><p>The maximum number of subjects that can be allocated to a dose by backfill.</p></li>
<li><p>The maximum number of dose levels below the current dose that can be used for backfilling (the highest that can be backfilled to will be used)</p></li>
<li><p>The lowest dose strength that can be backfilled to.</p></li>
<li><p>Whether or not the current escalation dose is a candidate for backfilling as long as the maximum number of subjects in their DLT period (set in the Study &gt; Study Info tab) is not exceeded (also known as “frontfilling”).</p></li>
<li><p>If frontfilling is enabled, whether these subjects should count towards the backfill allocation cap or the regular study allocation cap (specified in the “Study/Study Info” tab).</p></li>
</ul>
<div id="fig-sec-des-tox-prior-bf1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sec-des-tox-prior-bf1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-3668815882.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-sec-des-tox-prior-bf1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;62: Backfill Allocation
</figcaption>
</figure>
</div>
</section>
<section id="stopping-criteria" class="level2" data-number="9.8">
<h2 data-number="9.8" class="anchored" data-anchor-id="stopping-criteria"><span class="header-section-number">9.8</span> Stopping Criteria</h2>
<p>The simulation will always stop when the maximum number of cohorts or subjects has been allocated.</p>
<p>The user may also specify that the study may stop early in terms of the amount of information that has been gathered about the target dose. In the N-CRM, the target dose can either be the Maximum Tolerated Dose or the “the allowed dose that has the highest posterior probability of having a toxicity rate in the Target Toxicity Band”; we use the label MTD (Maximum Target toxicity Dose) for this target dose too, for brevity and familiarity from previous CRM methods.</p>
<p>Note: if overdose limits have been set (see <a href="#sec-studyinfo">this section</a>), then doses with posterior probabilities of having a toxicity rate in the Excess Toxicity or Unacceptable Toxicity bands that are greater than the specified thresholds, are disallowed for <strong>both</strong> dose allocation <strong>and</strong> selection as MTD.</p>
<p>To enable early stopping, the user must select “Rules for stopping trial early” there are then 2 rules which if selected are always “AND”ed together, and a further block of rules, the result of which (if specified) are “AND”ed with the first two rules. If more than one rule is selected within the block these may be either logically “AND”ed together or “OR”ed together to give the result of the rules in the block.</p>
<p>The two first standalone rules are:</p>
<ol type="1">
<li><p>If a “Required number of cohorts/subjects near MTD” rule is set then the trial will only stop early if at least this number of cohorts or subject has been allocated to the MTD dose or nearby doses. In the box above the “Count as MYD doses differing from MTD by less than or equal” allows how far away a dose can be and for cohorts/subjects on those doses to count towards this total. This can be set to 0 to count only cohorts/subjects on the MTD. It is provided for when fine grain dosing or a large number of explicit doses have been specified. If specified this rule this must always be met along with any other rules set for the trial to stop early.</p></li>
<li><p>If a “Minimum number of cohorts/subjects accrued” has been set then this specifies a lower limit on the sample size before early stopping is allowed. It is provided to allow a higher number of subjects on the MTD if one of the first doses appears to be the MTD. If specified this rule this must always be met along with any other rules set for the trial to stop early.</p></li>
</ol>
<div id="fig-sec-des-tox-prior-sc1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sec-des-tox-prior-sc1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-3965543388.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-sec-des-tox-prior-sc1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;63: Design - Stopping Criteria sub tab
</figcaption>
</figure>
</div>
<p>The available stopping rules are:</p>
<ul>
<li><p><strong>Required number of cohorts/subjects on/near MTD</strong>: Once the specified number of cohorts has been allocated to the dose currently determined to be the MTD, the trial may stop.</p>
<ul>
<li><p>This limit is defined in subjects if open enrollment rather than cohort enrolment is being used.</p></li>
<li><p>The required number of cohorts/subjects can be “near” (rather than “on”) the MTD if a “Count as MTD” interval is defined. This interval is either defined by an interval of “dose strength” using the dose strengths defined on the Study &gt; Treatment Arms tab, or by an interval of “dose strength ratios”. Which is used will correspond to the Selection for “Dose allocation rules apply to” on the Allocation Rules tab. A difference of 0, or factor of 1 can be used to only count cohorts/subjects actually on the selected MTD dose.</p></li>
<li><p>If open enrolment is being used, there is an option to only pause accrual not stop it when the stopping rules have been met, in case the final results of any subjects that were not complete at the time the stopping rules were met cause the rules to be no longer met (for example by having results that change the dose estimated to be the MTD). If this option is selected then the stopping rules are re-assessed when all the current subjects are complete and the trial resumed if the rules are no longer met.</p>
<p>Note this option is not required for cohort enrolment as stopping rules are only evaluated between cohorts</p></li>
</ul></li>
<li><p><strong>Minimum cohorts/subjects accrued</strong>: this rule ensures that a minimum overall number of cohorts have been tested before the trial is allowed to stop. It makes no sense to use this rule on its own (it would effectively just lower the overall study cap) it should only be used in conjunction with other stopping rules.</p>
<ul>
<li>This limit is defined in subjects if open enrollment rather than cohort enrolment is being used.</li>
</ul></li>
<li><p><strong>The Additional Stopping Rules</strong>:</p>
<ul>
<li><p><strong>Range/Ratio of dose strengths within the credible interval is less than or equal to</strong>: This is only enabled if on the Study &gt; Study Info tab, the Type of Target has been set to “Target a single dose”. In this case the credible interval of the dose range that might contain the MTD is calculated, and this option allows the user to specify the width of the credible interval in “dose strength” to consider. How this works is a little counter intuitive: in each MCMC sample the engine determines which dose is the MTD and each doses’ Pr(MTD) is the proportion of the samples it was the MTD. The engine then calculates the minimum range of dose strengths required so that the sum of Pr(MTD) of the doses in the range exceeds 1 – Alpha. (So if a single dose has Pr(MTD) &gt; 1-Alpha, the CI has zero width). If the xhats are log(dose strength) then the minimum range of log(dose strength) is found and exp() of this range returned.</p>
<ul>
<li><p>The stopping rule is met if the width of the CI returned is less than that specified by the user.</p></li>
<li><p>If fine grain dosing is being used then the width of the target credible interval is defined as a dose strength ratio rather than a number of doses.</p></li>
</ul></li>
<li><p><strong>Stop if adding another DLT free cohort does not alter the MTD</strong>: this rule is evaluated by analyzing the existing data supplemented by an additional cohort of a specified size where all the responses are no-toxicity; if this results in no change in selection of MTD then this stopping rule is met. If the study is using Open Enrolment, the user additionally specifies the size of the ‘virtual’ cohort to use.</p></li>
<li><p><strong>Probability of dose being in the target band greater than</strong>: in order to stop, the MTD’s posterior probability that its toxicity rate lies in the Target Toxicity band must be at or above the required threshold.</p></li>
<li><p><strong>Maximum Cohorts/Subjects near MTD</strong>: this option is supplied for use if the additional stopping rules are being OR’d together. (When they are AND’d together it simply functions the same way as the “Required Cohorts on MTD and stopping will not occur until the higher of the two targets is met).</p></li>
<li><p><strong>Join condition:</strong> if more than one additional stopping rule is selected, whether only any one of them needs to be met for the trial to be able to stop (Join condition = “OR”), of if all of the selected rules need to be met for the trial to be able to stop (Join condition = “AND”).</p></li>
</ul></li>
</ul>
<p>The study will also be stopped if there are no allowed doses by the overdose rules. However this <em>can</em> occur early in the study if a toxicity is observed in the first or second cohort. It is likely that in practice the clinical team would override the design stopping the study. Whilst it is difficult to fully represent the team’s decision making, a simple rule is included that is intended to approximate it:</p>
<ul>
<li><strong>Minimum toxicities required before stopping</strong>: This allows a requirement to be specified to observe a ‘minimum number of toxicities’ before the trial stops. If no doses are allowed by the overdosing rules, cohorts are assigned to the lowest dose until the minimum number of toxicities are observed, the stopping rules are met, or doses become allowable again after the model is updated after seeing no toxicities.</li>
</ul>
<div id="fig-sec-des-tox-prior-sc2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sec-des-tox-prior-sc2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-3642157716.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-sec-des-tox-prior-sc2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;64: Stopping Criteria tab with open enrolment and finely spaced doses
</figcaption>
</figure>
</div>
<p>If an additional efficacy endpoint is used, the MTD stopping criteria refer to when the trial jumps from assigning subjects with the aim of finding the MTD (“MTD phase”) to assigning subjects with the aim of finding the MED (“MED phase”). In the MED phase, it is possible that because of new data being observed, the MTD stopping rules are no longer met and the trial switches back to the MTD phase. A new stopping rule for the MTD phase is added, “<strong>Maximum subjects used to determine the MTD</strong>”. After this number of subjects has been enrolled, the trial switches from MTD to MED phase and there is no going back.</p>
<p>In the MED phase, there are several rules for stopping early (i.e.&nbsp;before the maximum sample size of the trial):</p>
<ul>
<li><p><strong>Maximum cohorts/subjects on MED</strong>. This behaves analogous to <strong>Required number of cohorts/subjects on/near MTD</strong> in the MTD stopping rules, with the exception of not using a concept of “near” doses.</p></li>
<li><p><strong>Number of doses within the credible interval is less than or equal to</strong> with the sub-option <strong>Alpha for width of credible interval.</strong> This behaves analogous to <strong>Range/Ratio of dose strengths within the credible interval is less than or equal to</strong> in the MTD stopping rules.</p></li>
<li><p><strong>Probability of dose being MED greater than.</strong> This behaves analogous to <strong>Probability of dose being in the target band greater than</strong> in the MTD stopping rules<strong>.</strong></p></li>
</ul>
<p>A special case arises when the MED estimate is larger than the MTD estimate. If that is the case, subjects are allocated to MTD or the highest cleared dose (whatever is smaller) even in the MED phase. The option “<strong>If MED &gt; MTD: Continue until subjects near MTD reach</strong>” specifies how many subjects should be assigned to MTD in the MED phase before stopping the trial (and therefore giving up hope that the MED is a safe dose).</p>
<div id="fig-sec-des-tox-prior-sc3" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-sec-des-tox-prior-sc3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/clipboard-1886135383.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-sec-des-tox-prior-sc3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;65: Stopping Criteria tab with open enrolment and both a toxicity and efficacy endpoint
</figcaption>
</figure>
</div>



</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-broglio2015bayesian" class="csl-entry" role="listitem">
Broglio, Kristine R, Larissa Sandalic, Tina Albertson, and Scott M Berry. 2015. <span>“Bayesian Dose Escalation in Oncology with Sharing of Information Between Patient Populations.”</span> <em>Contemporary Clinical Trials</em> 44: 56–63.
</div>
<div id="ref-dehbi2021controlled" class="csl-entry" role="listitem">
Dehbi, Hakim-Moulay, John O’Quigley, and Alexia Iasonos. 2021. <span>“Controlled Backfill in Oncology Dose-Finding Trials.”</span> <em>Contemporary Clinical Trials</em> 111: 106605.
</div>
<div id="ref-de1996incorporating" class="csl-entry" role="listitem">
deMoor, CA, DM Higdon, SG Hilsenbeck, GM Clark, and DD von Ho. 1996. <span>“Incorporating Toxicity Grade Information in the Continual Reassessment Method.”</span>
</div>
<div id="ref-neuenschwander2008critical" class="csl-entry" role="listitem">
Neuenschwander, Beat, Michael Branson, and Thomas Gsponer. 2008. <span>“Critical Aspects of the Bayesian Approach to Phase i Cancer Trials.”</span> <em>Statistics in Medicine</em> 27 (13): 2420–39.
</div>
<div id="ref-o1999two" class="csl-entry" role="listitem">
O’Quigley, John, Larry Z Shen, and Anthony Gamst. 1999. <span>“Two-Sample Continual Reassessment Method.”</span> <em>Journal of Biopharmaceutical Statistics</em> 9 (1): 17–44.
</div>
</div></section></div></main> <!-- /main -->
<!-- footer.html -->
<footer>
  <p>© 2024 <a href="https://www.berryconsultants.com">Berry Consultants</a></p>
  <!-- <p>Made with <span style="color: #11A473;">❤</span> and <a href="https://quarto.org">Quarto</a></p> -->
</footer>
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>