<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Dichotomous Endpoints</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../../../">
<link href="../../../../../media/FACTS_icon.png" rel="icon" type="image/png">
<script src="../../../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">

<!-- Roboto Serif -->
<link href="https://fonts.googleapis.com/css2?family=Roboto+Serif:wght@400;700&amp;display=swap" rel="stylesheet">

<!-- Roboto Sans -->
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&amp;display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../../../../../styles.css">
</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../../../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../../../../media/FACTS_logo.jpg" alt="" class="navbar-logo">
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../../../introduction/index.html"> 
<span class="menu-text">Introduction</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="../../../../../documentation/index.html" aria-current="page"> 
<span class="menu-text">Documentation</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../../../concepts/index.html"> 
<span class="menu-text">Concepts</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../../../notes/index.html"> 
<span class="menu-text">Field Notes</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../../../releaseNotes/index.html"> 
<span class="menu-text">Release Notes</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../../../get/index.html"> 
<span class="menu-text">Get FACTS</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../../../contact/index.html"> 
<span class="menu-text">Contact</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">Version 7.1</li><li class="breadcrumb-item"><a href="../../../../../documentation/v71/userguides/core/index.html">User Guides</a></li><li class="breadcrumb-item"><a href="../../../../../documentation/v71/userguides/core/index.html">FACTS Core Designs</a></li><li class="breadcrumb-item"><a href="../../../../../documentation/v71/userguides/core/vsr/index.html">Virtual Subject Response</a></li><li class="breadcrumb-item"><a href="../../../../../documentation/v71/userguides/core/vsr/dichotomous.html">Dichotomous Endpoints</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../../documentation/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Documentation</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Version 7.1</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">User Guides</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth2 show">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../../../documentation/v71/userguides/core/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">FACTS Core Designs</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth3 show">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false">
 <span class="menu-text">Study</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth4 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../../documentation/v71/userguides/core/study/continuous.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Continuous</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../../documentation/v71/userguides/core/study/dichotomous.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Dichotomous</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../../documentation/v71/userguides/core/study/tte.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Time-to-Event Output</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../../../documentation/v71/userguides/core/vsr/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Virtual Subject Response</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth4 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../../documentation/v71/userguides/core/vsr/continuous.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Continuous Endpoints</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../../documentation/v71/userguides/core/vsr/dichotomous.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Dichotomous Endpoints</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../../documentation/v71/userguides/core/vsr/tte.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Time-to-event Endpoints</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../../documentation/v71/userguides/core/execution.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Execution</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../../documentation/v71/userguides/core/qois.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Quantities of Interest</span></a>
  </div>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../../../documentation/v71/userguides/core/design/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Design</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth4 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../../documentation/v71/userguides/core/design/doseresponse.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Dose Response Models</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../../documentation/v71/userguides/core/design/frequentistanalysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Frequentist Analysis</span></a>
  </div>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../../../documentation/v71/userguides/core/longitudinalmodels/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Longitudinal Models</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth5 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../../documentation/v71/userguides/core/longitudinalmodels/continuous.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Continuous Endpoints</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../../documentation/v71/userguides/core/longitudinalmodels/dichotomous.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Dichotomous Endpoint</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../../documentation/v71/userguides/core/longitudinalmodels/tte.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Time-to-event Endpoint</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../../documentation/v71/userguides/core/design/allocation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Allocation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../../documentation/v71/userguides/core/design/interims.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Interims</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../../documentation/v71/userguides/core/design/successfutility.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Success/Futility Criteria</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item">
 <span class="menu-text">documentation/v71/userguides/core/simulation.qmd</span>
  </li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../../documentation/v71/userguides/core/analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Analysis</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../../documentation/v71/userguides/crm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">FACTS Dose Escalation CRM</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../../documentation/v71/userguides/FACTSfromR.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Calling FACTS from R</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../../documentation/v71/userguides/factsMenus.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">The Standard FACTS Menus</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../../documentation/v71/userguides/flfll.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">FACTS Linux File Loader Light - FLFLL</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../../documentation/v71/userguides/installation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">FACTS Installation Guide</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="true">
 <span class="menu-text">Examples</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth2 show">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="false">
 <span class="menu-text">CRM</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../../documentation/v71/examples/CRM/example1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Example 1</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../../documentation/v71/examples/CRM/example2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Example 2</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" role="navigation" aria-expanded="false">
 <span class="menu-text">Staged</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-10" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../../documentation/v71/examples/Staged/example1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Example 1</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../../documentation/v71/examples/Staged/example2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Example 2</span></a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../../documentation/v71/glossary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Glossary</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../../documentation/v71/references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of Contents</h2>
   
  <ul>
  <li><a href="#virtual-subject-response" id="toc-virtual-subject-response" class="nav-link active" data-scroll-target="#virtual-subject-response"><span class="header-section-number">1</span> Virtual Subject Response</a>
  <ul>
  <li><a href="#explicitly-defined-vsr" id="toc-explicitly-defined-vsr" class="nav-link" data-scroll-target="#explicitly-defined-vsr"><span class="header-section-number">1.1</span> Explicitly Defined VSR</a>
  <ul class="collapse">
  <li><a href="#dose-response" id="toc-dose-response" class="nav-link" data-scroll-target="#dose-response"><span class="header-section-number">1.1.1</span> Dose Response</a>
  <ul class="collapse">
  <li><a href="#load-scenario-rates-from-file" id="toc-load-scenario-rates-from-file" class="nav-link" data-scroll-target="#load-scenario-rates-from-file"><span class="header-section-number">1.1.1.1</span> Load Scenario Rates From File</a></li>
  </ul></li>
  <li><a href="#longitudinal-simulation" id="toc-longitudinal-simulation" class="nav-link" data-scroll-target="#longitudinal-simulation"><span class="header-section-number">1.1.2</span> Longitudinal Simulation</a>
  <ul class="collapse">
  <li><a href="#default-dichotomous-longitudinal-simulation-method" id="toc-default-dichotomous-longitudinal-simulation-method" class="nav-link" data-scroll-target="#default-dichotomous-longitudinal-simulation-method"><span class="header-section-number">1.1.2.1</span> Default Dichotomous Longitudinal Simulation Method</a></li>
  <li><a href="#restricted-markov-dose-response" id="toc-restricted-markov-dose-response" class="nav-link" data-scroll-target="#restricted-markov-dose-response"><span class="header-section-number">1.1.2.2</span> Restricted Markov Dose Response</a></li>
  <li><a href="#dichotomized-continuous-response" id="toc-dichotomized-continuous-response" class="nav-link" data-scroll-target="#dichotomized-continuous-response"><span class="header-section-number">1.1.2.3</span> Dichotomized Continuous Response</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#external" id="toc-external" class="nav-link" data-scroll-target="#external"><span class="header-section-number">1.2</span> External</a>
  <ul class="collapse">
  <li><a href="#required-format-of-externally-simulated-detail" id="toc-required-format-of-externally-simulated-detail" class="nav-link" data-scroll-target="#required-format-of-externally-simulated-detail"><span class="header-section-number">1.2.1</span> Required Format of Externally Simulated Detail</a>
  <ul class="collapse">
  <li><a href="#external-directory-of-files" id="toc-external-directory-of-files" class="nav-link" data-scroll-target="#external-directory-of-files"><span class="header-section-number">1.2.1.1</span> External Directory of Files</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#response" id="toc-response" class="nav-link" data-scroll-target="#response"><span class="header-section-number">1.3</span> Response</a></li>
  <li><a href="#model-parameters" id="toc-model-parameters" class="nav-link" data-scroll-target="#model-parameters"><span class="header-section-number">1.4</span> Model Parameters</a></li>
  <li><a href="#entering-the-data-directly" id="toc-entering-the-data-directly" class="nav-link" data-scroll-target="#entering-the-data-directly"><span class="header-section-number">1.5</span> Entering the data directly</a></li>
  <li><a href="#loading-data-from-a-file" id="toc-loading-data-from-a-file" class="nav-link" data-scroll-target="#loading-data-from-a-file"><span class="header-section-number">1.6</span> Loading Data From a File</a>
  <ul class="collapse">
  <li><a href="#the-subject.csv-file-format" id="toc-the-subject.csv-file-format" class="nav-link" data-scroll-target="#the-subject.csv-file-format"><span class="header-section-number">1.6.1</span> The subject.csv file format</a></li>
  <li><a href="#converting-arrival-date-value-from-days-to-weeks" id="toc-converting-arrival-date-value-from-days-to-weeks" class="nav-link" data-scroll-target="#converting-arrival-date-value-from-days-to-weeks"><span class="header-section-number">1.6.2</span> Converting arrival date value from days to weeks</a></li>
  </ul></li>
  <li><a href="#data-file-management-on-the-analysis-tab" id="toc-data-file-management-on-the-analysis-tab" class="nav-link" data-scroll-target="#data-file-management-on-the-analysis-tab"><span class="header-section-number">1.7</span> Data file management on the Analysis tab</a></li>
  <li><a href="#running-an-analysis" id="toc-running-an-analysis" class="nav-link" data-scroll-target="#running-an-analysis"><span class="header-section-number">1.8</span> Running an Analysis</a></li>
  <li><a href="#analysis-options" id="toc-analysis-options" class="nav-link" data-scroll-target="#analysis-options"><span class="header-section-number">1.9</span> Analysis Options</a></li>
  </ul></li>
  <li><a href="#detailed-simulation-results" id="toc-detailed-simulation-results" class="nav-link" data-scroll-target="#detailed-simulation-results"><span class="header-section-number">2</span> Detailed Simulation Results</a></li>
  <li><a href="#output-files" id="toc-output-files" class="nav-link" data-scroll-target="#output-files"><span class="header-section-number">3</span> Output Files</a>
  <ul>
  <li><a href="#contents-of-summary.csv" id="toc-contents-of-summary.csv" class="nav-link" data-scroll-target="#contents-of-summary.csv"><span class="header-section-number">3.1</span> Contents of summary.csv</a>
  <ul class="collapse">
  <li><a href="#qoi-columns" id="toc-qoi-columns" class="nav-link" data-scroll-target="#qoi-columns"><span class="header-section-number">3.1.1</span> QOI Columns</a></li>
  </ul></li>
  <li><a href="#contents-of-summary_freq_missing.csv" id="toc-contents-of-summary_freq_missing.csv" class="nav-link" data-scroll-target="#contents-of-summary_freq_missing.csv"><span class="header-section-number">3.2</span> Contents of Summary_freq_&lt;missing&gt;.csv</a></li>
  <li><a href="#contents-of-simulations.csv-and-weeksnnnnn.csv" id="toc-contents-of-simulations.csv-and-weeksnnnnn.csv" class="nav-link" data-scroll-target="#contents-of-simulations.csv-and-weeksnnnnn.csv"><span class="header-section-number">3.3</span> Contents of simulations.csv and weeksNNNNN.csv</a>
  <ul class="collapse">
  <li><a href="#qoi-columns-1" id="toc-qoi-columns-1" class="nav-link" data-scroll-target="#qoi-columns-1"><span class="header-section-number">3.3.1</span> QOI Columns</a></li>
  </ul></li>
  <li><a href="#contents-of-simulations_freq_missing.csv-weeks_freq_missing.csv" id="toc-contents-of-simulations_freq_missing.csv-weeks_freq_missing.csv" class="nav-link" data-scroll-target="#contents-of-simulations_freq_missing.csv-weeks_freq_missing.csv"><span class="header-section-number">3.4</span> Contents of Simulations_freq_&lt;missing&gt;.csv, Weeks_freq_&lt;missing&gt;.csv</a></li>
  <li><a href="#contents-of-patientsnnnnn.csv" id="toc-contents-of-patientsnnnnn.csv" class="nav-link" data-scroll-target="#contents-of-patientsnnnnn.csv"><span class="header-section-number">3.5</span> Contents of PatientsNNNNN.csv</a></li>
  <li><a href="#contents-of-mcmcnnnnn.csv" id="toc-contents-of-mcmcnnnnn.csv" class="nav-link" data-scroll-target="#contents-of-mcmcnnnnn.csv"><span class="header-section-number">3.6</span> Contents of MCMCNNNNN.csv</a>
  <ul class="collapse">
  <li><a href="#content-if-using-a-conventional-dichotomous-endpoint" id="toc-content-if-using-a-conventional-dichotomous-endpoint" class="nav-link" data-scroll-target="#content-if-using-a-conventional-dichotomous-endpoint"><span class="header-section-number">3.6.1</span> Content if using a conventional Dichotomous endpoint</a></li>
  <li><a href="#contents-if-using-a-restricted-markov-endpoint" id="toc-contents-if-using-a-restricted-markov-endpoint" class="nav-link" data-scroll-target="#contents-if-using-a-restricted-markov-endpoint"><span class="header-section-number">3.6.2</span> Contents if using a Restricted Markov endpoint</a></li>
  <li><a href="#contents-if-using-a-dichotomized-continuous-variable" id="toc-contents-if-using-a-dichotomized-continuous-variable" class="nav-link" data-scroll-target="#contents-if-using-a-dichotomized-continuous-variable"><span class="header-section-number">3.6.3</span> Contents if using a Dichotomized Continuous variable</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content column-body" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">Version 7.1</li><li class="breadcrumb-item"><a href="../../../../../documentation/v71/userguides/core/index.html">User Guides</a></li><li class="breadcrumb-item"><a href="../../../../../documentation/v71/userguides/core/index.html">FACTS Core Designs</a></li><li class="breadcrumb-item"><a href="../../../../../documentation/v71/userguides/core/vsr/index.html">Virtual Subject Response</a></li><li class="breadcrumb-item"><a href="../../../../../documentation/v71/userguides/core/vsr/dichotomous.html">Dichotomous Endpoints</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">Dichotomous Endpoints</h1>
<p class="subtitle lead">Description of how to specify the virtual subject response for dichotomous endpoints.</p>
</div>



<div class="quarto-title-meta column-body">

    
  
    
  </div>
  


</header>


<p>FACTS Core Designs</p>
<p>Dichotomous: Study, Virtual Subject Response, Execution, Simulation and Analysis tabs and Output file contents.</p>
<section id="virtual-subject-response" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Virtual Subject Response</h1>
<p>As with all FACTS design engines the Virtual Subject Response tab allows the user to explicitly define virtual subject response profiles, and/or to import virtual externally simulated patient responses – e.g.&nbsp;from a PK/PD model. When simulations are executed, they will be executed for a specific scenario – where a scenario is a combination of one of each type of profile – dose response, longitudinal, accrual and dropout. If an external file is used to specify the subject responses to be simulated, this effectively replaces the dose response and longitudinal profiles in a scenario.</p>
<p>In FACTS Core with a dichotomous endpoint there are 4 different circumstances:</p>
<ol type="1">
<li><p>Explicit specification of a dichotomous endpoint</p></li>
<li><p>Explicit specification of a restricted Markov endpoint</p></li>
<li><p>Explicit specification of a continuous endpoint that is dichotomized into responder / non-responder based on the response at the final visit.</p></li>
<li><p>Importation of an externally generated set of simulated subject results.</p></li>
</ol>
<section id="explicitly-defined-vsr" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="explicitly-defined-vsr"><span class="header-section-number">1.1</span> Explicitly Defined VSR</h2>
<p>With a conventional dichotomous response being simulated, FACTS allows subject responses to be simulated by specifying the response rate to simulate.</p>
<section id="dose-response" class="level3" data-number="1.1.1">
<h3 data-number="1.1.1" class="anchored" data-anchor-id="dose-response"><span class="header-section-number">1.1.1</span> Dose Response</h3>
<p><img src="../coreUGattachments/dichotomous/media/image20.png" style="width:5.87809in;height:4.46338in"></p>
<p>Dose response profiles can be added and deleted, and for each profile the user specifies:</p>
<ol type="1">
<li><p>The response rate for each treatment arm.</p></li>
<li><p>A check box that allows the user to specify whether a specific arm “should succeed” in that scenario: so that FACTS can report on the proportion of simulations that were successful <strong>and</strong> a ‘good’ treatment arm selected.</p></li>
</ol>
<p>The graph on the tab shows the mean response rate specified and the target.</p>
<p>If a 2D treatment arm model is being used, the doses are listed in “effective dose strength order” as was defined on the treatment arm tab.</p>
<section id="load-scenario-rates-from-file" class="level4" data-number="1.1.1.1">
<h4 data-number="1.1.1.1" class="anchored" data-anchor-id="load-scenario-rates-from-file"><span class="header-section-number">1.1.1.1</span> Load Scenario Rates From File</h4>
<p>If the “Load scenario means from a file” option is selected then in scenarios using this profile the simulations will use a range of dose responses. Each individual simulation uses one set of response rates from the supplied file, each row being used in an equal number of simulations. The summary results are thus averaged over all the VSRs in the file. The use of this form of simulation is somewhat different from simulations using a single rate or single external virtual subject response file. When all the simulations are simulated from one ‘truth’ then the purpose of the simulations is to analyse the performance of the design under that specific circumstance. When the simulations are based on a range of ‘truths’ then the summary results show the expected probability of the different outcomes for the trial over that range of possible circumstances. Note that to give different VSRs different weights of expectation, the more likely VSRs should be repeated within the file.</p>
<p><img src="../coreUGattachments/dichotomous/media/image21.png" style="width:5.31286in;height:4.0342in"></p>
<p>After selecting the “.mvsr” file the graph shows the individual response rates and the mean response rate over all the VSRs.</p>
<p>There is a check box per dose that allows the user to specify whether a specific arm “should succeed” in that scenario: so that FACTS can report on the proportion of simulations that were successful <strong>and</strong> a ‘good’ treatment arm selected.</p>
<p>The format of the “.mvsr” file is a simple CSV text file. Lines starting with a ‘#’ character are ignored so the file can include comment and header lines. There must be one column per treatment arm, and they must be in dose index order. Each value is the underlying response rate to simulate. E.g.:</p>
<pre><code>#Cntrl, D1, D2, D3, D4
0.05, 0.1, 0.15, 0.25, 0.5
0.05, 0.1, 0.15, 0.23, 0.45
0.05, 0.1, 0.15, 0.21, 0.4
0.05, 0.1, 0.15, 0.19, 0.35
0.05, 0.1, 0.15, 0.17, 0.3
0.05, 0.1, 0.15, 0.15, 0.25</code></pre>
<p>If restricted Markov is being used then there must be two sets of columns, the first giving the overall response rate and the second giving the overall failure rate. Say the failure rate will be 0.1 for all doses then the above becomes:</p>
<pre><code>#Cntrl, 1mg, 5mg, 10mg, 25mg, 50mg, 100mg, Cntrl, 1mg, 5mg, 10mg, 25mg,
50mg, 100mg
0.2, 0.2, 0.2, 0.2, 0.2, 0.2, 0.2, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1
0.2, 0.2, 0.2, 0.17, 0.15, 0.12, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1
0.2, 0.21, 0.22, 0.23, 0.25, 0.27, 0.28, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1,
0.1
0.2, 0.22, 0.22, 0.27, 0.3, 0.32, 0.35, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1,
0.1
0.2, 0.22, 0.24, 0.28, 0.35, 0.4, 0.4, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1
0.2, 0.22, 0.25, 0.35, 0.4, 0.35, 0.3, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1
0.2, 0.3, 0.4, 0.35, 0.3, 0.2, 0.15, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1</code></pre>
<p>If a dichotomized continuous endpoint is being used then there must be two sets of columns, the first giving the mean change from baseline and the second giving the SD of the change (as in FACTS Core Continuous). For example with control and 3 doses, and where the SD will be 5 for all doses in all VSRs:</p>
<pre><code>#Means SDs
#Cntrl, D1, D2, D3, Cntrl, D1, D2, D3
-1, -1, -1, -1, 5, 5, 5, 5
-1, -1.2, -1.4, -1.6, 5, 5, 5, 5
-1, -1.8, -2.5, -2.5, 5, 5, 5, 5
-1, -2, -2.5, -3, 5, 5, 5, 5
-1, -2.5, -3.25, -3.25, 5, 5, 5, 5
-1, -2.5, -3.25, -2.5, 5, 5, 5, 5</code></pre>
</section>
</section>
<section id="longitudinal-simulation" class="level3" data-number="1.1.2">
<h3 data-number="1.1.2" class="anchored" data-anchor-id="longitudinal-simulation"><span class="header-section-number">1.1.2</span> Longitudinal Simulation</h3>
<section id="default-dichotomous-longitudinal-simulation-method" class="level4" data-number="1.1.2.1">
<h4 data-number="1.1.2.1" class="anchored" data-anchor-id="default-dichotomous-longitudinal-simulation-method"><span class="header-section-number">1.1.2.1</span> Default Dichotomous Longitudinal Simulation Method</h4>
<p>The tab for defining dichotomous longitudinal response profiles allows the user to specify the overall transition probabilities between responder and non-responder.</p>
<p>If no special longitudinal options are selected on the Study Info page, then this default simulation method that uses transition probabilities to simulate sequential dichotomous endpoints is used.</p>
<p>The transition probabilities method for generating longitudinal responses simulates the response observed at each visit by using the probability that a subject becomes or remains a ‘1’ from one visit to the next – and all subjects start with a response of 0.</p>
<p><img src="../coreUGattachments/dichotomous/media/image22.png" style="width:5.59822in;height:4.25087in"></p>
<p>The user specifies for each visit,</p>
<ul>
<li><p>the probability of a subject whose response was a ‘0’ at the previous visit having a response of ‘1’ at this visit</p></li>
<li><p>the probability of a subject whose response was a ‘1’ at the previous visit having a response of ‘1’ at this visit</p></li>
</ul>
<p>However, these probabilities imply a particular probability that a subject has a response of ‘1’ at the final visit, so they need to be modified for each arm in each dose response profile to give the desired final probability of response. This is done by numerically determining for each final response rate, a single value which when added to all the specified transition probabilities in the log-odds space yield the desired probability of final response.</p>
<p>Let <span class="math inline">\(Q_{td}\)</span> be the probability of transitioning from 0 to 1, and <span class="math inline">\(R_{td}\)</span> be the probability of transitioning from 1 to 1 for each visit (t) and dose (d).</p>
<p>For the 1<sup>st</sup> visit:</p>
<p><span class="math display">\[P\left( y_{1d} = 1 \right) = Q_{1d}\]</span></p>
<p>which is like considering the imaginary 0<sup>th</sup> visit to have been a non-response. For subsequent visits:</p>
<p><span class="math display">\[P\left( y_{td} = 1 \middle| y_{t - 1,d} = 0 \right) = Q_{td}\]</span></p>
<p><span class="math display">\[P\left( y_{td} = 1 \middle| y_{t - 1,d} = 1 \right) = R_{td}\]</span></p>
<p>The dose response (<span class="math inline">\(P_{d}\)</span>) is first specified in the VSR &gt; Explicitly Defined &gt; Dose Response tab, and then longitudinal components (<span class="math inline">\(q_{t}\)</span> and <span class="math inline">\(r_{t}\)</span>) are specified separately. FACTS then makes an adjustment to the longitudinal components <span class="math inline">\(q_{t}\)</span> and <span class="math inline">\(r_{t}\)</span> to calculate <span class="math inline">\(Q_{td}\)</span> and <span class="math inline">\(R_{td}\)</span> for each dose while maintaining the value for <span class="math inline">\(P_{d}\)</span> specified in the Dose Response tab.</p>
<p>The matrices Q and R are calculated by applying offsets <span class="math inline">\(f_{d}\)</span> in log odds space to the longitudinal values:</p>
<p><span class="math inline">\(Q_{t,d} = \frac{e^{q'_{td}}}{1 + e^{q'_{td}}}\)</span>, <span class="math inline">\(q'_{td} = \ln\left( \frac{q_{t}}{1 + q_{t}} \right) + f_{d}\)</span>,</p>
<p><span class="math inline">\(R_{t,d} = \frac{e^{r'_{td}}}{1 + e^{r'_{td}}}\)</span>, <span class="math inline">\(r'_{td} = \ln\left( \frac{r_{t}}{1 + r_{t}} \right) + f_{d}\)</span></p>
<p>where <span class="math inline">\(f_{d}\)</span> is calculated iteratively for each dose to ensure that Q and R give the correct final probability of response for each dose. As a result,</p>
<p><span class="math display">\[P_{d} = x_{Td}\]</span></p>
<p>where</p>
<p><span class="math display">\[x_{1d} = Q_{1d}\]</span></p>
<p>and</p>
<p><span class="math display">\[x_{t} = x_{t - 1}R_{td} + \left( 1 - x_{t - 1} \right)Q_{td}\]</span></p>
<p><strong>Example</strong>:</p>
<p>With 3 visits and probabilities of <span class="math inline">\(0\rightarrow 1\)</span> of <span class="math inline">\(0.2\)</span> and of <span class="math inline">\(1\rightarrow 1\)</span> of <span class="math inline">\(0.9\)</span> at each visit, the probability of a final response is 0.438. This 0.438 is fixed, and cannot be changed without changing the transition probabilities.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 23%">
<col style="width: 23%">
<col style="width: 25%">
<col style="width: 25%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th style="text-align: left;"><strong>Transition probabilities</strong></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Response</strong></td>
<td style="text-align: left;"><strong>Visit 1</strong></td>
<td><strong>Visit 2</strong></td>
<td><strong>Visit 3</strong></td>
</tr>
<tr class="even">
<td><strong>0</strong></td>
<td style="text-align: left;">0.2</td>
<td>0.2</td>
<td>0.2</td>
</tr>
<tr class="odd">
<td><strong>1</strong></td>
<td style="text-align: left;">-</td>
<td>0.9</td>
<td>0.9</td>
</tr>
<tr class="even">
<td></td>
<td style="text-align: left;"><strong>Pr(Response)</strong></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td><strong>Response</strong></td>
<td style="text-align: left;"><strong>Visit 1</strong></td>
<td><strong>Visit 2</strong></td>
<td><strong>Visit 3</strong></td>
</tr>
<tr class="even">
<td><strong>0</strong></td>
<td style="text-align: left;">0.8</td>
<td>0.66</td>
<td>0.562</td>
</tr>
<tr class="odd">
<td><strong>1</strong></td>
<td style="text-align: left;">0.2</td>
<td>0.34</td>
<td>0.438</td>
</tr>
</tbody>
</table>
<p>If a response profile calls for the probability of a final response to be simulated with a probability of 0.8, a fixed offset in log-odds is found which when applied to all the transition probabilities results in the desired final probability of a response. Replicating this by hand to an accuracy of 4 significant digits yields an offset of 1.173, which gives:</p>
<table class="caption-top table">
<colgroup>
<col style="width: 23%">
<col style="width: 23%">
<col style="width: 25%">
<col style="width: 25%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th style="text-align: left;"><strong>Transition probabilities</strong></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Response</strong></td>
<td style="text-align: left;"><strong>Visit 1</strong></td>
<td><strong>Visit 2</strong></td>
<td><strong>Visit 3</strong></td>
</tr>
<tr class="even">
<td><strong>0</strong></td>
<td style="text-align: left;">0.4469</td>
<td>0.4469</td>
<td>0.4469</td>
</tr>
<tr class="odd">
<td><strong>1</strong></td>
<td style="text-align: left;">-</td>
<td>0.9668</td>
<td>0.9668</td>
</tr>
<tr class="even">
<td></td>
<td style="text-align: left;"><strong>Pr(Response)</strong></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td><strong>Response</strong></td>
<td style="text-align: left;"><strong>Visit 1</strong></td>
<td><strong>Visit 2</strong></td>
<td><strong>Visit 3</strong></td>
</tr>
<tr class="even">
<td><strong>0</strong></td>
<td style="text-align: left;">0.5531</td>
<td>0.3208</td>
<td>0.2000</td>
</tr>
<tr class="odd">
<td><strong>1</strong></td>
<td style="text-align: left;">0.4469</td>
<td>0.6792</td>
<td>0.8000</td>
</tr>
</tbody>
</table>
</section>
<section id="restricted-markov-dose-response" class="level4" data-number="1.1.2.2">
<h4 data-number="1.1.2.2" class="anchored" data-anchor-id="restricted-markov-dose-response"><span class="header-section-number">1.1.2.2</span> Restricted Markov Dose Response</h4>
<p>If on the Study &gt; Study Info tab, the special longitudinal option of using the restricted Markov is selected then this tab is available for specifying jointly how subject interim and final outcomes are to be simulated:</p>
<p><img src="../coreUGattachments/dichotomous/media/image23.png" style="width:5.42781in;height:4.12148in"></p>
<p>Unlike the simulation of the conventional dichotomous outcome, with Restricted Markov the longitudinal and final response are specified together.</p>
<p>The Absorbing Markov Chain model assumes at each visit patients are in one of three states – responder, stable disease, or failure (non-responder). The responder and failure states are assumed to be absorbing, so patients entering one of these states remain in those states for the duration of the study. Thus, all patient profiles will consist of some duration of stable disease followed by a permanent transition to responder or failure. If a subject remains in the stable state through their final endpoint time, the final response is made dichotomous by the user specifying whether patients in the stable state at the final visit should be classified as responders or failures.</p>
<p>For each dose the user specifies the probability that the subject will be a failure at their final endpoint, and the probability that a subject will be a responder at their final visit. Given these probabilities, FACTS can calculate the probability that a subjects is in the stable state at their final visit, and then the mechanism for generating subjects longitudinal data is:</p>
<ol type="1">
<li><p>Two independent exponentially distributed variables, one measuring the time until response <span class="math inline">\(T_{R}\)</span> and another measuring the time until failure <span class="math inline">\(T_{F}\)</span>, are simulated when the subject enters the study.</p></li>
<li><p>If either of variable has a value less than the final endpoint time, the engine determines which variable (<span class="math inline">\(T_{R}\)</span> or <span class="math inline">\(T_{F}\)</span>) is the minimum. All visits whose time occurs less than that minimum are stable, while all visits past that variable’s time are classified as that variable’s corresponding state (thus, if visits occur every week for 10 weeks, the response variable <span class="math inline">\(T_{R}\)</span> is 4.5, and the failure variable <span class="math inline">\(T_{F}\)</span> is 9.5, then the response variable is the minimum, visits 1-4 are stable, and visits 5-10 are a response.</p></li>
<li><p>If neither variable is less than the final endpoint time, the final endpoint and all visits are assumed to be stable.</p></li>
</ol>
<p>The parameters of the exponential variables are determined so that they agree with the user entries for the probabilities of response, stable, and failure at the final endpoint. Given T is the time of the final endpoint and a particular dose has probability for response, stable, and failure of Pr(resp), Pr(stable), and Pr(fail) with Pr(stable) strictly between 0 and 1, the appropriate exponential parameters (again there are separate rates in each group and arm) are</p>
<p><span class="math display">\[\lambda_{r} = \frac{\Pr(resp)\left\lbrack - \ln{Pr(stable)} \right\rbrack}{T\left( 1 - Pr(stable) \right)}\]</span> <span class="math display">\[\lambda_{f} = \frac{\Pr(fail)\left\lbrack - \ln{Pr(stable)} \right\rbrack}{T\left( 1 - Pr(stable) \right)}\]</span></p>
<p>If one of these rates is 0, that random variable is removed from the calculation (e.g.&nbsp;if Pr(fail)=0 then failures are not generated). If Pr(stable)=0, the transition to response or failure is assumed to occur instantaneously after enrolment, and thus a weighted coin is flipped with probabilities Pr(resp) and Pr(fail) and all visits are equal to the result (e.g.&nbsp;all visits are responses or all visits are failures depending on the result of that weighted coin flip). If Pr(stable)=1, then all visits are stable.</p>
<p>There is a check box per dose that allows the user to specify whether a specific arm “should succeed” in that scenario so that FACTS can report on the proportion of simulations that were successful <strong>and</strong> a ‘good’ treatment arm selected.</p>
<p>The graph on the Restricted Markov tab shows the probability of response for each arm and the target CSD relative to the response on control.</p>
</section>
<section id="dichotomized-continuous-response" class="level4" data-number="1.1.2.3">
<h4 data-number="1.1.2.3" class="anchored" data-anchor-id="dichotomized-continuous-response"><span class="header-section-number">1.1.2.3</span> Dichotomized Continuous Response</h4>
<p>If, on the Study &gt; Study Info tab, the special longitudinal option is selected that the endpoint is a dichotomized continuous response, then instead of using the dichotomous endpoint infrastructure the <a href="../../../../../documentation/v71/userguides/core/design/doseresponse.html">continuous dose response model</a> and <a href="../../../../../documentation/v71/userguides/core/longitudinalmodels/continuous.html">longitudinal data simulation</a> tabs are used. After the final endpoint and all intermediate endpoints are simulated from the continuous distribution, they are dichotomized using the threshold specified on the Study Info tab.</p>
</section>
</section>
</section>
<section id="external" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="external"><span class="header-section-number">1.2</span> External</h2>
<p>As well as simulating subject responses within FACTS they can be simulated externally, and imported into FACTS where the supplied responses are sampled from with replacement when simulating the trial. The selection of a file containing subject response data (which must be in the required format) can be done from the External Files sub-tab depicted below.</p>
<p>To import an external file, the user must first add a profile to the table. After adding the profile, the user must click “Browse” to locate the file of externally simulated data. The user will then be prompted to locate the external file on their computer with a dialog box.</p>
<p><img src="../coreUGattachments/dichotomous/media/image24.png" style="width:5.51823in;height:4.19014in"></p>
<section id="required-format-of-externally-simulated-detail" class="level3" data-number="1.2.1">
<h3 data-number="1.2.1" class="anchored" data-anchor-id="required-format-of-externally-simulated-detail"><span class="header-section-number">1.2.1</span> Required Format of Externally Simulated Detail</h3>
<p>The supplied data should be in the following format: an ascii file with data in comma separated value format with the following columns:</p>
<ol type="1">
<li><p>Patient id - these must be sequential, unique, positive integers.</p></li>
<li><p>Arm Index (1 = Control, 2 = Treatment1, 3 = Treatment2, …)</p></li>
<li><p>Visit ID – visit index (1= first visit, 2= second visit, …)</p></li>
<li><p>Response – 0 for no response, 1 for response, -1 for stable (restricted Markov)</p></li>
</ol>
<p>Subjects need to have unique, positive integer IDs, all records for each subject should be contiguous and in visit order.</p>
<p>The GUI requires that the file name has a “.dat” suffix. Additionally, it is acceptable to not use column headers in the .dat input file. If column headers are included, the column header line should begin with a pound sign (#) indicating it should be ignored.</p>
<p><strong>Example:</strong> 2 subjects, both assigned to the first arm, data for 6 visits :</p>
<table class="caption-top table">
<colgroup>
<col style="width: 33%">
<col style="width: 33%">
<col style="width: 31%">
</colgroup>
<thead>
<tr class="header">
<th>Dichotomous only</th>
<th>Restricted Markov</th>
<th>Continuous</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>#subj id, Arm ID, Visit ID, Response</p>
<p>1,1,1,0</p>
<p>1,1,2,0</p>
<p>1,1,3,0</p>
<p>1,1,4,1</p>
<p>1,1,5,0</p>
<p>1,1,6,1</p>
<p>2,1,1,1</p>
<p>2,1,2,0</p>
<p>2,1,3,0</p>
<p>2,1,4,0</p>
<p>2,1,5,0</p>
<p>2,1,6,0</p></td>
<td><p>#subj id, Arm ID, Visit ID, Response</p>
<p>1,1,1,-1</p>
<p>1,1,2,-1</p>
<p>1,1,3,-1</p>
<p>1,1,4,-1</p>
<p>1,1,5,-1</p>
<p>1,1,6,-1</p>
<p>2,1,1,-1</p>
<p>2,1,2,0</p>
<p>2,1,3,0</p>
<p>2,1,4,0</p>
<p>2,1,5,0</p>
<p>2,1,6,0</p></td>
<td><p>#subj id, Arm ID, Visit ID, Response</p>
<p>1,1,1,1</p>
<p>1,1,2,0</p>
<p>1,1,3,0</p>
<p>1,1,4,0</p>
<p>1,1,5,1</p>
<p>1,1,6,2</p>
<p>2,1,1,1</p>
<p>2,1,2,0</p>
<p>2,1,3,2</p>
<p>2,1,4,1</p>
<p>2,1,5,1</p>
<p>2,1,6,3</p></td>
</tr>
</tbody>
</table>
<section id="external-directory-of-files" class="level4" data-number="1.2.1.1">
<h4 data-number="1.2.1.1" class="anchored" data-anchor-id="external-directory-of-files"><span class="header-section-number">1.2.1.1</span> External Directory of Files</h4>
<p>By using the ‘Browse for directory’ option, the user can specify a response profile that comprises a directory containing a number of external response files. Like the “scenario means in a file” option, the files in this directory will be used as a single profile, looping through the different files for successive simulations. So individual simulations will use a single external file from the directory, but the summary results for the scenario will be averaged over all the files, the number of simulations being round down to the nearest multiple of the number of external files in the directory. The format of each individual file should be the same as for a single external file, above. Only files with the “.dat” suffix will be read, other files will be ignored.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../coreUGattachments/dichotomous/media/image25.png" style="width:5.54316in;height:4.20906in" class="figure-img"></p>
<figcaption>A screenshot of a social media post Description automatically generated</figcaption>
</figure>
</div>
</section>
</section>
</section>
<section id="response" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="response"><span class="header-section-number">1.3</span> Response</h2>
<table class="caption-top table">
<colgroup>
<col style="width: 15%">
<col style="width: 13%">
<col style="width: 68%">
</colgroup>
<thead>
<tr class="header">
<th>Column Title</th>
<th>Number of columns</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Status</td>
<td>1</td>
<td>This column reports on the current status of simulations: Completed, Running, No Results, Out of date, Error. It is updated automatically.</td>
</tr>
<tr class="even">
<td>Scenario</td>
<td>1</td>
<td><p>This column gives the name of the scenario, concatenating together the profile names from the following tabs:</p>
<p>‘Execution &gt; Accrual’,</p>
<p>‘Execution &gt; Dropout Rate’,</p>
<p>’Virtual Subject Response &gt; Composite,</p>
<p>This is the same name as used for the results directory</p></td>
</tr>
<tr class="odd">
<td>Mean Trt.: &lt;Dose&gt;</td>
<td>One per arm</td>
<td>This is the mean (over the simulations) of the estimate of the response on this dose.</td>
</tr>
<tr class="even">
<td>SD Trt.: &lt;Dose&gt;</td>
<td>One per arm</td>
<td>This is the standard deviation (over the simulations) of the estimate of the response on this dose.</td>
</tr>
<tr class="odd">
<td>True Mean Resp: &lt;Dose&gt;</td>
<td>One per arm</td>
<td>This is the true response rate from which the simulation data was sampled.</td>
</tr>
</tbody>
</table>
</section>
<section id="model-parameters" class="level2" data-number="1.4">
<h2 data-number="1.4" class="anchored" data-anchor-id="model-parameters"><span class="header-section-number">1.4</span> Model Parameters</h2>
<table class="caption-top table">
<colgroup>
<col style="width: 15%">
<col style="width: 13%">
<col style="width: 68%">
</colgroup>
<thead>
<tr class="header">
<th>Column Title</th>
<th>Number of columns</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Scenario</td>
<td>1</td>
<td><p>This column gives the name of the scenario, concatenating together the profile names from the following tabs:</p>
<p>‘Execution &gt; Accrual’,</p>
<p>‘Execution &gt; Dropout Rate’,</p>
<p>’Virtual Subject Response &gt; Composite,</p>
<p>This is the same name as used for the results directory</p></td>
</tr>
<tr class="even">
<td>Mean Longmod Resp: &lt;Dose&gt;<br>
&lt;Visit&gt;</td>
<td>D*V</td>
<td><p>These are only calculated and written out if the ITP longitudinal model is being used.</p>
<p>This is the mean (over the simulations) of the estimate of the mean response for a particular dose at a particular visit.</p></td>
</tr>
<tr class="odd">
<td>SE Mean Longmod Resp: &lt;Dose&gt;<br>
&lt;Visit&gt;</td>
<td>D*V</td>
<td>This is the standard error (over the simulations) of the longitudinal model estimate of the response at intermediate visits (see above)</td>
</tr>
<tr class="even">
<td>BAC Mean</td>
<td>1</td>
<td>This is the mean (over the simulations) of the posterior estimate of the mean of the Bayesian Augmented Control (Hierarchical Prior) distribution of mean control responses.</td>
</tr>
<tr class="odd">
<td>SD BAC Mean</td>
<td>1</td>
<td>This is the SD (over the simulations) of the posterior estimate of the mean of the Bayesian Augmented Control (Hierarchical Prior) distribution of mean control responses.</td>
</tr>
<tr class="even">
<td>BAC Tau</td>
<td>1</td>
<td>This is the mean (over the simulations) of the posterior estimate of the SD of the Bayesian Augmented Control (Hierarchical Prior) distribution of mean control responses.</td>
</tr>
<tr class="odd">
<td>SD BAC tau</td>
<td>1</td>
<td>This is the SD (over the simulations) of the posterior estimate of the SD of the Bayesian Augmented Control (Hierarchical Prior) distribution of mean control responses.</td>
</tr>
<tr class="even">
<td>BAAC Mean</td>
<td>1</td>
<td>This is the mean (over the simulations) of the posterior estimate of the mean of the Bayesian Augmented Active Comparator (Hierarchical Prior) distribution of mean active comparator responses.</td>
</tr>
<tr class="odd">
<td>SD BAAC Mean</td>
<td>1</td>
<td>This is the SD (over the simulations) of the posterior estimate of the mean of the Bayesian Augmented Active Comparator (Hierarchical Prior) distribution of mean control responses.</td>
</tr>
<tr class="even">
<td>BAAC Tau</td>
<td>1</td>
<td>This is the mean (over the simulations) of the posterior estimate of the SD of the Bayesian Augmented Active Comparator (Hierarchical Prior) distribution of mean active comparator responses.</td>
</tr>
<tr class="odd">
<td>SD BAAC tau</td>
<td>1</td>
<td>This is the SD (over the simulations) of the posterior estimate of the SD of the Bayesian Augmented Active Comparator (Hierarchical Prior) distribution of mean active comparator responses.</td>
</tr>
</tbody>
</table>
</section>
<section id="entering-the-data-directly" class="level2" data-number="1.5">
<h2 data-number="1.5" class="anchored" data-anchor-id="entering-the-data-directly"><span class="header-section-number">1.5</span> Entering the data directly</h2>
<p>For a typical FACTS Core trial, there are normally too many subjects to want to enter the data directly, but it is possible. Also if data is first loaded from an external file, it is presented in the same grid as that used for data entry and additional data can be added or existing data modified.</p>
<p>The data format is the same as the ‘patientsNNNN.csv’ output file from simulations, so it is easy to use these as the basis for a trial analysis.</p>
<ul>
<li><p>The first column is the Subject ID. FACTS does not use this value, it is there to allow the data to be cross-referenced to an external data source. If not required there is no harm simply entering ‘1’ on each row.</p></li>
<li><p>Region ID is a value output from FACTS simulation, reflecting the recruiting region the simulated subject was recruited in. It is not used in analysis, if a region ID is not available there is no harm simply entering ‘1’ for each subject.</p></li>
<li><p>Date is a real number indicating when the subject was recruited in weeks[^5] from the start of the trial. It is output from FACTS simulation, it is not used in analysis. If a date is not available there is no harm simply entering ‘1’ for each subject.</p></li>
<li><p>Dose index indicates which arm the subject was randomized to. The index of each arm is visible on the Study &gt; Treatment Arms tab. Index ‘1’ is the Control arm if a Control is present.</p></li>
<li><p>Last Visit# is the index of last visit for which there is data for the subject. Previously FACTS could not process data with data missing from visits before the last visit. From FACTS 6.2 this is now possible. Visits for which no data is available should be given the value “-9999”. Data supplied for a subject’s visits after ‘Last Visit#’ is ignored.</p></li>
<li><p>Dropout, is a flag, value ‘0’ (not dropped out) or ‘1’ (dropped out). For s subject that has dropped out, FACTS will apply the defined value for the subject from the ‘Last Visit#’.</p></li>
<li><p>Baseline, this should be the subjects baseline score in Dichotomous, baseline is ignored it must always be 0.</p></li>
<li><p>Visit1-… these are the subjects response values at the defined visits (on the Study tab), up to and including the final visit. For a dichotomous endpoint, these values are either 0 (no response) or 1 (response).</p></li>
</ul>
<p><img src="../coreUGattachments/dichotomous/media/image78.png" style="width:5.02187in;height:3.81323in"></p>
<p>If data is entered and then ‘Run Analysis’ clicked, the data is saved to a file called ‘patients.dat’ and the analysis results saved to a folder called ‘Analysis’ within the “_results” folder of the design.</p>
<p><img src="../coreUGattachments/dichotomous/media/image79.png" style="width:5.01184in;height:2.41545in"></p>
<p>The ‘Save As’ button can be used to save the file with a different name, but it will still be saved within the _Results folder.</p>
<p>A specific results folder is also created, called ‘Analysis_&lt;file name&gt;’.</p>
</section>
<section id="loading-data-from-a-file" class="level2" data-number="1.6">
<h2 data-number="1.6" class="anchored" data-anchor-id="loading-data-from-a-file"><span class="header-section-number">1.6</span> Loading Data From a File</h2>
<p>As well as entering the data via FACTS its possible to load the data from a ‘subject.csv’ file. These can be created within FACTS or outside of FACTS and once created can be edited FACTS or outside of FACTS.</p>
<p>We have tried to make it particularly easy to enter, modify and analyze data in N-CRM because this is a useful way to explore the properties of the design in addition to simulation.</p>
<section id="the-subject.csv-file-format" class="level3" data-number="1.6.1">
<h3 data-number="1.6.1" class="anchored" data-anchor-id="the-subject.csv-file-format"><span class="header-section-number">1.6.1</span> The subject.csv file format</h3>
<p>The file is a simple ascii file with the different data items separated by commas. Any line starting with ‘#’’ is ignored, here we use that to include a header row. The data may also include spaces to aid readability (but <strong>not</strong>, currently, tabs). Each line defines the dose given to a single subject and that subject’s response.</p>
<p>The format of the file is the same as the ‘patientsNNNN.csv’ output file, (Section 18.5 below) and the column values described above.</p>
</section>
<section id="converting-arrival-date-value-from-days-to-weeks" class="level3" data-number="1.6.2">
<h3 data-number="1.6.2" class="anchored" data-anchor-id="converting-arrival-date-value-from-days-to-weeks"><span class="header-section-number">1.6.2</span> Converting arrival date value from days to weeks</h3>
<p>From FACTS 7.0 the value in the Date field is interpreted as being in weeks (rather than days as in previous versions). If you have existing data, a simple conversion tool is provided “Convert Date from Days to Weeks” that simply divides all the Date values by 7. Having run it, you then need to save the modified data. The values of the Date field will only make a difference to TTE analyses.</p>
<p><img src="../coreUGattachments/dichotomous/media/image80.png" style="width:5.01411in;height:3.80734in" alt="Graphical user interface, application Description automatically generated"> <img src="../coreUGattachments/dichotomous/media/image81.png" style="width:0.46626in;height:2.04035in" alt="Table Description automatically generated with medium confidence"></p>
</section>
</section>
<section id="data-file-management-on-the-analysis-tab" class="level2" data-number="1.7">
<h2 data-number="1.7" class="anchored" data-anchor-id="data-file-management-on-the-analysis-tab"><span class="header-section-number">1.7</span> Data file management on the Analysis tab</h2>
<p>From FACTS 6.2 onwards FACTS now supports multiple subject data files and analysis folders.</p>
<p>Buttons that allow the subject data file to be changed:</p>
<ul>
<li><p>’Select File to Create New Analysis: launches a file browser that allows the user to select a new “.csv” file from any location. The selected file is copied to the “_Results” folder (retaining its current name) and made the current subject data file.</p></li>
<li><p>‘Rename Current Analysis’ allows the name of the current subject data file to be changed.</p></li>
<li><p>‘Select Difference Analysis’ allows a different subject data file that is in the “_Results” folder to be made the current subject data file.</p></li>
<li><p>‘Delete Analysis’ allows any of the subject data files that are in the “_Results” folder to be deleted.</p></li>
</ul>
<p>The name of the current subject data file and the name of the corresponding analysis folder are shown below the subject data file buttons.</p>
<p>There are five buttons that allow the currently loaded subject data file to be modified:</p>
<ul>
<li><p>‘Delete Row’ deletes the currently selected row in the data grid. The data in the current subject file is not updated unless the current data is saved.</p></li>
<li><p>‘Delete All’ clears all the data in the data grid. The data in the current subject file is not updated unless the current data is saved.</p></li>
<li><p>‘Reload data’ replaces the data in the data grid with the data that is still in the current subject data file.</p></li>
<li><p>‘Save As’ saves the current data in the data grid to a new subject data file in the “_Results” folder, and makes that the current subject data file.</p></li>
<li><p>“Save” saves the current data in the data grid to the current subject data file.</p></li>
</ul>
<p>Running an analysis performs a ‘Save’ before running the analysis.</p>
</section>
<section id="running-an-analysis" class="level2" data-number="1.8">
<h2 data-number="1.8" class="anchored" data-anchor-id="running-an-analysis"><span class="header-section-number">1.8</span> Running an Analysis</h2>
<p>Once data has been loaded or entered, the user can click the ‘Run Analysis’ button.</p>
<p>Once the analysis has run, FACTS displays the recommendation, and a graph showing the data.</p>
<p><img src="../coreUGattachments/dichotomous/media/image82.png" style="width:5.03217in;height:3.82106in"></p>
</section>
<section id="analysis-options" class="level2" data-number="1.9">
<h2 data-number="1.9" class="anchored" data-anchor-id="analysis-options"><span class="header-section-number">1.9</span> Analysis Options</h2>
<p>At the top of the analysis tab there are various parameters that can be set to control the analysis performed:</p>
<p><img src="../coreUGattachments/dichotomous/media/image83.png" style="width:6.94427in;height:2.0564in"></p>
<ul>
<li><p>The MCMC parameters</p>
<ul>
<li><p>“Burn-in” for the number of initial samples that are discarded</p></li>
<li><p>“Length” for the number of samples drawn to form the posterior distributions</p></li>
<li><p>Random number seed that can be set to generate a different sampling sequence</p></li>
<li><p>Whether an MCMC file is to be output (which enables the ability to view sample history graphs for the model parameters).</p></li>
<li><p>Edit command line parameters allows expert users to enter command line parameters to be passed to the design engine that are not settable through this panel.</p></li>
<li><p>It is possible to flag which, if any, doses have already been dropped and hence to be excluded from future adaptation decisions, but included in the analysis (this can be used even if the design is not an arm dropping design – to allow for an arm being dropped for reasons outside the scope of the simulation, such as logistical or safety reasons.</p></li>
<li><p>The user specifies which interim the analysis is for and hence which decision criteria to be applied</p>
<ul>
<li><p>The user supplied the interim analysis number or</p></li>
<li><p>Selects “Do Final Analysis” which causes the analysis to use the final evaluation success/futility criteria.</p></li>
</ul></li>
<li><p>The user specifies the current week of the trial if the amount if information defined by “opportunity to complete” is required.</p></li>
<li><p>If this is an arm dropping design, it is possible to flag which, if any, doses have already been dropped and hence to be excluded from future adaptation decisions, but included in the analysis [this can be used even if the design is not an arm dropping design – to allow for an arm being dropped for reasons outside the scope of the simulation, such as logistical or safety reasons but only be entering the ‘-armsdropped’ command line parameter the control is only displayed if the design includes arm dropping].</p></li>
</ul></li>
</ul>
</section>
</section>
<section id="detailed-simulation-results" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Detailed Simulation Results</h1>
<p>After simulation has completed and simulation results have been loaded, the user may examine detailed results for any scenario with simulation data in the table by double-clicking on the row. A separate window (as in Figure 15‑1) displays the individual results for each simulation. This is the contents of the “simulations.csv” file, which is described below. . The simulations results are partitioned into the same various results groupings as the summary results. These can be accessed from the “right click” menu, along with opening the results folder, opening the weeks file for a particular simulation and opening the simulated patients file for a particular simulation (where a “weeks” file or a “patients” file has been output).</p>
<p><img src="../coreUGattachments/dichotomous/media/image84.png" style="width:5.36792in;height:2.75565in"></p>
</section>
<section id="output-files" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Output Files</h1>
<p>FACTS stores the results of simulations as ‘.csv’ files under a Results folder. For each row in the simulations table, there is a folder named by the profiles that make up the scenario, which contains the corresponding ‘.csv’ files.</p>
<p><img src="../coreUGattachments/dichotomous/media/image85.png" style="width:5.28057in;height:2.67357in"></p>
<p>These files can be opened using Microsoft Excel, but versions of Excel before 2007 are restricted to 256 columns, which is too few to view some files in their entirety. The ‘Calc’ application in ‘OpenOffice’ will show all the columns (and will open two files that have the same name at the same time!). Because Excel takes out a file lock on any file it has open, while a file is open in Excel it cannot be deleted or modified by another application. The most common cause for an error to be reported when simulating trials in FACTS is because the user has one of the previous results files is still open in Excel.</p>
<p>In the scenario directory there are the following types of results file:</p>
<p><strong>Summary.csv</strong> Contains a single row of data that summarizes the simulation results. This is the source of the shown on the simulations tab.</p>
<p><strong>Summary_freq_locf.csv</strong></p>
<p><strong>Summary_freq_fail.csv</strong></p>
<p><strong>Summary_freq_ignore.csv</strong> Contains a single row of data that that summarizes the frequentist analysis of the simulations. A file is output for each of the different methods for dealing with missing data that are applicable: “fail”, LOCF and “ignore” (referred to as PP (Per-Protocol) in the GUI).</p>
<p><strong>Simulations.csv</strong> Contains one row per simulation describing the final state of each simulation for every trial simulated.</p>
<p><strong>Simulations_freq.csv</strong> Contains one row per simulation describing the frequentist analysis of the final state of each simulation for every trial simulated.</p>
<p><strong>PatientsNNNNN.csv</strong> Contains one row per patient in a simulation, where NNNNN is the number of the simulation. By default this file is written out only for the first simulation, but this can be changed via the simulations tab.</p>
<p><strong>WeeksNNNNN.csv</strong> contains one row for each cohort during a simulation where NNN is the number of the simulation. By default this file is written only for the first 100 simulations, but this can be changed on the simulation tab. The values in the last row of the cohorts file will be the same as the final values for that simulation in the simulations file.</p>
<section id="contents-of-summary.csv" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="contents-of-summary.csv"><span class="header-section-number">3.1</span> Contents of summary.csv</h2>
<p>The first line is a header line, starting with a ‘#’, containing the column headings.</p>
<table class="caption-top table">
<caption>Figure 6‑6 The Variants tab, specifying 5 variants</caption>
<colgroup>
<col style="width: 15%">
<col style="width: 13%">
<col style="width: 68%">
</colgroup>
<thead>
<tr class="header">
<th>Column Title</th>
<th>Number of columns</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Project</td>
<td>1</td>
<td>The name of the facts file</td>
</tr>
<tr class="even">
<td>Scenario</td>
<td>1</td>
<td>The name of the scenario</td>
</tr>
<tr class="odd">
<td>T imestamp</td>
<td>1</td>
<td>The time the simulations were run</td>
</tr>
<tr class="even">
<td>Version</td>
<td>1</td>
<td>The version of FACTC that was used to run the simulations</td>
</tr>
<tr class="odd">
<td>NSim</td>
<td>1</td>
<td>The number of simulation run.</td>
</tr>
<tr class="even">
<td>No.&nbsp;Subj</td>
<td>1</td>
<td>The mean, over the simulations, of the total number of subjects recruited in the trial.</td>
</tr>
<tr class="odd">
<td>SE Subj.</td>
<td>1</td>
<td>The standard error of the total number of subjects recruited into the trials.</td>
</tr>
<tr class="even">
<td>No.Subj 80%ile</td>
<td>1</td>
<td>The 80<sup>th</sup> percentile, over the simulations, of the total number of subjects recruited in the trial.</td>
</tr>
<tr class="odd">
<td>P(ES)</td>
<td><blockquote class="blockquote">
<p>1</p>
</blockquote></td>
<td>The proportion of simulations that stopped early for success.</td>
</tr>
<tr class="even">
<td>P(LS)</td>
<td>1</td>
<td>The proportion of simulations that did not stop early, and were successful on final evaluation.</td>
</tr>
<tr class="odd">
<td>P(LF)</td>
<td>1</td>
<td>The proportion of simulations that did not stop early, and were futile on final evaluation.</td>
</tr>
<tr class="even">
<td>P(EF)</td>
<td>1</td>
<td>The proportion of simulations that stopped early for futility.</td>
</tr>
<tr class="odd">
<td>SFFF</td>
<td>1</td>
<td>The proportion of simulations that stopped early for success, but at final analysis were futile (Success-Futility ‘flip-flops’).</td>
</tr>
<tr class="even">
<td>FSFF</td>
<td>1</td>
<td>The proportion of simulations that stopped early for futility, but at final analysis were successful (Futility- Success ‘flip-flops’).</td>
</tr>
<tr class="odd">
<td>Undec.</td>
<td>1</td>
<td>The proportion of simulations that did not stop early, and met neither the success or futility final evaluation criteria and hence are counted as ‘undecided’.</td>
</tr>
<tr class="even">
<td>Unused</td>
<td>3</td>
<td>Three unused columns for other outcome types.</td>
</tr>
<tr class="odd">
<td>Early Success Time</td>
<td>1</td>
<td>This is the mean early decision time (over the simulations stopped early for success), it is the time from the start of the trial to the interim where early success was declared. It does not include the subsequent follow up time.</td>
</tr>
<tr class="even">
<td>Mean Alloc &lt;dose&gt;</td>
<td>D</td>
<td>The mean (over the simulations) of the number of subjects allocated to each treatment arm.</td>
</tr>
<tr class="odd">
<td>SE Alloc &lt;dose&gt;</td>
<td>D</td>
<td>The standard error (over the simulations) of the number of subjects allocated to each treatment arm.</td>
</tr>
<tr class="even">
<td>Mean Resp &lt;dose&gt;</td>
<td>D</td>
<td>The mean of the estimates of response of each treatment arm.</td>
</tr>
<tr class="odd">
<td>SE Resp &lt;dose&gt;</td>
<td>D</td>
<td>The standard error, over the simulations, of the estimate of response of each treatment arm.</td>
</tr>
<tr class="even">
<td>True Mean resp &lt;dose&gt;</td>
<td>D</td>
<td>The true response for each treatment arm used when sampling the simulated subject responses.</td>
</tr>
<tr class="odd">
<td>Mean Longmod Resp: &lt;Dose&gt;<br>
&lt;Visit&gt;</td>
<td>D*V</td>
<td><p>These are only calculated and written out if the ITP longitudinal model is being used.</p>
<p>This is the mean (over the simulations) of the estimate of the mean response for a particular dose at a particular visit.</p></td>
</tr>
<tr class="even">
<td>SE Mean Longmod Resp: &lt;Dose&gt;<br>
&lt;Visit&gt;</td>
<td>D*V</td>
<td>This is the standard error (over the simulations) of the longitudinal model estimate of the response at intermediate visits (see above)</td>
</tr>
<tr class="odd">
<td>No. Dropouts &lt;Dose&gt;<br>
&lt;Visit&gt;</td>
<td>D*V</td>
<td>These are the mean (over the simulations) number of subjects that have dropped out on this dose at this visit.</td>
</tr>
<tr class="even">
<td>BAC Mean</td>
<td>1</td>
<td>If a hierarchical prior for Control is being used this is the mean (over the simulations) of the posterior estimate of the mean of the Bayesian Augmented Control (Hierarchical Prior) distribution of mean control responses.</td>
</tr>
<tr class="odd">
<td>SE of BAC Mean</td>
<td>1</td>
<td>If a hierarchical prior for Control is being used this is the standard error (over the simulations) of the posterior estimate of the mean of the Bayesian Augmented Control (Hierarchical Prior) distribution of mean control responses.</td>
</tr>
<tr class="even">
<td>BAC Tau</td>
<td>1</td>
<td>If a hierarchical prior for Control is being used this is the mean (over the simulations) of the posterior estimate of the SD of the Bayesian Augmented Control (Hierarchical Prior) distribution of mean control responses.</td>
</tr>
<tr class="odd">
<td>SE of BAC Tau</td>
<td>1</td>
<td>If a hierarchical prior for Control is being used this is the standard error (over the simulations) of the posterior estimate of the SD of the Bayesian Augmented Control (Hierarchical Prior) distribution of mean control responses.</td>
</tr>
<tr class="even">
<td>BAAC Mean</td>
<td>1</td>
<td>If a hierarchical prior for Active Comparator is being used this is the mean (over the simulations) of the posterior estimate of the mean of the Bayesian Augmented Active Comparator (Hierarchical Prior) distribution of mean active comparator responses.</td>
</tr>
<tr class="odd">
<td>SE of BAAC Mean</td>
<td>1</td>
<td>If a hierarchical prior for Active Comparator is being used this is the standard error (over the simulations) of the posterior estimate of the mean of the Bayesian Augmented Active Comparator (Hierarchical Prior) distribution of mean control responses.</td>
</tr>
<tr class="even">
<td>BAAC Tau</td>
<td>1</td>
<td>If a hierarchical prior for Active Comparator is being used this is the mean (over the simulations) of the posterior estimate of the SD of the Bayesian Augmented Active Comparator (Hierarchical Prior) distribution of mean active comparator responses.</td>
</tr>
<tr class="odd">
<td>SE of BAAC Tau</td>
<td>1</td>
<td>If a hierarchical prior for Active Comparator is being used this is the standard error (over the simulations) of the posterior estimate of the SD of the Bayesian Augmented Active Comparator (Hierarchical Prior) distribution of mean active comparator responses.</td>
</tr>
<tr class="even">
<td>Mean Duration</td>
<td>1</td>
<td>The mean, over the simulations, of the overall duration of the trials, from first person first visit, to last person last visit.</td>
</tr>
<tr class="odd">
<td>Ppn Arms Dropped &lt;dose&gt;</td>
<td>D</td>
<td>The proportion of the simulations in which each arm was dropped. These will be zero if arm dropping is not selected as the means of adaptive allocation.</td>
</tr>
<tr class="even">
<td>Mean LPFV time</td>
<td>1</td>
<td>The mean, over the simulations, of the accrual period of the trials, from first person first visit, to last person first visit (LPFV).</td>
</tr>
<tr class="odd">
<td>QOI Columns</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<section id="qoi-columns" class="level3" data-number="3.1.1">
<h3 data-number="3.1.1" class="anchored" data-anchor-id="qoi-columns"><span class="header-section-number">3.1.1</span> QOI Columns</h3>
<p>The QOI columns depend on the QOIs that have been defined for this design. The columns in the following order:</p>
<p>Posterior Probabilities The summary file contains the mean (over the simulations) of the posterior probability for each dose.</p>
<p>Predictive Probabilities The summary file contains the mean (over the simulations) of the predictive probability for each dose.</p>
<p>P-Values The summary file contains the mean (over the simulations) of the p-value for each dose.</p>
<p>Target Probabilities The summary file contains the proportion of times (over the simulations) each dose had the greatest probability of being the target.</p>
<p>Decision QOIs The summary file contains the mean (over the simulations) of the final value of the decision QOI at the target.</p>
</section>
</section>
<section id="contents-of-summary_freq_missing.csv" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="contents-of-summary_freq_missing.csv"><span class="header-section-number">3.2</span> Contents of Summary_freq_&lt;missing&gt;.csv</h2>
<p>There is a frequentist summary file for each type of treatment of missing values.</p>
<p>The first line is a header line, starting with a ‘#’, and containing</p>
<ul>
<li><p>The FACTS GUI version number</p></li>
<li><p>The name of the FACTS file</p></li>
<li><p>The name of the scenario</p></li>
<li><p>The time stamp of the start of the simulation</p></li>
</ul>
<p>The second line is a header line, starting with a ‘#’, containing the column headings.</p>
<table class="caption-top table">
<caption>Figure 7‑1: Explicitly Defined Dose Response – Dichotomous</caption>
<colgroup>
<col style="width: 15%">
<col style="width: 13%">
<col style="width: 68%">
</colgroup>
<thead>
<tr class="header">
<th>Column Title</th>
<th>Number of columns</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Mean Theta &lt;dose&gt;</td>
<td>D</td>
<td>The mean response per dose.</td>
</tr>
<tr class="even">
<td>SE Theta &lt;dose&gt;</td>
<td>D</td>
<td>The standard error of the response per dose</td>
</tr>
<tr class="odd">
<td>Ppn Signif</td>
<td>1</td>
<td>The proportion of simulations where at least one of the unadjusted p-values is less than the user specified one-sided alpha.</td>
</tr>
<tr class="even">
<td>Ppn Signif &lt;dose&gt;</td>
<td>D</td>
<td><p>For each treatment arm, the proportion of simulations where the unadjusted p-value is less than the user specified one-sided alpha.</p>
<p>The marginal probability of significance per dose (using unadjusted p-values.</p></td>
</tr>
<tr class="odd">
<td>Bias &lt;dose&gt;</td>
<td>D</td>
<td>The difference between the mean response and the true (simulated) response per dose</td>
</tr>
<tr class="even">
<td>Coverage &lt;dose&gt;</td>
<td>D</td>
<td>The proportion of simulations where the unadjusted confidence interval for the response contains the true response rate used to simulate subject responses.</td>
</tr>
<tr class="odd">
<td>Ppn Signif Dunnett</td>
<td>1</td>
<td>The proportion of simulations where at least one of the Dunnett adjusted p-values is less than the user specified one-sided alpha.</td>
</tr>
<tr class="even">
<td>Ppn Signif Dunnett &lt;dose&gt;</td>
<td>D</td>
<td>For each treatment arm, the proportion of simulations where the Dunnett adjusted p-value is less than the user specified one-sided alpha.</td>
</tr>
<tr class="odd">
<td>Coverage Dunnett &lt;dose&gt;</td>
<td>D</td>
<td>The proportion of simulations where the Dunnett adjusted confidence interval contains the true response rate used to simulate subjects responses.</td>
</tr>
<tr class="even">
<td>Ppn Signif Bonf</td>
<td>1</td>
<td>The proportion of simulations where at least one of the Bonferroni adjusted p-values is less than the user specified one-sided alpha.</td>
</tr>
<tr class="odd">
<td>Ppn Signif Bonf &lt;dose&gt;</td>
<td>D</td>
<td>For each treatment arm, the proportion of simulations where the Bonferroni adjusted p-value is less than the user specified one-sided alpha.</td>
</tr>
<tr class="even">
<td>Coverage Bonf &lt;dose&gt;</td>
<td>D</td>
<td>The proportion of simulations where the Bonferroni adjusted confidence interval contains the true response rate used to simulate subjects responses.</td>
</tr>
<tr class="odd">
<td>Ppn Signif Trend</td>
<td>1</td>
<td>The proportion of simulations where the trend test p-value is less than the user specified one-sided alpha.</td>
</tr>
</tbody>
</table>
</section>
<section id="contents-of-simulations.csv-and-weeksnnnnn.csv" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="contents-of-simulations.csv-and-weeksnnnnn.csv"><span class="header-section-number">3.3</span> Contents of simulations.csv and weeksNNNNN.csv</h2>
<p>The simulations.csv file holds the FACTS summary of the final analysis for each simulation (one per row).</p>
<p>The weeksNNNNN.csv file holds the FACTS summary of every analysis for the NNNNN<sup>th</sup> simulation. It contains a row for each interim in the trial and a roe for the final analysis (Interim number 999). The final analysis occurs after all the planned data is collected.</p>
<ul>
<li><p>If the trial does not stop early this will be after all full follow-up for all subjects,</p></li>
<li><p>if the trial does stop early this will be either</p></li>
</ul>
<!-- -->
<ul>
<li><p>an analysis after full follow-up of the subjects recruited up to the point of the interim when the stopping decision was taken (If the “continue follow-up” option has been selected by the user on the Interims tab)</p></li>
<li><p>or it will perform a repeat the analysis using the data available at the interim when the stopping decision was taken – the results will vary from those of the interim within MCMC sampling error. (This “unnecessary” analysis is included to keep the content of the weeks files consistent and hence simplify the post processing of “weeks” files).</p></li>
</ul>
<p>The first line is a header line, starting with a ‘#’, and containing</p>
<ul>
<li><p>The FACTS GUI version number</p></li>
<li><p>The name of the FACTS file</p></li>
<li><p>The name of the scenario</p></li>
<li><p>The time stamp of the start of the simulation</p></li>
</ul>
<p>The second line is a header line, starting with a ‘#’, containing the column headings.</p>
<p>Most of the columns are common to the two file types, but the weeks file does not contain columns for the ‘final’ values of the evaluation criteria.</p>
<table class="caption-top table">
<caption>Figure 7‑2 Dose Response – Loading scenario rates in an external file</caption>
<colgroup>
<col style="width: 19%">
<col style="width: 9%">
<col style="width: 11%">
<col style="width: 6%">
<col style="width: 48%">
</colgroup>
<thead>
<tr class="header">
<th>Column Title</th>
<th>Nu mber of col umns</th>
<th>In s imula tions file</th>
<th>In w ee ks fi le</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td># Weeks (Duration)</td>
<td>1</td>
<td></td>
<td>✔</td>
<td>The week of the analysis</td>
</tr>
<tr class="even">
<td>#Sim</td>
<td>1</td>
<td>✔</td>
<td></td>
<td>The number of the simulation.</td>
</tr>
<tr class="odd">
<td>LastInterim</td>
<td>1</td>
<td>✔</td>
<td></td>
<td>The index of the last interim performed the index of the interim immediately before the final interim (index ‘999’). Note this is not necessarily the interim when the trial stopped if the design includes follow-up after stopping.</td>
</tr>
<tr class="even">
<td>#Subjects</td>
<td>1</td>
<td>✔</td>
<td>✔</td>
<td>The number of subjects recruited in the simulation.</td>
</tr>
<tr class="odd">
<td>Outcome</td>
<td>1</td>
<td>✔</td>
<td>✔</td>
<td><p>A flag categorizing final study outcome:</p>
<ol type="1">
<li><p>= Early success</p></li>
<li><p>= Late success</p></li>
<li><p>= Late futility</p></li>
<li><p>= Early futility</p></li>
<li><p>= Success to futility flip-flop</p></li>
<li><p>= Futility to success flip-flop</p></li>
<li><p>= Inconclusive</p></li>
</ol></td>
</tr>
<tr class="even">
<td>Early Success Time</td>
<td>1</td>
<td>✔</td>
<td>✔</td>
<td>This is the time to the early success decision (-9999 if there was no early success decision). The from the start of the trial to the interim where the early success conditions were first met. It does not include the subsequent follow up time.</td>
</tr>
<tr class="odd">
<td>Alloc &lt;dose&gt;</td>
<td>D</td>
<td>✔</td>
<td>✔</td>
<td>The number of subjects allocated to each arm.</td>
</tr>
<tr class="even">
<td>Pr(Alloc) &lt;dose&gt;</td>
<td>D</td>
<td>✔</td>
<td>✔</td>
<td>The probability of allocation to the different arms following the interim.</td>
</tr>
<tr class="odd">
<td>Mean resp &lt;dose&gt;</td>
<td>D</td>
<td>✔</td>
<td>✔</td>
<td>The estimated response of each treatment arm.</td>
</tr>
<tr class="even">
<td>SD resp &lt;dose&gt;</td>
<td>D</td>
<td>✔</td>
<td>✔</td>
<td>The standard deviation of the estimate of response of each treatment arm.</td>
</tr>
<tr class="odd">
<td>Mean resp (lower CI) &lt;dose&gt;</td>
<td>D</td>
<td>✔</td>
<td>✔</td>
<td>The lower bound of the 95% Credible Interval of the estimate of response for each treatment arm.</td>
</tr>
<tr class="even">
<td>Mean resp (upper CI) &lt;dose&gt;</td>
<td>D</td>
<td>✔</td>
<td>✔</td>
<td>The upper bound of the 95% Credible Interval of the estimate of response for each treatment arm.</td>
</tr>
<tr class="odd">
<td>True Mean resp &lt;dose&gt;</td>
<td>D</td>
<td>✔</td>
<td>✔</td>
<td>The true mean response of each treatment arm for this simulation.</td>
</tr>
<tr class="even">
<td>Mean Raw Response &lt;dose&gt;</td>
<td>D</td>
<td>✔</td>
<td>✔</td>
<td>The observed rate of response on each treatment arm (unadjusted by any modeling).</td>
</tr>
<tr class="odd">
<td>Complete &lt;dose&gt;</td>
<td>D</td>
<td>✔</td>
<td>✔</td>
<td>The number of completed subjects on each treatment arm at the time of the analysis.</td>
</tr>
<tr class="even">
<td>Complete Information &lt;dose&gt;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>#Dropouts &lt;dose&gt; &lt;visit&gt;</td>
<td>D * V</td>
<td>✔</td>
<td>✔</td>
<td>The number of subjects dropped out on each treatment arm and each visit.</td>
</tr>
<tr class="even">
<td>DR Param &lt;param&gt;</td>
<td>4</td>
<td>✔</td>
<td>✔</td>
<td>The estimate of the mean value of each of the response model parameters. The response models require up to 4 parameters, some less. The model parameters are labeled α<sub>1</sub>, α<sub>2</sub>, .. the subscripts corresponding to the column their value appears in here.</td>
</tr>
<tr class="odd">
<td>Sd DR Param &lt;param&gt;</td>
<td>4</td>
<td>✔</td>
<td>✔</td>
<td>The standard deviation of the estimate of the mean value of the corresponding response model parameter.</td>
</tr>
<tr class="even">
<td>Longmod_ &lt;model&gt; &lt; parameter&gt; &lt;visit&gt;</td>
<td>LM * LMP * V</td>
<td>✔</td>
<td>✔</td>
<td><p>The estimate of the mean value of each of the longitudinal model parameters. The number of models depends on the number of “model instances” the user has specified. Each value is reported per visit unless otherwise stated.</p>
<p>For Beta-Binomial the parameters reported are:</p>
<ul>
<li><p>Alpha0 &amp; Beta 0 – The beta binomial alpha &amp; beta parameters for the probability that the final result will be 1 if the result at the visit is 0</p></li>
<li><p>Prob01 – the mean probability of the Beta(Alpha0, Beta0) – the probability of 1 being the final result if the result at the visit is 0</p></li>
<li><p>Alpha1 &amp; Beta 1 – The beta binomial alpha &amp; beta parameters for the probability that the final result will be 1 if the result at the visit is 1</p></li>
<li><p>Prob11 – the mean probability of the Beta(Alpha1, Beta1) – the probability of 1 being the final result if the result at the visit is 1</p></li>
</ul>
<p>For logistic regression the parameters reported are:</p>
<ul>
<li><p>Prob11 – the probability of 1 being the final result if the result at the visit is 1and</p></li>
<li><p>Prob01 – the probability of 1 being the final result if the result at the visit is 0</p></li>
</ul>
<p>For restricted Markov the parameters reported are:</p>
<ul>
<li><p>Alpha0 – Alpha for state 0</p></li>
<li><p>AlphaS – Alpha for stable state</p></li>
<li><p>Alpha1 – Alpha for state 1</p></li>
<li><p>Prob0 – Transition probability to state 0</p></li>
<li><p>ProbS – Probability of remaining stable</p></li>
<li><p>Prob1 – Transition probability to state 1</p></li>
</ul>
<p>(values are for the transition to the next visit, so thre are no values for the final visit)</p>
<p>If using a dichotomized continuous response, these columns will be for the selected continuous longitudinal model:</p>
<p>For linear regression the parameters reported are:</p>
<ul>
<li><p>Alpha – the mean estimate of the constant offset in the change in response from this visit to the final visit</p></li>
<li><p>Beta – the mean estimate of the coefficient of change in response from this visit to the final visit</p></li>
<li><p>Lambda – the mean estimate of the SD of the residual error term in the predicted final visit response based on the response at this visit.</p></li>
</ul>
<p>For ITP the parameters are:</p>
<ul>
<li><p>K – single value per model – the mean estimate of the ITP shape parameter</p></li>
<li><p>Tau – single value per model - the mean estimate of the SD of the per subject random effect</p></li>
<li><p>Lambda – single value per model – the mean estimate of the Sd of the residual error.</p></li>
<li><p>Omega – per treatment arm not visit – the mean estimate of the mean treatment arm effect.</p></li>
</ul>
<p>For LOCF &amp; Kernel Density there are no estimated parameters.</p></td>
</tr>
<tr class="odd">
<td>Longmod Resp: &lt;Dose&gt; &lt;Visit&gt;</td>
<td>D * V</td>
<td>✔</td>
<td>✔</td>
<td><p>These are only calculated and written out if the ITP longitudinal model is being used for a dichotomized continuous endpoint.</p>
<p>This is the mean response for a particular dose at a particular visit.</p></td>
</tr>
<tr class="even">
<td>BAC Mean</td>
<td>1</td>
<td>✔</td>
<td>✔</td>
<td>This is the posterior estimate of the mean of the Bayesian Augmented Control (Hierarchical Prior) distribution of mean control responses.</td>
</tr>
<tr class="odd">
<td>BAC Mean SD</td>
<td>1</td>
<td>✔</td>
<td>✔</td>
<td>This is the SD of the posterior estimate of the mean of the Bayesian Augmented Control (Hierarchical Prior) distribution of mean control responses.</td>
</tr>
<tr class="even">
<td>BAC Tau</td>
<td>1</td>
<td>✔</td>
<td>✔</td>
<td>This is the posterior estimate of the SD of the Bayesian Augmented Control (Hierarchical Prior) distribution of mean control responses.</td>
</tr>
<tr class="odd">
<td>BAC Tau SD</td>
<td>1</td>
<td>✔</td>
<td>✔</td>
<td>This is the SD of the posterior estimate of the SD of the Bayesian Augmented Control (Hierarchical Prior) distribution of mean control responses.</td>
</tr>
<tr class="even">
<td>BAAC Mean</td>
<td>1</td>
<td>✔</td>
<td>✔</td>
<td>This is the posterior estimate of the mean of the Bayesian Augmented Active Comparator (Hierarchical Prior) distribution of mean active comparator responses.</td>
</tr>
<tr class="odd">
<td>BAAC Mean SD</td>
<td>1</td>
<td>✔</td>
<td>✔</td>
<td>This is the SD of the posterior estimate of the mean of the Bayesian Augmented Active Comparator (Hierarchical Prior) distribution of mean comparator responses.</td>
</tr>
<tr class="even">
<td>BAAC Tau</td>
<td>1</td>
<td>✔</td>
<td>✔</td>
<td>This is the posterior estimate of the SD of the Bayesian Augmented Active Comparator (Hierarchical Prior) distribution of mean active comparator responses.</td>
</tr>
<tr class="odd">
<td>BAAC Tau SD</td>
<td>1</td>
<td>✔</td>
<td>✔</td>
<td>This is the SD of the posterior estimate of the SD of the Bayesian Augmented Active Comparator (Hierarchical Prior) distribution of mean active comparator responses.</td>
</tr>
<tr class="even">
<td>Duration</td>
<td>1</td>
<td>✔</td>
<td>✔</td>
<td>The time in weeks to the analysis shown.</td>
</tr>
<tr class="odd">
<td>Arm Drop Time &lt;dose&gt;</td>
<td>D</td>
<td>✔</td>
<td>✔</td>
<td>For each treatment arm, the time in weeks when it was decided to drop the arm.</td>
</tr>
<tr class="even">
<td>LPFV</td>
<td>1</td>
<td>✔</td>
<td>✔</td>
<td>The time in weeks to the last patient first visit.</td>
</tr>
<tr class="odd">
<td>QOI Columns</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<section id="qoi-columns-1" class="level3" data-number="3.3.1">
<h3 data-number="3.3.1" class="anchored" data-anchor-id="qoi-columns-1"><span class="header-section-number">3.3.1</span> QOI Columns</h3>
<p>The QOI columns depend on the QOIs that have been defined for this design. The columns are grouped in the following order:</p>
<p>Posterior Probabilities The posterior probability for each QOI for each dose.</p>
<p>Predictive Probabilities The predictive probability for each QOI for each dose.</p>
<p>P-Values The p-value for each QOI for each dose.</p>
<p>Target Probabilities The probability of being the target for each QOI for each dose.</p>
<p>Decision QOIs The value of the decision QOI at the target.</p>
<p>Success</p>
<p>Futile A flag for each QOI decision criteria indicating if the decision QOI was evaluated and compared to a threshold at the interim (weeks file) or final analysis (simulation file). The flag value is -1 if the decision QOI was not evaluated, 0 if it did not meet the threshold and 1 if it did.</p>
<p>Success / Futile Combined A flag indicating if the interim or final analysis determined success or futility taking all the factors defined for Success/Futility into account: 0 if the conditions were not met, 1 it the conditions were met. If success and futility conditions have been defined that are not mutually exclusive and both sets of combined conditions are met, FACTS will pick one of the outcomes as met but not the other. In order to discourage defining Success and Futility rules that can both be true FACTS does not guarantee which outcome will be selected.</p>
</section>
</section>
<section id="contents-of-simulations_freq_missing.csv-weeks_freq_missing.csv" class="level2" data-number="3.4">
<h2 data-number="3.4" class="anchored" data-anchor-id="contents-of-simulations_freq_missing.csv-weeks_freq_missing.csv"><span class="header-section-number">3.4</span> Contents of Simulations_freq_&lt;missing&gt;.csv, Weeks_freq_&lt;missing&gt;.csv</h2>
<p>These file contain the frequentist results after an interim analysis (weeks file) or final analysis (simulations file), apart for the first column, the columns are the same in the two types of file, and the same across the different methods for treating missing data.</p>
<table class="caption-top table">
<caption>Figure 7‑3: Virtual Subject Dichotomous Longitudinal Response</caption>
<colgroup>
<col style="width: 16%">
<col style="width: 13%">
<col style="width: 67%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Column Title</th>
<th style="text-align: left;">Number of columns</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"># Trial</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">The number of the simulation. (simulations_freq_...csv only)</td>
</tr>
<tr class="even">
<td style="text-align: left;">#Weeks</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">The week of the interim (weeks_freq_...csv only)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Theta &lt;dose&gt;</td>
<td style="text-align: left;">D</td>
<td style="text-align: left;">Unadjusted estimate of response per treatment arm</td>
</tr>
<tr class="even">
<td style="text-align: left;">Theta SD &lt;dose&gt;</td>
<td style="text-align: left;">D</td>
<td style="text-align: left;">The SD of the estimate of response per treatment arm</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Trt Effect &lt;dose&gt;</td>
<td style="text-align: left;">D</td>
<td style="text-align: left;">The relative size of the treatment effect compared to control per arm (treatment effect for control is always 0). The direction of the comparison takes into account whether a response represents a subject’s condition improving or worsening, so that a positive treatment effect shows the response on the dose is better than on control.</td>
</tr>
<tr class="even">
<td style="text-align: left;">t-Stat &lt;dose&gt;</td>
<td style="text-align: left;">D</td>
<td style="text-align: left;">The test statistic per treatment arm (for control this is always 0)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">p-Value &lt;dose&gt;</td>
<td style="text-align: left;">D</td>
<td style="text-align: left;">The unadjusted test statistic p-value per arm (for control this is always 0)</td>
</tr>
<tr class="even">
<td style="text-align: left;">lower CI &lt;dose&gt;</td>
<td style="text-align: left;">D</td>
<td style="text-align: left;">The unadjusted lower bound of the alpha confidence interval of the estimated treatment effect per treatment arm (for control this is always 0).</td>
</tr>
<tr class="odd">
<td style="text-align: left;">upper CI &lt;dose&gt;</td>
<td style="text-align: left;">D</td>
<td style="text-align: left;">The unadjusted upper bound of the alpha confidence interval of the estimated treatment effect per treatment arm (for control this is always 0).</td>
</tr>
<tr class="even">
<td style="text-align: left;">Min p-Value</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">The smallest of the test statistic p-values</td>
</tr>
<tr class="odd">
<td style="text-align: left;">p-Value Dunnett &lt;dose&gt;</td>
<td style="text-align: left;">D</td>
<td style="text-align: left;">The Dunnett adjusted test statistic p-value per arm (for control this is always 0).</td>
</tr>
<tr class="even">
<td style="text-align: left;">lower CI Dunnett &lt;dose&gt;</td>
<td style="text-align: left;">D</td>
<td style="text-align: left;">The Dunnett adjusted lower bound of the alpha confidence interval of the estimated treatment effect (for control this is always 0).</td>
</tr>
<tr class="odd">
<td style="text-align: left;">upper CI Dunnett &lt;dose&gt;</td>
<td style="text-align: left;">D</td>
<td style="text-align: left;">The Dunnett adjusted upper bound of the alpha confidence interval of the estimated treatment effect (for control this is always 0).</td>
</tr>
<tr class="even">
<td style="text-align: left;">Min p-Value Dunnett</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">The smallest of the Dunnett adjusted p-values.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">p-Value Bonf &lt;dose&gt;</td>
<td style="text-align: left;">D</td>
<td style="text-align: left;">The Bonferroni adjusted test statistic p-value per arm.</td>
</tr>
<tr class="even">
<td style="text-align: left;">lower-CI Bonf &lt;dose&gt;</td>
<td style="text-align: left;">D</td>
<td style="text-align: left;">The Bonferroni adjusted lower bound of the alpha confidence interval of the estimated treatment effect (for control this is always 0).</td>
</tr>
<tr class="odd">
<td style="text-align: left;">upper-CI Bonf &lt;dose&gt;</td>
<td style="text-align: left;">D</td>
<td style="text-align: left;">The Bonferroni adjusted upper bound of the alpha confidence interval of the estimated treatment effect (for control this is always 0).</td>
</tr>
<tr class="even">
<td style="text-align: left;">Min p-Value Bonf</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">The smallest of the Bonferroni adjusted test statistic value per arm.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">t-Stat trend</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">The t statistic from the trend test.</td>
</tr>
<tr class="even">
<td style="text-align: left;">p-Value trend</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">The p-value from the trend test.</td>
</tr>
</tbody>
</table>
</section>
<section id="contents-of-patientsnnnnn.csv" class="level2" data-number="3.5">
<h2 data-number="3.5" class="anchored" data-anchor-id="contents-of-patientsnnnnn.csv"><span class="header-section-number">3.5</span> Contents of PatientsNNNNN.csv</h2>
<table class="caption-top table">
<caption>Figure 7‑4: Restricted Markov Dose Response</caption>
<colgroup>
<col style="width: 17%">
<col style="width: 14%">
<col style="width: 65%">
</colgroup>
<thead>
<tr class="header">
<th>Column Title</th>
<th style="text-align: left;">Number of columns</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>#Subject</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">The subject id number, starting at 1.</td>
</tr>
<tr class="even">
<td>Region</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">Which region the subject was recruited in</td>
</tr>
<tr class="odd">
<td>Date</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">The date, in weeks from the start of the trial, of the subject’s baseline visit and randomization.</td>
</tr>
<tr class="even">
<td>Dose</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">The index number (1, …) of the treatment arm the subject belongs to.</td>
</tr>
<tr class="odd">
<td>LastVisit#</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">The index of the last visit for which the subjects data was collected, if the subject did not complete this could be because the subject dropped-out, the subject’s treatment arm was dropped (and there was no follow-up) or the study stopped early (and there was no follow-up).</td>
</tr>
<tr class="even">
<td>Baseline</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">-9999 there is no baseline for subjects in a dichotomous response trial.</td>
</tr>
<tr class="odd">
<td>Visit &lt;visit&gt;</td>
<td style="text-align: left;">V</td>
<td style="text-align: left;">Subjects response at each visit</td>
</tr>
</tbody>
</table>
</section>
<section id="contents-of-mcmcnnnnn.csv" class="level2" data-number="3.6">
<h2 data-number="3.6" class="anchored" data-anchor-id="contents-of-mcmcnnnnn.csv"><span class="header-section-number">3.6</span> Contents of MCMCNNNNN.csv</h2>
<p>The MCMC file if requested for output by the user, contains all the MCMC samples for the fitted parameters in the design. There is one row per sample (including the burnin) and the samples from all the analyses in the simulation are included. The first two columns are the analysis index and the sample (within analysis) index. The remaining columns are the parameters whose sample values are being reported, the number and constituents of these columns are highly variable depending on design of the statistical analysis.</p>
<section id="content-if-using-a-conventional-dichotomous-endpoint" class="level3" data-number="3.6.1">
<h3 data-number="3.6.1" class="anchored" data-anchor-id="content-if-using-a-conventional-dichotomous-endpoint"><span class="header-section-number">3.6.1</span> Content if using a conventional Dichotomous endpoint</h3>
<table class="caption-top table">
<caption>Figure 7‑9: External Data</caption>
<colgroup>
<col style="width: 16%">
<col style="width: 14%">
<col style="width: 66%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Column Title</th>
<th style="text-align: left;">Number of columns</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Analysis</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">The index of the analysis (interim) in the simulation</td>
</tr>
<tr class="even">
<td style="text-align: left;">Sample</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">The index of the sample within the analysis</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Pi &lt;dose&gt;</td>
<td style="text-align: left;">D</td>
<td style="text-align: left;">The estimate of the response rate for each dose, based on the dose response model fitted</td>
</tr>
<tr class="even">
<td style="text-align: left;">A &lt;1-8&gt; / Tau</td>
<td style="text-align: left;">P</td>
<td style="text-align: left;">If the dose response model estimates parameters then the samples of these are listed next. The number and name of the parameters will vary depending on the model being fitted. Check the Design &gt; Dose Response tab for a listing of the parameters.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Longmod &lt;model&gt; &lt;param&gt; &lt;visit&gt;</td>
<td style="text-align: left;">L * P * V</td>
<td style="text-align: left;">If the analysis includes longitudinal modelling then the samples of the parameters of the longitudinal models are output. The number of models depends on the number of different longitudinal fits the user has specified (one over all arms, one for control and one for all treatment arms, model all arms separately, etc.), the number of parameters the model has, and if these are fitted per visit (which depends on the model being fitted), then the number of visits.</td>
</tr>
</tbody>
</table>
</section>
<section id="contents-if-using-a-restricted-markov-endpoint" class="level3" data-number="3.6.2">
<h3 data-number="3.6.2" class="anchored" data-anchor-id="contents-if-using-a-restricted-markov-endpoint"><span class="header-section-number">3.6.2</span> Contents if using a Restricted Markov endpoint</h3>
<table class="caption-top table">
<caption>Figure 7‑10 External Data directory</caption>
<colgroup>
<col style="width: 16%">
<col style="width: 14%">
<col style="width: 66%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Column Title</th>
<th style="text-align: left;">Number of columns</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Analysis</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">The index of the analysis (interim) in the simulation</td>
</tr>
<tr class="even">
<td style="text-align: left;">Sample</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">The index of the sample within the analysis</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Pi &lt;Dose&gt;</td>
<td style="text-align: left;">D</td>
<td style="text-align: left;">The estimate of the response rate for each dose, based on the dose response model fitted</td>
</tr>
<tr class="even">
<td style="text-align: left;">A &lt;1-8&gt; / Tau</td>
<td style="text-align: left;">P</td>
<td style="text-align: left;">If the dose response model estimates parameters then the samples of these are listed next. The number and name of the parameters will vary depending on the model being fitted. Check the Design &gt; Dose Response tab for a listing of the parameters.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Longmod &lt;model&gt; &lt;param&gt; &lt;visit&gt;</td>
<td style="text-align: left;">L * P * V</td>
<td style="text-align: left;">Currently the values of Alpha0, Alpha1, AlphaS (the parameters to the Dirichlet distribution) are (unnecessarily – these values are not sampled) output, along with the values for P0, P1 and PS the transition probabilities of each model at each visit.</td>
</tr>
</tbody>
</table>
</section>
<section id="contents-if-using-a-dichotomized-continuous-variable" class="level3" data-number="3.6.3">
<h3 data-number="3.6.3" class="anchored" data-anchor-id="contents-if-using-a-dichotomized-continuous-variable"><span class="header-section-number">3.6.3</span> Contents if using a Dichotomized Continuous variable</h3>
<p>These are the same as for the Dichotomous endpoint, but the LM parameters are for the LM of the continuous response value.</p>


</section>
</section>
</section>

</main> <!-- /main -->
<!-- footer.html -->
<footer>
  <p>© <span id="year"></span> <a href="https://www.berryconsultants.com">Berry Consultants</a></p>
  <!-- <p>Made with <span style="color: #11A473;">❤</span> and <a href="https://quarto.org">Quarto</a></p> -->
</footer>

<script>
  document.getElementById('year').textContent = new Date().getFullYear();
</script>
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>